/*
 * BIMViews V2.0.0
 *
 * A WebGL-based IFC Viewer for BIMSurfer
 * http://bimwiews.org/
 *
 * Built on 2015-09-02
 *
 * todo
 * Copyright 2015, todo
 * http://bimvie.ws
 *
 */

function BimServerApi(a,b){if("undefined"!=typeof jQuery&&c!==jQuery)var c=jQuery;var d=this;d.interfaceMapping={ServiceInterface:"org.bimserver.ServiceInterface",AuthInterface:"org.bimserver.AuthInterface",SettingsInterface:"org.bimserver.SettingsInterface",AdminInterface:"org.bimserver.AdminInterface",PluginInterface:"org.bimserver.PluginInterface",MetaInterface:"org.bimserver.MetaInterface",Bimsie1LowLevelInterface:"org.buildingsmart.bimsie1.Bimsie1LowLevelInterface",Bimsie1NotificationRegistryInterface:"org.buildingsmart.bimsie1.Bimsie1NotificationRegistryInterface",Bimsie1AuthInterface:"org.buildingsmart.bimsie1.Bimsie1AuthInterface",Bimsie1ServiceInterface:"org.buildingsmart.bimsie1.Bimsie1ServiceInterface"},d.jsonSerializerFetcher=new Synchronizer(function(a){d.call("PluginInterface","getSerializerByPluginClassName",{pluginClassName:"org.bimserver.serializers.JsonSerializerPlugin"},function(b){a(b.oid)})}),d.translations={GETDATAOBJECTSBYTYPE_BUSY:"Loading objects",REQUESTPASSWORDCHANGE_BUSY:"Busy sending password reset e-mail",REQUESTPASSWORDCHANGE_DONE:"A password reset e-mail has been sent",SETSERVERSETTINGS_DONE:"Server settings successfully updated",ENABLEPLUGIN_DONE:"Plugin successfully enabled",DISABLEPLUGIN_DONE:"Plugin successfully disabled",SETDEFAULTWEBMODULE_DONE:"Default webmodule changed",SETDEFAULTQUERYENGINE_DONE:"Default Query Engine successfully changed",SETDEFAULTMODELMERGER_DONE:"Default Model Merger successfully changed",SETDEFAULTSERIALIZER_DONE:"Default Serializer successfully changed",SETDEFAULTOBJECTIDM_DONE:"Default ObjectIDM successfully changed",SETDEFAULTRENDERENGINE_DONE:"Default Render Engine successfully changed",SETDEFAULTMODELCOMPARE_DONE:"Default Model Compare successfully changed",LOGIN_BUSY:"Trying to login",CHANGEUSERTYPE_DONE:"Type of user successfully changed",ADDUSER_DONE:"User successfully added",UPDATEINTERNALSERVICE_DONE:"Internal service successfully updated",UPDATEMODELCOMPARE_DONE:"Model compare plugin successfully updated",UPDATEMODELMERGER_DONE:"Model merger successfully updated",UPDATEQUERYENGINE_DONE:"Query engine plugin successfully updated",UPDATEOBJECTIDM_DONE:"ObjectIDM succesfully updated",UPDATEDESERIALIZER_DONE:"Serializer succesfully updated",ADDUSERTOPROJECT_DONE:"User successfully added to project",REMOVEUSERFROMPROJECT_DONE:"User successfully removed from project",UNDELETEPROJECT_DONE:"Project successfully undeleted",DELETEPROJECT_DONE:"Project successfully deleted",ADDPROJECT_DONE:"Project successfully added",DOWNLOAD_BUSY:"Busy downloading...",VALIDATEACCOUNT_DONE:"Account successfully validated, you can now login",ADDPROJECTASSUBPROJECT_DONE:"Sub project added successfully",DOWNLOADBYJSONQUERY_BUSY:"Downloading BIM",CHECKINFROMURL_DONE:"Done checking in from URL",GETLOGGEDINUSER_BUSY:"Getting user details",SETPLUGINSETTINGS_DONE:"Plugin settings successfully saved",GETSERVERINFO_BUSY:"Getting server info",GETVERSION_BUSY:"Getting server version",GETPROJECTBYPOID_BUSY:"Getting project details",GETALLRELATEDPROJECTS_BUSY:"Getting related project's details",GETSERIALIZERBYPLUGINCLASSNAME_BUSY:"Getting serializer info",CLEANUPLONGACTION_BUSY:"Cleaning up",GETREVISIONSUMMARY_BUSY:"Getting revision summary",DOWNLOADBYOIDS_BUSY:"Downloading model data",REGISTERPROGRESSHANDLER_BUSY:"Registering for updates on progress",GETALLREVISIONSOFPROJECT_BUSY:"Getting all revisions of project",GETPLUGINDESCRIPTOR_BUSY:"Getting plugin information",GETUSERSETTINGS_BUSY:"Getting user settings",GETALLQUERYENGINES_BUSY:"Getting query engines",REGISTERNEWPROJECTHANDLER_BUSY:"Registering for updates on new projects"},d.token=null,d.baseUrl=a,"/"==d.baseUrl.substring(d.baseUrl.length-1)&&(d.baseUrl=d.baseUrl.substring(0,d.baseUrl.length-1)),d.address=d.baseUrl+"/json",d.notifier=b,null==d.notifier&&(d.notifier={setInfo:function(a,b){},setSuccess:function(a,b){},setError:function(){},resetStatus:function(){},resetStatusQuick:function(){},clear:function(){}}),d.server=new BimServerWebSocket(a,d),d.user=null,d.listeners={},d.autoLoginTried=!1,d.serializersByPluginClassName=[],d.debug=!1,d.classes={},d.binaryDataListener={},d.schemas={},this.init=function(a){d.call("AdminInterface","getServerInfo",{},function(b){d.version=b.version;var e=d.version.major+"."+d.version.minor+"."+d.version.revision;a(this,b),c.ajax({dataType:"json",url:d.baseUrl+"/js/ifc2x3tc1.js?_v="+e,cache:!0,success:function(a){d.schemas.ifc2x3tc1=a.classes,d.addSubtypesToSchema(a.classes),c.ajax({dataType:"json",url:d.baseUrl+"/js/ifc4.js?_v="+e,cache:!0,success:function(a){d.schemas.ifc4=a.classes,d.addSubtypesToSchema(a.classes)}})}})})},this.addSubtypesToSchema=function(a){for(var b in a){var c=a[b];null!=c.superclasses&&c.superclasses.forEach(function(c){var d=a[c].directSubClasses;null==d&&(d=[],a[c].directSubClasses=d),d.push(b)})}},this.getAllSubTypes=function(a,b,c){var e=a[b];null!=e.directSubClasses&&e.directSubClasses.forEach(function(b){c(b),d.getAllSubTypes(a,b,c)})},this.log=function(a,b){d.debug&&console.log(a,b)},this.translate=function(a){return a=a.toUpperCase(),null!=d.translations[a]?d.translations[a]:(d.log("translation for "+a+" not found"),a)},this.login=function(a,b,e,f,g,h){var i={username:a,password:b};d.call("Bimsie1AuthInterface","login",i,function(a){d.token=a,e?(c.cookie("autologin"+window.document.location.port,d.token,{expires:31,path:"/"}),c.cookie("address"+window.document.location.port,d.baseUrl,{expires:31,path:"/"})):(c.cookie("autologin"+window.document.location.port,d.token,{path:"/"}),c.cookie("address"+window.document.location.port,d.baseUrl,{path:"/"})),d.notifier.setInfo("Login successful",2e3),d.resolveUser(),d.server.connect(f)},g)},this.downloadViaWebsocket=function(a){a.action="download",a.token=d.token,d.server.send(a)},this.setBinaryDataListener=function(a,b){d.binaryDataListener[a]=b},this.processNotification=function(a){if(a instanceof ArrayBuffer){var b=new DataView(a,0,4),c=b.getInt32(0),e=d.binaryDataListener[c];e(a)}else{var f=a["interface"];if(null!=d.listeners[f])if(null!=d.listeners[f][a.method]){var g=null;d.listeners[f][a.method].forEach(function(b){if(null==g){g=[];var c=0;for(var d in a.parameters)g[c++]=a.parameters[d]}b.apply(null,g)})}else console.log("No listeners on interface "+f+" for method "+a.method);else console.log("No listeners for interface "+f)}},this.resolveUser=function(a){d.call("AuthInterface","getLoggedInUser",{},function(b){d.user=b,null!=a&&a(d.user)})},this.logout=function(a){c.removeCookie("autologin"+window.document.location.port,{path:"/"}),d.call("Bimsie1AuthInterface","logout",{},function(){d.notifier.setInfo("Logout successful"),a()})},this.generateRevisionDownloadUrl=function(a){return d.baseUrl+"/download?token="+d.token+"&longActionId="+a.laid+(a.zip?"&zip=on":"")+"&serializerOid="+a.serializerOid+"&topicId="+a.topicId},this.generateExtendedDataDownloadUrl=function(a){return d.baseUrl+"/download?token="+d.token+"&action=extendeddata&edid="+a},this.getSerializerByPluginClassName=function(a,b){null==d.serializersByPluginClassName[name]?d.call("PluginInterface","getSerializerByPluginClassName",{pluginClassName:a},function(a){d.serializersByPluginClassName[name]=a,b(a)}):b(d.serializersByPluginClassName[name])},this.getMessagingSerializerByPluginClassName=function(a,b){null==d.serializersByPluginClassName[name]?d.call("PluginInterface","getMessagingSerializerByPluginClassName",{pluginClassName:a},function(a){d.serializersByPluginClassName[name]=a,b(a)}):b(d.serializersByPluginClassName[name])},this.register=function(a,b,c,e){if(null==c)throw"Cannot register null callback";null==d.listeners[a]&&(d.listeners[a]={}),null==d.listeners[a][b]&&(d.listeners[a][b]=[]),d.listeners[a][b].push(c),null!=e&&e()},this.registerNewRevisionOnSpecificProjectHandler=function(a,b,c){d.register("Bimsie1NotificationInterface","newRevision",b,function(){d.call("Bimsie1NotificationRegistryInterface","registerNewRevisionOnSpecificProjectHandler",{endPointId:d.server.endPointId,poid:a},function(){null!=c&&c()})})},this.registerNewExtendedDataOnRevisionHandler=function(a,b,c){d.register("Bimsie1NotificationInterface","newExtendedData",b,function(){d.call("Bimsie1NotificationRegistryInterface","registerNewExtendedDataOnRevisionHandler",{endPointId:d.server.endPointId,roid:a},function(){null!=c&&c()})})},this.registerNewUserHandler=function(a,b){d.register("Bimsie1NotificationInterface","newUser",a,function(){d.call("Bimsie1NotificationRegistryInterface","registerNewUserHandler",{endPointId:d.server.endPointId},function(){null!=b&&b()})})},this.unregisterNewUserHandler=function(a,b){d.unregister(a),d.call("Bimsie1NotificationRegistryInterface","unregisterNewUserHandler",{endPointId:d.server.endPointId},function(){null!=b&&b()})},this.unregisterChangeProgressProjectHandler=function(a,b,c,e){d.unregister(b),d.unregister(c),d.call("Bimsie1NotificationRegistryInterface","unregisterChangeProgressOnProject",{poid:a,endPointId:d.server.endPointId},e)},this.registerChangeProgressProjectHandler=function(a,b,c,e){d.register("Bimsie1NotificationInterface","newProgressOnProjectTopic",b,function(){d.register("Bimsie1NotificationInterface","closedProgressOnProjectTopic",c,function(){d.call("Bimsie1NotificationRegistryInterface","registerChangeProgressOnProject",{poid:a,endPointId:d.server.endPointId},function(){null!=e&&e()})})})},this.unregisterChangeProgressServerHandler=function(a,b,c){d.unregister(a),d.unregister(b),null!=d.server.endPointId&&d.call("Bimsie1NotificationRegistryInterface","unregisterChangeProgressOnServer",{endPointId:d.server.endPointId},c)},this.registerChangeProgressServerHandler=function(a,b,c){d.register("Bimsie1NotificationInterface","newProgressOnServerTopic",a,function(){d.register("Bimsie1NotificationInterface","closedProgressOnServerTopic",b,function(){d.call("Bimsie1NotificationRegistryInterface","registerChangeProgressOnServer",{endPointId:d.server.endPointId},function(){null!=c&&c()})})})},this.unregisterChangeProgressRevisionHandler=function(a,b,c,e){d.unregister(b),d.unregister(c),d.call("Bimsie1NotificationRegistryInterface","unregisterChangeProgressOnProject",{roid:a,endPointId:d.server.endPointId},e)},this.registerChangeProgressRevisionHandler=function(a,b,c,e,f){d.register("Bimsie1NotificationInterface","newProgressOnRevisionTopic",c,function(){d.register("Bimsie1NotificationInterface","closedProgressOnRevisionTopic",e,function(){d.call("Bimsie1NotificationRegistryInterface","registerChangeProgressOnRevision",{poid:a,roid:b,endPointId:d.server.endPointId},function(){null!=f&&f()})})})},this.registerNewProjectHandler=function(a,b){d.register("Bimsie1NotificationInterface","newProject",a,function(){d.call("Bimsie1NotificationRegistryInterface","registerNewProjectHandler",{endPointId:d.server.endPointId},function(){null!=b&&b()})})},this.unregisterNewProjectHandler=function(a,b){d.unregister(a),null!=d.server.endPointId&&d.call("Bimsie1NotificationRegistryInterface","unregisterNewProjectHandler",{endPointId:d.server.endPointId},function(){null!=b&&b()})},this.unregisterNewRevisionOnSpecificProjectHandler=function(a,b,c){d.unregister(b),d.call("Bimsie1NotificationRegistryInterface","unregisterNewRevisionOnSpecificProjectHandler",{endPointId:d.server.endPointId,poid:a},function(){null!=c&&c()})},this.unregisterNewExtendedDataOnRevisionHandler=function(a,b,c){d.unregister(b),d.call("Bimsie1NotificationRegistryInterface","unregisterNewExtendedDataOnRevisionHandler",{endPointId:d.server.endPointId,roid:a},function(){null!=c&&c()})},this.registerProgressHandler=function(a,b,c){d.register("Bimsie1NotificationInterface","progress",b,function(){d.call("Bimsie1NotificationRegistryInterface","registerProgressHandler",{topicId:a,endPointId:d.server.endPointId},function(){null!=c&&c()})})},this.unregisterProgressHandler=function(a,b,c){d.unregister(b),d.call("Bimsie1NotificationRegistryInterface","unregisterProgressHandler",{topicId:a,endPointId:d.server.endPointId},function(){}).done(c)},this.unregister=function(a){for(var b in d.listeners)for(var c in d.listeners[b])for(var e=d.listeners[b][c],f=0;f<e.length;f++)if(e[f]===a)return void e.splice(f,1)},this.callWs=function(a,b,c){var e={request:d.createRequest(a,b,c)};null!=d.token&&(e.token=d.token),d.server.send(e)},this.createRequest=function(a,b,c){var d={};return d["interface"]=a,d.method=b,d.parameters=c,d},this.multiCall=function(a,b,e,f,g,h){var i=new Promise,j=null;if(1==a.length)j=a[0],null==d.interfaceMapping[j[0]]&&d.log("Interface "+j[0]+" not found"),j={request:d.createRequest(d.interfaceMapping[j[0]],j[1],j[2])};else if(a.length>1){var k=[];a.forEach(function(a){k.push(d.createRequest(d.interfaceMapping[a[0]],a[1],a[2]))}),j={requests:k}}else 0==a.length&&(i.fire(),b());null!=d.token&&(j.token=d.token);var l=a[0][1];a.forEach(function(a,b){b>0&&(l+="_"+a)});var m=!1;return f&&(null!=d.lastBusyTimeOut&&(clearTimeout(d.lastBusyTimeOut),d.lastBusyTimeOut=null),"undefined"!=typeof window&&null!=window.setTimeout&&(d.lastBusyTimeOut=window.setTimeout(function(){d.notifier.setInfo(d.translate(l+"_BUSY"),-1),m=!0},200))),d.log("request",j),c.ajax(d.address,{type:"POST",contentType:"application/json; charset=UTF-8",data:JSON.stringify(j),dataType:"json",success:function(j){d.log("response",j);var k=[];1==a.length?(f&&null!=d.lastBusyTimeOut&&clearTimeout(d.lastBusyTimeOut),null!=j.response.exception?"Invalid token"!=j.response.exception.message||d.autoLoginTried||null==c.cookie("username"+window.document.location.port)||null==c.cookie("autologin"+window.document.location.port)?h?(null!=d.lastTimeOut&&clearTimeout(d.lastTimeOut),d.notifier.setError(j.response.exception.message)):m&&d.notifier.resetStatus():d.autologin(c.cookie("username"+window.document.location.port),c.cookie("autologin"+window.document.location.port),function(){d.log("Trying to connect with autologin"),d.multiCall(a,b,e)}):g?d.notifier.setSuccess(d.translate(l+"_DONE"),5e3):m&&d.notifier.resetStatus()):a.length>1&&j.responses.forEach(function(a){null!=a.exception&&(null==e?d.notifier.setError(a.exception.message):k.push(a.exception))}),k.length>0?e(k):1==a.length?b(j.response):a.length>1&&b(j.responses),i.fire()},error:function(a,c,e){if("abort"==c||(d.log(e),d.log(c),d.log(a),null!=d.lastTimeOut&&clearTimeout(d.lastTimeOut),d.notifier.setError("ERROR_REMOTE_METHOD_CALL")),null!=b){var f=new Object;f.error=c,f.ok=!1,b(f)}i.fire()}}),i},this.getModel=function(a,b,c,e,f){var g=new Model(d,a,b,c);return g.load(e,f),g},this.createModel=function(a,b){var c=new Model(d,a);return c.init(b),c},this.callWithNoIndication=function(a,b,c,e){return d.call(a,b,c,e,null,!1,!1,!1)},this.callWithFullIndication=function(a,b,c,e){return d.call(a,b,c,e,null,!0,!0,!0)},this.callWithUserErrorIndication=function(a,b,c){return d.call(interfaceName,methodName,b,c,null,!1,!1,!0)},this.callWithUserErrorAndDoneIndication=function(a,b,c){return d.call(interfaceName,methodName,b,c,null,!1,!0,!0)},this.isA=function(a,b,c){var e=!1;if(b==c)return!0;var f=d.schemas[a][b];return null==f&&console.log(b,"not found"),f.superclasses.some(function(b){return b==c?(e=!0,!0):d.isA(a,b,c)?(e=!0,!0):!1}),e},this.setToken=function(a,b,c){d.token=a,d.call("AuthInterface","getLoggedInUser",{},function(a){d.user=a,d.server.connect(b)},function(){c()})},this.call=function(a,b,c,e,f,g,h,i){var g="undefined"!=typeof g?g:!0,h="undefined"!=typeof h?h:!1,i="undefined"!=typeof i?i:!0;return d.multiCall([[a,b,c]],function(a){null==a.exception?null!=e&&e(a.result):null!=f&&f(a.exception)},f,g,h,i)},d.server.listener=d.processNotification}function Synchronizer(a){var b=this;b.result=null,b.state="none",b.waiters=[],this.notify=function(a){b.result=a,b.state="done",b.waiters.forEach(function(b){b(a)}),b.waiters=[]},this.fetch=function(c){"none"==b.state?(b.waiters.push(c),b.state="fetching",a(b.notify)):"done"==b.state?c(b.result):"fetching"==b.state&&b.waiters.push(c)}}function Model(a,b,c,d){if("undefined"!=typeof jQuery&&e!==jQuery)var e=jQuery;var f=this;f.schema=d,f.bimServerApi=a,f.poid=b,f.roid=c,f.waiters=[],f.objects={},f.objectsByGuid={},f.objectsByName={},f.oidsFetching={},f.guidsFetching={},f.namesFetching={},f.loadedTypes=[],f.loadedDeep=!1,f.changedObjectOids={},f.doneCallbacks=[],f.runningCalls=0,f.loading=!1,f.logging=!0,f.changes=0,f.changeListeners=[],f.transactionSynchronizer=new Synchronizer(function(b){a.call("Bimsie1LowLevelInterface","startTransaction",{poid:f.poid},function(a){b(a)})}),this.init=function(a){f.incrementRunningCalls("init"),f.transactionSynchronizer.fetch(function(){a(f),f.decrementRunningCalls("init")})},this.load=function(b,c){b?(f.loading=!0,f.incrementRunningCalls("load"),f.bimServerApi.jsonSerializerFetcher.fetch(function(b){a.call("Bimsie1ServiceInterface","download",{roid:f.roid,serializerOid:b,showOwn:!0,sync:!0},function(d){var g=a.generateRevisionDownloadUrl({laid:d,topicId:d,serializerOid:b});e.getJSON(g,function(b,e,g){b.objects.forEach(function(a){f.objects[a._i]=f.createWrapper(a,a._t)}),f.loading=!1,f.loadedDeep=!0,f.waiters.forEach(function(a){a()}),f.waiters=[],a.call("ServiceInterface","cleanupLongAction",{actionId:d},function(){null!=c&&c(f),f.decrementRunningCalls("load")})})})})):(f.loaded=!0,null!=c&&c(f))},this.create=function(b,c,d){return f.incrementRunningCalls("create ("+b+")"),f.transactionSynchronizer.fetch(function(e){c._t=b;var g=f.createWrapper({},b);a.call("Bimsie1LowLevelInterface","createObject",{tid:e,className:b},function(a){g._i=a,f.objects[c._i]=g,c._s=1,null!=d&&d(c),f.decrementRunningCalls("create ("+b+")")})}),c},this.incrementRunningCalls=function(a){f.runningCalls++,f.bimServerApi.log("inc",a,f.runningCalls)},this.decrementRunningCalls=function(a){f.runningCalls--,f.bimServerApi.log("dec",a,f.runningCalls),0==f.runningCalls&&f.doneCallbacks.forEach(function(a){a(f)})},this.done=function(a){0==f.runningCalls?(f.bimServerApi.log("immediately done"),a(f)):f.doneCallbacks.push(a)},this.waitForLoaded=function(a){f.loaded?a():f.waiters.push(a)},this.commit=function(b,c){f.transactionSynchronizer.fetch(function(d){a.call("Bimsie1LowLevelInterface","commitTransaction",{tid:d,comment:b},function(a){null!=c&&c(a)})})},this.abort=function(b){f.transactionSynchronizer.fetch(function(c){a.call("Bimsie1LowLevelInterface","abortTransaction",{tid:c},function(a){null!=b&&b()})})},this.addChangeListener=function(a){f.changeListeners.push(a)},this.incrementChanges=function(){f.changes++,f.changeListeners.forEach(function(a){a(f.changes)})},this.extendClass=function(b,c){var d=f.bimServerApi.schemas[f.schema][c];d.superclasses.forEach(function(a){f.extendClass(b,a)});for(var e in d.fields){var g=d.fields[e];!function(c,d){c.reference?(b["set"+d.firstUpper()+"Wrapped"]=function(b,c){var e=this.object;e[d]={_t:b,value:c},f.incrementRunningCalls("set"+d.firstUpper()+"Wrapped"),f.transactionSynchronizer.fetch(function(g){var h=f.bimServerApi.schema[b],i=h.fields.wrappedValue;"string"==i.type&&a.call("Bimsie1LowLevelInterface","setWrappedStringAttribute",{tid:g,oid:e._i,attributeName:d,type:b,value:c},function(){null==e.changedFields&&(e.changedFields={}),e.changedFields[d]=!0,f.changedObjectOids[e.oid]=!0,f.incrementChanges(),f.decrementRunningCalls("set"+d.firstUpper()+"Wrapped")})})},b["set"+d.firstUpper()]=function(b){var c=this.object;f.transactionSynchronizer.fetch(function(e){c[d]=b,f.incrementRunningCalls("set"+d.firstUpper()),null==b?a.call("Bimsie1LowLevelInterface","unsetReference",{tid:e,oid:c._i,referenceName:d},function(){f.decrementRunningCalls("set"+d.firstUpper()),null==c.changedFields&&(c.changedFields={}),c.changedFields[d]=!0,f.changedObjectOids[c.oid]=!0}):a.call("Bimsie1LowLevelInterface","setReference",{tid:e,oid:c._i,referenceName:d,referenceOid:b._i},function(){f.decrementRunningCalls("set"+d.firstUpper()),null==c.changedFields&&(c.changedFields={}),c.changedFields[d]=!0,f.changedObjectOids[c.oid]=!0})})},b["add"+d.firstUpper()]=function(b,c){var e=this.object;f.transactionSynchronizer.fetch(function(g){null==e[d]&&(e[d]=[]),e[d].push(b),f.incrementRunningCalls("add"+d.firstUpper()),a.call("Bimsie1LowLevelInterface","addReference",{tid:g,oid:e._i,referenceName:d,referenceOid:b._i},function(){f.decrementRunningCalls("add"+d.firstUpper()),null==e.changedFields&&(e.changedFields={}),e.changedFields[d]=!0,f.changedObjectOids[e.oid]=!0,null!=c&&c()})})},b["remove"+d.firstUpper()]=function(b,c){var e=this.object;f.transactionSynchronizer.fetch(function(g){var h=e[d],i=h.indexOf(b);h.splice(i,1),f.incrementRunningCalls("remove"+d.firstUpper()),a.call("Bimsie1LowLevelInterface","removeReference",{tid:g,oid:e._i,referenceName:d,index:i},function(){f.decrementRunningCalls("remove"+d.firstUpper()),null==e.changedFields&&(e.changedFields={}),e.changedFields[d]=!0,f.changedObjectOids[e.oid]=!0,null!=c&&c()})})},b["get"+d.firstUpper()]=function(a){var b=this.object,e=this.model,g=new Promise;if(null!=b[d])return c.many?b[d].forEach(function(b){a(b)}):a(b[d]),g.fire(),g;var h=b["_e"+d];if(null!=h)return a(h),g.fire(),g;var i=b["_r"+d];if(c.many)null==b[d]&&(b[d]=[]),null!=i?e.get(i,function(c){b[d].push(c),a(c)}).done(function(){g.fire()}):g.fire();else if(null!=i){var j=f.objects[i];-1==i?(a(null),g.fire()):null==j||0==j.object._s?e.get(i,function(c){b[d]=c,a(c)}).done(function(){g.fire()}):(b[d]=j,a(j),g.fire())}else a(null),g.fire();return g}):(b["get"+d.firstUpper()]=function(a){var b=this.object;return c.many&&(null==b[d]&&(b[d]=[]),b[d].push=function(a){}),null!=a&&a(b[d]),b[d]},b["set"+d.firstUpper()]=function(b){var e=this.object;e[d]=b,f.incrementRunningCalls("set"+d.firstUpper()),f.transactionSynchronizer.fetch(function(g){c.many?a.call("Bimsie1LowLevelInterface","setDoubleAttributes",{tid:g,oid:e._i,attributeName:d,values:b},function(){f.decrementRunningCalls("set"+d.firstUpper())}):(null==b?a.call("Bimsie1LowLevelInterface","unsetAttribute",{tid:g,oid:e._i,attributeName:d},function(){f.decrementRunningCalls("set"+d.firstUpper())}):"string"==c.type?a.call("Bimsie1LowLevelInterface","setStringAttribute",{tid:g,oid:e._i,attributeName:d,value:b},function(){f.decrementRunningCalls("set"+d.firstUpper())}):"double"==c.type?a.call("Bimsie1LowLevelInterface","setDoubleAttribute",{tid:g,oid:e._i,attributeName:d,value:b},function(){f.decrementRunningCalls("set"+d.firstUpper())}):"boolean"==c.type?a.call("Bimsie1LowLevelInterface","setBooleanAttribute",{tid:g,oid:e._i,attributeName:d,value:b},function(){f.decrementRunningCalls("set"+d.firstUpper())}):"int"==c.type?a.call("Bimsie1LowLevelInterface","setIntegerAttribute",{tid:g,oid:e._i,attributeName:d,value:b},function(){f.decrementRunningCalls("set"+d.firstUpper())}):"enum"==c.type?a.call("Bimsie1LowLevelInterface","setEnumAttribute",{tid:g,oid:e._i,attributeName:d,value:b},function(){f.decrementRunningCalls("set"+d.firstUpper())}):(f.bimServerApi.log("Unimplemented type "+typeof b),f.decrementRunningCalls("set"+d.firstUpper())),e[d]=b),null==e.changedFields&&(e.changedFields={}),e.changedFields[d]=!0,f.changedObjectOids[e.oid]=!0})})}(g,e)}},this.dumpByType=function(){var a={},b={};for(var c in f.objects){var d=f.objects[c],e=d.getType(),g=a[e];if(1==d.object._s&&(null==g?a[e]=1:a[e]=g+1),0==d.object._s){var g=b[e];null==g?b[e]=1:b[e]=g+1}}console.log("LOADED");for(var e in a)console.log(e,a[e]);console.log("NOT_LOADED");for(var e in b)console.log(e,b[e])},this.getClass=function(b){if(null==f.bimServerApi.classes[b]){var c=f.bimServerApi.schemas[f.schema][b];if(null==c){if("GeometryInfo"==b)return null;throw"Type "+b+" not found in schema "+f.schema}var d={};d.isA=function(a){return f.bimServerApi.isA(f.schema,this.object._t,a)},d.getType=function(){return this.object._t},d.remove=function(b){f.incrementRunningCalls("removeObject"),f.transactionSynchronizer.fetch(function(c){a.call("Bimsie1LowLevelInterface","removeObject",{tid:c,oid:this.object._i},function(){null!=b&&b(),delete f.objects[this.object._i],f.decrementRunningCalls("removeObject")})})},f.extendClass(d,b),f.bimServerApi.classes[b]=d}return f.bimServerApi.classes[b]},this.createWrapper=function(a,b){null!=f.objects[a._i]&&console.log("Warning!",a),a.oid=a._i;var c=f.getClass(b),d=Object.create(c);return d.trans={mode:2},d.oid=a.oid,d.model=f,d.object=a,d},this.size=function(b){a.call("Bimsie1ServiceInterface","getRevision",{roid:c},function(a){b(a.size)})},this.count=function(b,d,e){f.incrementRunningCalls("count ("+b+")"),a.call("Bimsie1LowLevelInterface","count",{roid:c,className:b},function(a){e(a),f.decrementRunningCalls("count ("+b+")")})},this.getByX=function(b,c,d,g,h,i,j,k,l){var m=new Promise;return f.incrementRunningCalls(b+"("+k+")"),("string"==typeof k||"number"==typeof k)&&(k=[k]),f.waitForLoaded(function(){for(var n=k.length;n--;){var o=k[n];if(null!=g[o]){var p=g[o].object;if(1==p._s){var q=k.indexOf(o);k.splice(q,1),l(g[o])}}else if(null!=d[o]){d[o].push(l);var q=k.indexOf(o);k.splice(q,1)}}k.length>0?(k.forEach(function(a){d[a]=[]}),f.bimServerApi.jsonSerializerFetcher.fetch(function(n){var o={roids:[f.roid],serializerOid:n,deep:!1,sync:!0};o[i]=k,a.call("Bimsie1ServiceInterface",h,o,function(h){var i=a.generateRevisionDownloadUrl({laid:h,topicId:h,serializerOid:n});e.getJSON(i,function(i,n,o){if(i.objects.length>0){var p=0;i.objects.forEach(function(c){var n=null;null!=f.objects[c._i]?(n=f.objects[c._i],1!=n.object._s&&(n.object=c)):n=f.createWrapper(c,c._t);var o=j(c);-1!=e.inArray(o,k)&&(g[o]=n,null!=d[o]&&(d[o].forEach(function(a){a(n)}),delete d[o]),l(n)),p++,p==i.objects.length&&a.call("ServiceInterface","cleanupLongAction",{actionId:h},function(){f.decrementRunningCalls(b+"("+k+")"),m.fire()})})}else f.bimServerApi.log("Object with "+c+" "+k+" not found"),l(null),m.fire()})})})):(f.decrementRunningCalls(b+"("+k+")"),m.fire())}),m},this.getByGuids=function(a,b){return f.getByX("getByGuid","guid",f.guidsFetching,f.objectsByGuid,"downloadByGuids","guids",function(a){return a.GlobalId},a,b)},this.get=function(a,b){return f.getByX("get","OID",f.oidsFetching,f.objects,"downloadByOids","oids",function(a){return a._i},a,b)},this.getByName=function(a,b){return f.getByX("getByName","name",f.namesFetching,f.objectsByName,"downloadByNames","names",function(a){return null==a.getName?null:a.getName()},a,b)},this.query=function(b,c){var d=new Promise,g={};return b.queries.forEach(function(a){if(null!=a.type&&(g[a.type]=!0,f.loadedTypes[a.type]={},a.includeAllSubTypes)){var b=f.bimServerApi.schemas[f.schema];f.bimServerApi.getAllSubTypes(b,a.type,function(a){g[a]=!0,f.loadedTypes[a]={}})}}),f.waitForLoaded(function(){f.bimServerApi.jsonSerializerFetcher.fetch(function(h){a.callWithFullIndication("Bimsie1ServiceInterface","downloadByJsonQuery",{roids:[f.roid],jsonQuery:JSON.stringify(b),serializerOid:h,sync:!0},function(b){var i=a.generateRevisionDownloadUrl({laid:b,topicId:b,serializerOid:h});f.bimServerApi.notifier.setInfo("Getting model data...",-1),e.getJSON(i,function(e,h,i){e.objects.forEach(function(a){var b=f.objects[a._i];null==b?(b=f.createWrapper(a,a._t),f.objects[a._i]=b,null!=g[a._t]&&(f.loadedTypes[a._t][b.oid]=b)):1==a._s&&(b.object=a),1==a._s&&c(b)}),a.call("ServiceInterface","cleanupLongAction",{actionId:b},function(){d.fire(),f.bimServerApi.notifier.setSuccess("Model data successfully downloaded...")})})})})}),d},this.getAllOfType=function(b,c,d){var g=new Promise;return f.incrementRunningCalls("getAllOfType"),f.waitForLoaded(function(){if(f.loadedDeep){for(var h in f.objects){var i=f.objects[h];i._t==b&&d(i)}f.decrementRunningCalls("getAllOfType"),g.fire()}else{var j=[];c?f.bimServerApi.getAllSubTypes(f.bimServerApi.schemas[f.schema],b,function(a){j.push(a)}):j.push(b);var k=[];j.forEach(function(a){if(null!=f.loadedTypes[a])for(var b in f.loadedTypes[a])d(f.loadedTypes[a][b]);else k.push(a)}),k.length>0?f.bimServerApi.jsonSerializerFetcher.fetch(function(c){a.call("Bimsie1ServiceInterface","downloadByTypes",{roids:[f.roid],classNames:k,schema:"ifc2x3tc1",includeAllSubtypes:!1,serializerOid:c,useObjectIDM:!1,deep:!1,sync:!0},function(h){var i=a.generateRevisionDownloadUrl({laid:h,topicId:h,serializerOid:c});e.getJSON(i,function(c,e,i){null==f.loadedTypes[b]&&(f.loadedTypes[b]={}),c.objects.forEach(function(a){if(null!=f.objects[a._i]){var c=f.objects[a._i];1==c.object._s?c.isA(b)&&(f.loadedTypes[b][a._i]=c,d(c)):(c.object=a,c.isA(b)&&(f.loadedTypes[b][a._i]=c,d(c)))}else{var c=f.createWrapper(a,a._t);f.objects[a._i]=c,c.isA(b)&&1==a._s&&(f.loadedTypes[b][a._i]=c,d(c))}}),a.call("ServiceInterface","cleanupLongAction",{actionId:h},function(){f.decrementRunningCalls("getAllOfType"),g.fire()})})})}):(f.decrementRunningCalls("getAllOfType"),g.fire())}}),g}}function BimServerWebSocket(a,b){var c=this;this.connected=!1,this.openCallbacks=[],this.endPointId=null,this.listener=null,this.tosend=[],this.tosendAfterConnect=[],this.messagesReceived=0,this.connect=function(a){c.openCallbacks.push(a);var d=b.baseUrl.toString().replace("http://","ws://").replace("https://","wss://")+"/stream";if("WebSocket"in window)try{this._ws=new WebSocket(d),this._ws.binaryType="arraybuffer",this._ws.onopen=this._onopen,this._ws.onmessage=this._onmessage,this._ws.onclose=this._onclose,this._ws.onerror=this._onerror}catch(e){b.notifier.setError("WebSocket error"+(null!=e.message?": "+e.message:""))}else b.notifier.setError('This browser does not support websockets <a href="https://github.com/opensourceBIM/bimvie.ws/wiki/Requirements"></a>')},this._onerror=function(a){console.log(a),b.notifier.setError("WebSocket error"+(null!=a.message?": "+a.message:""))},this._onopen=function(){for(;c.tosendAfterConnect.length>0&&1==c._ws.readyState;){var a=c.tosendAfterConnect.splice(0,1);c._sendWithoutEndPoint(a[0])}},this._sendWithoutEndPoint=function(a){c._ws&&1==c._ws.readyState?c._ws.send(a):c.tosendAfterConnect.push(a)},this._send=function(a){c._ws&&1==c._ws.readyState&&null!=c.endPointId?c._ws.send(a):(console.log("Waiting",a),c.tosend.push(a))},this.send=function(a){var d=JSON.stringify(a);b.log("Sending",d),c._send(d)},this._onmessage=function(a){if(c.messagesReceived++,c.messagesReceived%10==0,a.data instanceof ArrayBuffer)c.listener(a.data);else{var d=JSON.parse(a.data);if(b.log("incoming",d),null!=d.welcome)c._sendWithoutEndPoint(JSON.stringify({token:b.token}));else if(null!=d.endpointid){for(c.endPointId=d.endpointid,c.connected=!0,c.openCallbacks.forEach(function(a){a()});c.tosend.length>0&&1==c._ws.readyState;){var e=c.tosend.splice(0,1);console.log(e[0]),c._send(e[0])}c.openCallbacks=[]}else null!=d.request?c.listener(d.request):null!=d.requests&&d.requests.forEach(function(a){c.listener(a)})}},this._onclose=function(a){c._ws=null,c.connected=!1,c.openCallbacks=[],c.endpointid=null}}function Promise(a){var b=this;b.isDone=!1,b.chains=[],b.callback=null,b.counter=a,this.done=function(a){return b.isDone?a():null!=b.callback?b.callback instanceof Array?b.callback.push(a):b.callback=[b.callback,a]:b.callback=a,b},this.inc=function(){null==b.counter&&(b.counter=0),b.counter++},this.dec=function(){null==b.counter&&(b.counter=0),b.counter--,console.log(b.counter),0==b.counter&&(b.done=!0,b.fire())},this.fire=function(){return b.isDone?void console.log("Promise already fired, not triggering again..."):(b.isDone=!0,void(null!=b.callback&&(b.callback instanceof Array?b.callback.forEach(function(a){a()}):b.callback())))},this.chain=function(a){var c;c=a instanceof Array?a:[a],c.forEach(function(a){a.isDone||(b.chains.push(a),a.done(function(){for(var c=b.chains.length-1;c>=0;c--)b.chains[c]==a&&b.chains.splice(c,1);0==b.chains.length&&b.fire()}))}),0==b.chains.length&&b.fire()}}function Variable(a){var b=this;b.value=a,b.eventRegistry=new EventRegistry,this.set=function(a){b.value=a,b.eventRegistry.trigger(function(b){b(a)})},this.get=function(){return b.value},this.register=b.eventRegistry.register,this.unregister=b.eventRegistry.unregister}function EventRegistry(){var a=this;a.registry=[],this.register=function(b){var c=!1;a.registry.forEach(function(a){a==b&&(c=!0);
}),c||a.registry.push(b)},this.unregister=function(b){for(var c=a.registry.length;c--;)a.registry[c]==b&&a.registry.splice(c,1)},this.size=function(){return a.registry.length},this.trigger=function(b){a.registry.forEach(b)},this.clear=function(){a.registry=[]}}var BIMSURFER={CLASS:"BIMSURFER",VERSION_NUMBER:"2.0 Dev",_isArray:function(a){return a&&!a.propertyIsEnumerable("length")&&"object"==typeof a&&"number"==typeof a.length},_isString:function(a){return"string"==typeof a||a instanceof String},_copy:function(a){return this._apply(a,{})},_apply:function(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},_applyIf:function(a,b){for(var c in a)a.hasOwnProperty(c)&&(void 0===b[c]||null===b[c])&&(b[c]=a[c]);return b},Class:function(a,b){var c=null,d=b||a;c="function"==typeof d.__construct?d.__construct:"function"==typeof a.prototype.__construct?function(){a.prototype.__construct.apply(this,arguments)}:function(){};var e=c;if("undefined"==typeof b)e.prototype=d;else{var f=function(){};f.prototype=jQuery.extend({},a.prototype),jQuery.extend(f.prototype,b),e.prototype=new f}return e}};"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a){return 0==this.indexOf(a)}),"function"!=typeof String.prototype.firstUpper&&(String.prototype.firstUpper=function(){return this.substring(0,1).toUpperCase()+this.substring(1)}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return this.length>a.length&&this.lastIndexOf(a)==this.length-a.length}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),"function"!=typeof String.prototype.lpad&&(String.prototype.lpad=function(a,b){for(var c=this;c.length<b;)c=a+c;return c}),"function"!=typeof String.prototype.rpad&&(String.prototype.rpad=function(a,b){for(var c=this;c.length<b;)c+=a;return c}),"function"!=typeof String.prototype.contains&&(String.prototype.contains=function(a){return-1!=this.indexOf(a)}),String.prototype.replaceAll=function(a,b){return b?this.replace(new RegExp("["+a+"]","g"),b):this},function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(c){function d(){!a&&this.__init&&this.__init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)if("_props"!==g)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];else{var h,i=c[g];for(var j in i)h=i[j],Object.defineProperty(f,j,h)}return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d}}(),BIMSURFER.utils=BIMSURFER.utils||{},BIMSURFER.utils.isset=function(a){for(var b=0;b<arguments.length;b++)if("undefined"==typeof arguments[b]||null==arguments[b])return!1;return!0},BIMSURFER.utils.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},BIMSURFER.utils.removeA=function(a){for(var b,c,d=arguments,e=d.length;e>1&&a.length;)for(b=d[--e];-1!==(c=a.indexOf(b));)a.splice(c,1);return a},function(){"use strict";BIMSURFER.utils=BIMSURFER.utils||{},BIMSURFER.utils.Map=function(a,b){this.items=a||[],b=b||0;var c=b+1;this.addItem=function(){var a;if(2===arguments.length){var b=arguments[0];if(a=arguments[1],this.items[b])throw"ID clash: '"+b+"'";return this.items[b]=a,b}for(;;){a=arguments[0];var d=c++;if(!this.items[d])return this.items[d]=a,d}},this.removeItem=function(a){var b=this.items[a];return delete this.items[a],b}}}(),function(){"use strict";BIMSURFER.math={createUUID:function(){var a,b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),c=new Array(36),d=0;return function(){for(var e=0;36>e;e++)8===e||13===e||18===e||23===e?c[e]="-":14===e?c[e]="4":(2>=d&&(d=33554432+16777216*Math.random()|0),a=15&d,d>>=4,c[e]=b[19===e?3&a|8:a]);return c.join("")}}(),vec2:function(){return new Float64Array(2)},vec3:function(){return new Float64Array(3)},vec4:function(){return new Float64Array(4)},mat3:function(){return new Float64Array(9)},mat4:function(){return new Float64Array(16)},fmod:function(a,b){if(b>a)return console.error("BIMSURFER.math.fmod : Attempting to find modulus within negative range - would be infinite loop - ignoring"),a;for(;a>=b;)a-=b;return a},negateVec4:function(a,b){return b||(b=a),b[0]=-a[0],b[1]=-a[1],b[2]=-a[2],b[3]=-a[3],b},addVec4:function(a,b,c){return c||(c=a),c[0]=a[0]+b[0],c[1]=a[1]+b[1],c[2]=a[2]+b[2],c[3]=a[3]+b[3],c},addVec4Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]+b,c[1]=a[1]+b,c[2]=a[2]+b,c[3]=a[3]+b,c},addVec3:function(a,b,c){return c||(c=a),c[0]=a[0]+b[0],c[1]=a[1]+b[1],c[2]=a[2]+b[2],c},addVec3Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]+b,c[1]=a[1]+b,c[2]=a[2]+b,c},subVec4:function(a,b,c){return c||(c=a),c[0]=a[0]-b[0],c[1]=a[1]-b[1],c[2]=a[2]-b[2],c[3]=a[3]-b[3],c},subVec3:function(a,b,c){return c||(c=a),c[0]=a[0]-b[0],c[1]=a[1]-b[1],c[2]=a[2]-b[2],c},subVec2:function(a,b,c){return c||(c=a),c[0]=a[0]-b[0],c[1]=a[1]-b[1],c},subVec4Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]-b,c[3]=a[3]-b,c},subScalarVec4:function(a,b,c){return c||(c=a),c[0]=b-a[0],c[1]=b-a[1],c[2]=b-a[2],c[3]=b-a[3],c},mulVec4:function(a,b,c){return c||(c=a),c[0]=a[0]*b[0],c[1]=a[1]*b[1],c[2]=a[2]*b[2],c[3]=a[3]*b[3],c},mulVec4Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c[3]=a[3]*b,c},mulVec3Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c},mulVec2Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]*b,c[1]=a[1]*b,c},divVec3:function(a,b,c){return c||(c=a),c[0]=a[0]/b[0],c[1]=a[1]/b[1],c[2]=a[2]/b[2],c},divVec4:function(a,b,c){return c||(c=a),c[0]=a[0]/b[0],c[1]=a[1]/b[1],c[2]=a[2]/b[2],c[3]=a[3]/b[3],c},divScalarVec3:function(a,b,c){return c||(c=b),c[0]=a/b[0],c[1]=a/b[1],c[2]=a/b[2],c},divVec3Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]/b,c[1]=a[1]/b,c[2]=a[2]/b,c},divVec4Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]/b,c[1]=a[1]/b,c[2]=a[2]/b,c[3]=a[3]/b,c},divScalarVec4:function(a,b,c){return c||(c=b),c[0]=a/b[0],c[1]=a/b[1],c[2]=a/b[2],c[3]=a/b[3],c},dotVec4:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},cross3Vec4:function(a,b){var c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2];return[d*h-e*g,e*f-c*h,c*g-d*f,0]},cross3Vec3:function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=b[0],h=b[1],i=b[2];return c[0]=e*i-f*h,c[1]=f*g-d*i,c[2]=d*h-e*g,c},sqLenVec4:function(a){return BIMSURFER.math.dotVec4(a,a)},lenVec4:function(a){return Math.sqrt(BIMSURFER.math.sqLenVec4(a))},dotVec3:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},dotVec2:function(a,b){return a[0]*b[0]+a[1]*b[1]},sqLenVec3:function(a){return BIMSURFER.math.dotVec3(a,a)},sqLenVec2:function(a){return BIMSURFER.math.dotVec2(a,a)},lenVec3:function(a){return Math.sqrt(BIMSURFER.math.sqLenVec3(a))},lenVec2:function(a){return Math.sqrt(BIMSURFER.math.sqLenVec2(a))},rcpVec3:function(a,b){return BIMSURFER.math.divScalarVec3(1,a,b)},normalizeVec4:function(a,b){var c=1/BIMSURFER.math.lenVec4(a);return BIMSURFER.math.mulVec4Scalar(a,c,b)},normalizeVec3:function(a,b){var c=1/BIMSURFER.math.lenVec3(a);return BIMSURFER.math.mulVec3Scalar(a,c,b)},normalizeVec2:function(a,b){var c=1/BIMSURFER.math.lenVec2(a);return BIMSURFER.math.mulVec2Scalar(a,c,b)},dupMat4:function(a){return a.slice(0,16)},mat4To3:function(a){return[a[0],a[1],a[2],a[4],a[5],a[6],a[8],a[9],a[10]]},m4s:function(a){return[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a]},setMat4ToZeroes:function(){return BIMSURFER.math.m4s(0)},setMat4ToOnes:function(){return BIMSURFER.math.m4s(1)},diagonalMat4v:function(a){return[a[0],0,0,0,0,a[1],0,0,0,0,a[2],0,0,0,0,a[3]]},diagonalMat4c:function(a,b,c,d){return BIMSURFER.math.diagonalMat4v([a,b,c,d])},diagonalMat4s:function(a){return BIMSURFER.math.diagonalMat4c(a,a,a,a)},identityMat4:function(){return BIMSURFER.math.diagonalMat4v([1,1,1,1])},isIdentityMat4:function(a){return 1!==a[0]||0!==a[1]||0!==a[2]||0!==a[3]||0!==a[4]||1!==a[5]||0!==a[6]||0!==a[7]||0!==a[8]||0!==a[9]||1!==a[10]||0!==a[11]||0!==a[12]||0!==a[13]||0!==a[14]||1!==a[15]?!1:!0},negateMat4:function(a,b){return b||(b=a),b[0]=-a[0],b[1]=-a[1],b[2]=-a[2],b[3]=-a[3],b[4]=-a[4],b[5]=-a[5],b[6]=-a[6],b[7]=-a[7],b[8]=-a[8],b[9]=-a[9],b[10]=-a[10],b[11]=-a[11],b[12]=-a[12],b[13]=-a[13],b[14]=-a[14],b[15]=-a[15],b},addMat4:function(a,b,c){return c||(c=a),c[0]=a[0]+b[0],c[1]=a[1]+b[1],c[2]=a[2]+b[2],c[3]=a[3]+b[3],c[4]=a[4]+b[4],c[5]=a[5]+b[5],c[6]=a[6]+b[6],c[7]=a[7]+b[7],c[8]=a[8]+b[8],c[9]=a[9]+b[9],c[10]=a[10]+b[10],c[11]=a[11]+b[11],c[12]=a[12]+b[12],c[13]=a[13]+b[13],c[14]=a[14]+b[14],c[15]=a[15]+b[15],c},addMat4Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]+b,c[1]=a[1]+b,c[2]=a[2]+b,c[3]=a[3]+b,c[4]=a[4]+b,c[5]=a[5]+b,c[6]=a[6]+b,c[7]=a[7]+b,c[8]=a[8]+b,c[9]=a[9]+b,c[10]=a[10]+b,c[11]=a[11]+b,c[12]=a[12]+b,c[13]=a[13]+b,c[14]=a[14]+b,c[15]=a[15]+b,c},addScalarMat4:function(a,b,c){return BIMSURFER.math.addMat4Scalar(b,a,c)},subMat4:function(a,b,c){return c||(c=a),c[0]=a[0]-b[0],c[1]=a[1]-b[1],c[2]=a[2]-b[2],c[3]=a[3]-b[3],c[4]=a[4]-b[4],c[5]=a[5]-b[5],c[6]=a[6]-b[6],c[7]=a[7]-b[7],c[8]=a[8]-b[8],c[9]=a[9]-b[9],c[10]=a[10]-b[10],c[11]=a[11]-b[11],c[12]=a[12]-b[12],c[13]=a[13]-b[13],c[14]=a[14]-b[14],c[15]=a[15]-b[15],c},subMat4Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]-b,c[3]=a[3]-b,c[4]=a[4]-b,c[5]=a[5]-b,c[6]=a[6]-b,c[7]=a[7]-b,c[8]=a[8]-b,c[9]=a[9]-b,c[10]=a[10]-b,c[11]=a[11]-b,c[12]=a[12]-b,c[13]=a[13]-b,c[14]=a[14]-b,c[15]=a[15]-b,c},subScalarMat4:function(a,b,c){return c||(c=b),c[0]=a-b[0],c[1]=a-b[1],c[2]=a-b[2],c[3]=a-b[3],c[4]=a-b[4],c[5]=a-b[5],c[6]=a-b[6],c[7]=a-b[7],c[8]=a-b[8],c[9]=a-b[9],c[10]=a-b[10],c[11]=a-b[11],c[12]=a-b[12],c[13]=a-b[13],c[14]=a-b[14],c[15]=a-b[15],c},mulMat4:function(a,b,c){c||(c=a);var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],i=a[5],j=a[6],k=a[7],l=a[8],m=a[9],n=a[10],o=a[11],p=a[12],q=a[13],r=a[14],s=a[15],t=b[0],u=b[1],v=b[2],w=b[3],x=b[4],y=b[5],z=b[6],A=b[7],B=b[8],C=b[9],D=b[10],E=b[11],F=b[12],G=b[13],H=b[14],I=b[15];return c[0]=t*d+u*h+v*l+w*p,c[1]=t*e+u*i+v*m+w*q,c[2]=t*f+u*j+v*n+w*r,c[3]=t*g+u*k+v*o+w*s,c[4]=x*d+y*h+z*l+A*p,c[5]=x*e+y*i+z*m+A*q,c[6]=x*f+y*j+z*n+A*r,c[7]=x*g+y*k+z*o+A*s,c[8]=B*d+C*h+D*l+E*p,c[9]=B*e+C*i+D*m+E*q,c[10]=B*f+C*j+D*n+E*r,c[11]=B*g+C*k+D*o+E*s,c[12]=F*d+G*h+H*l+I*p,c[13]=F*e+G*i+H*m+I*q,c[14]=F*f+G*j+H*n+I*r,c[15]=F*g+G*k+H*o+I*s,c},mulMat4Scalar:function(a,b,c){return c||(c=a),c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c[3]=a[3]*b,c[4]=a[4]*b,c[5]=a[5]*b,c[6]=a[6]*b,c[7]=a[7]*b,c[8]=a[8]*b,c[9]=a[9]*b,c[10]=a[10]*b,c[11]=a[11]*b,c[12]=a[12]*b,c[13]=a[13]*b,c[14]=a[14]*b,c[15]=a[15]*b,c},mulMat4v4:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3];return[a[0]*c+a[4]*d+a[8]*e+a[12]*f,a[1]*c+a[5]*d+a[9]*e+a[13]*f,a[2]*c+a[6]*d+a[10]*e+a[14]*f,a[3]*c+a[7]*d+a[11]*e+a[15]*f]},transposeMat4:function(a,b){var c=a[4],d=a[14],e=a[8],f=a[13],g=a[12],h=a[9];if(!b||a===b){var i=a[1],j=a[2],k=a[3],l=a[6],m=a[7],n=a[11];return a[1]=c,a[2]=e,a[3]=g,a[4]=i,a[6]=h,a[7]=f,a[8]=j,a[9]=l,a[11]=d,a[12]=k,a[13]=m,a[14]=n,a}return b[0]=a[0],b[1]=c,b[2]=e,b[3]=g,b[4]=a[1],b[5]=a[5],b[6]=h,b[7]=f,b[8]=a[2],b[9]=a[6],b[10]=a[10],b[11]=d,b[12]=a[3],b[13]=a[7],b[14]=a[11],b[15]=a[15],b},determinantMat4:function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15];return n*k*h*e-j*o*h*e-n*g*l*e+f*o*l*e+j*g*p*e-f*k*p*e-n*k*d*i+j*o*d*i+n*c*l*i-b*o*l*i-j*c*p*i+b*k*p*i+n*g*d*m-f*o*d*m-n*c*h*m+b*o*h*m+f*c*p*m-b*g*p*m-j*g*d*q+f*k*d*q+j*c*h*q-b*k*h*q-f*c*l*q+b*g*l*q},inverseMat4:function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=a[9],m=a[10],n=a[11],o=a[12],p=a[13],q=a[14],r=a[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=1/(s*D-t*C+u*B+v*A-w*z+x*y);return b[0]=(h*D-i*C+j*B)*E,b[1]=(-d*D+e*C-f*B)*E,b[2]=(p*x-q*w+r*v)*E,b[3]=(-l*x+m*w-n*v)*E,b[4]=(-g*D+i*A-j*z)*E,b[5]=(c*D-e*A+f*z)*E,b[6]=(-o*x+q*u-r*t)*E,b[7]=(k*x-m*u+n*t)*E,b[8]=(g*C-h*A+j*y)*E,b[9]=(-c*C+d*A-f*y)*E,b[10]=(o*w-p*u+r*s)*E,b[11]=(-k*w+l*u-n*s)*E,b[12]=(-g*B+h*z-i*y)*E,b[13]=(c*B-d*z+e*y)*E,b[14]=(-o*v+p*t-q*s)*E,b[15]=(k*v-l*t+m*s)*E,b},traceMat4:function(a){return a[0]+a[5]+a[10]+a[15]},translationMat4v:function(a){var b=BIMSURFER.math.identityMat4();return b[12]=a[0],b[13]=a[1],b[14]=a[2],b},translationMat4c:function(a,b,c){return BIMSURFER.math.translationMat4v([a,b,c])},translationMat4s:function(a){return BIMSURFER.math.translationMat4c(a,a,a)},rotationMat4v:function(a,b){var c,d,e,f,g,h,i=BIMSURFER.math.normalizeVec4([b[0],b[1],b[2],0],[]),j=Math.sin(a),k=Math.cos(a),l=1-k,m=i[0],n=i[1],o=i[2];c=m*n,d=n*o,e=o*m,f=m*j,g=n*j,h=o*j;var p=BIMSURFER.math.mat4();return p[0]=l*m*m+k,p[1]=l*c+h,p[2]=l*e-g,p[3]=0,p[4]=l*c-h,p[5]=l*n*n+k,p[6]=l*d+f,p[7]=0,p[8]=l*e+g,p[9]=l*d-f,p[10]=l*o*o+k,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},rotationMat4c:function(a,b,c,d){return BIMSURFER.math.rotationMat4v(a,[b,c,d])},scalingMat4v:function(a){var b=BIMSURFER.math.identityMat4();return b[0]=a[0],b[5]=a[1],b[10]=a[2],b},scalingMat4c:function(a,b,c){return BIMSURFER.math.scalingMat4v([a,b,c])},scalingMat4s:function(a){return BIMSURFER.math.scalingMat4c(a,a,a)},lookAtMat4v:function(a,b,c,d){d||(d=BIMSURFER.math.mat4());var e=a[0],f=a[1],g=a[2],h=c[0],i=c[1],j=c[2],k=b[0],l=b[1],m=b[2];if(e===k&&f===l&&g===m)return BIMSURFER.math.identityMat4();var n,o,p,q,r,s,t,u,v,w;return n=e-k,o=f-l,p=g-m,w=1/Math.sqrt(n*n+o*o+p*p),n*=w,o*=w,p*=w,q=i*p-j*o,r=j*n-h*p,s=h*o-i*n,w=Math.sqrt(q*q+r*r+s*s),w?(w=1/w,q*=w,r*=w,s*=w):(q=0,r=0,s=0),t=o*s-p*r,u=p*q-n*s,v=n*r-o*q,w=Math.sqrt(t*t+u*u+v*v),w?(w=1/w,t*=w,u*=w,v*=w):(t=0,u=0,v=0),d[0]=q,d[1]=t,d[2]=n,d[3]=0,d[4]=r,d[5]=u,d[6]=o,d[7]=0,d[8]=s,d[9]=v,d[10]=p,d[11]=0,d[12]=-(q*e+r*f+s*g),d[13]=-(t*e+u*f+v*g),d[14]=-(n*e+o*f+p*g),d[15]=1,d},lookAtMat4c:function(a,b,c,d,e,f,g,h,i){return BIMSURFER.math.lookAtMat4v([a,b,c],[d,e,f],[g,h,i],[])},orthoMat4c:function(a,b,c,d,e,f,g){g||(g=BIMSURFER.math.mat4());var h=b-a,i=d-c,j=f-e;return g[0]=2/h,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2/i,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=-2/j,g[11]=0,g[12]=-(a+b)/h,g[13]=-(d+c)/i,g[14]=-(f+e)/j,g[15]=1,g},frustumMat4v:function(a,b){var c=[a[0],a[1],a[2],0],d=[b[0],b[1],b[2],0],e=BIMSURFER.math.mat4();BIMSURFER.math.addVec4(d,c,e);var f=BIMSURFER.math.mat4();BIMSURFER.math.subVec4(d,c,f);var g=2*c[2],h=BIMSURFER.math.mat4(),i=f[0],j=f[1],k=f[2];return h[0]=g/i,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=g/j,h[6]=0,h[7]=0,h[8]=e[0]/i,h[9]=e[1]/j,h[10]=-e[2]/k,h[11]=-1,h[12]=0,h[13]=0,h[14]=-g*d[2]/k,h[15]=0,h},frustumMatrix4:function(a,b,c,d,e,f,g){g||(g=BIMSURFER.math.mat4());var h=b-a,i=d-c,j=f-e;return g[0]=2*e/h,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*e/i,g[6]=0,g[7]=0,g[8]=(b+a)/h,g[9]=(d+c)/i,g[10]=-(f+e)/j,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(f*e*2)/j,g[15]=0,g},perspectiveMatrix4:function(a,b,c,d){var e=[],f=[];return e[2]=c,f[2]=d,f[1]=e[2]*Math.tan(a/2),e[1]=-f[1],f[0]=f[1]*b,e[0]=-f[0],BIMSURFER.math.frustumMat4v(e,f)},transformPoint3:function(a,b,c){var d=b[0],e=b[1],f=b[2];return c=c||[0,0,0,0],c[0]=a[0]*d+a[4]*e+a[8]*f+a[12],c[1]=a[1]*d+a[5]*e+a[9]*f+a[13],c[2]=a[2]*d+a[6]*e+a[10]*f+a[14],c[3]=a[3]*d+a[7]*e+a[11]*f+a[15],c},transformPoints3:function(a,b){for(var c,d,e,f,g=new Array(b.length),h=b.length,i=a[0],j=a[1],k=a[2],l=a[3],m=a[4],n=a[5],o=a[6],p=a[7],q=a[8],r=a[9],s=a[10],t=a[11],u=a[12],v=a[13],w=a[14],x=a[15],y=0;h>y;++y)f=b[y],c=f[0],d=f[1],e=f[2],g[y]=[i*c+m*d+q*e+u,j*c+n*d+r*e+v,k*c+o*d+s*e+w,l*c+p*d+t*e+x];return g},transformVec3:function(a,b){var c=b[0],d=b[1],e=b[2];return[a[0]*c+a[4]*d+a[8]*e,a[1]*c+a[5]*d+a[9]*e,a[2]*c+a[6]*d+a[10]*e]},transformVec4:function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3];return[a[0]*c+a[4]*d+a[8]*e+a[12]*f,a[1]*c+a[5]*d+a[9]*e+a[13]*f,a[2]*c+a[6]*d+a[10]*e+a[14]*f,a[3]*c+a[7]*d+a[11]*e+a[15]*f]},projectVec4:function(a){var b=1/a[3];return[a[0]*b,a[1]*b,a[2]*b,1]},vec3ObjToArray:function(a,b){var c=b||BIMSURFER.math.vec3();return c[0]=a.x,c[1]=a.y,c[2]=a.z,c},vec3ArrayToObj:function(a){return{x:a[0],y:a[1],z:a[2]}},AxisBox3:function(a,b){this.verts=[[a[0],a[1],a[2]],[b[0],a[1],a[2]],[b[0],b[1],a[2]],[a[0],b[1],a[2]],[a[0],a[1],b[2]],[b[0],a[1],b[2]],[b[0],b[1],b[2]],[a[0],b[1],b[2]]],this.toBox3=function(){for(var a=new Human.math.Box3,b=0;8>b;b++)for(var c=this.verts[b],d=0;3>d;d++)c[d]<a.min[d]&&(a.min[d]=c[d]),c[d]>a.max[d]&&(a.max[d]=c[d])},this.toBoundary=function(){for(var a=new Human.math.Box3,b=0;8>b;b++)for(var c=this.verts[b],d=0;3>d;d++)c[d]<a.min[d]&&(a.min[d]=c[d]),c[d]>a.max[d]&&(a.max[d]=c[d])}},lerpVec3:function(a,b,c,d,e,f){var g=f||this.vec3(),h=(a-b)/(c-b);return g[0]=d[0]+h*(e[0]-d[0]),g[1]=d[1]+h*(e[1]-d[1]),g[2]=d[2]+h*(e[2]-d[2]),g},getBoundaryDiag:function(a){var b=this.vec3(),c=this.vec3();b[0]=a.xmin,b[1]=a.ymin,b[2]=a.zmin,c[0]=a.xmax,c[1]=a.ymax,c[2]=a.zmax;var d=this.vec3();return this.subVec3(c,b,d),Math.abs(this.lenVec3(d))},getBoundaryCenter:function(a,b){var c=b||this.vec3();return c[0]=.5*(a.xmax+a.xmin),c[1]=.5*(a.ymax+a.ymin),c[2]=.5*(a.zmax+a.zmin),c}}}(),function(){"use strict";BIMSURFER.configs=new function(){this._handleMap=new BIMSURFER.utils.Map,this._locSubs={},this._handleLocs={},this.props={},this.set=function(a,b){this.props[a]=b;var c,d=this._locSubs[a];if(d)for(var e in d)d.hasOwnProperty(e)&&(c=d[e],c.callback.call(c.scope,b))},this.on=function(a,b,c){var d=this._locSubs[a];d||(d={},this._locSubs[a]=d);var e=this._handleMap.addItem();d[e]={scope:c||this,callback:b},this._handleLocs[e]=a;var f=this.props[a];return f&&b.call(c||this,f),e},this.off=function(a){var b=this._handleLocs[a];if(b){delete this._handleLocs[a];var c=this._locSubs[b];c&&delete c[a],this._handleMap.removeItem(a)}},this.once=function(a,b,c){var d=this,e=this.on(a,function(a){d.off(e),b(a)},c)}}}(),"object"!=typeof BIMSURFER.constants&&(BIMSURFER.constants={}),BIMSURFER.constants.timeoutTime=1e4,BIMSURFER.constants.defaultTypes=["IfcColumn","IfcStair","IfcSlab","IfcWindow","IfcDoor","IfcBuildingElementProxy","IfcWallStandardCase","IfcWall","IfcBeam","IfcRailing","IfcProxy","IfcRoof"],BIMSURFER.constants.materials={IfcSpace:[.137255,.403922,.870588,1],IfcRoof:[.837255,.203922,.270588,1],IfcSlab:[.637255,.603922,.670588,1],IfcWall:[.537255,.337255,.237255,1],IfcWallStandardCase:[.537255,.337255,.237255,1],IfcDoor:[.637255,.603922,.670588,1],IfcWindow:[.137255,.403922,.870588,.5],IfcOpeningElement:[.137255,.403922,.870588,0],IfcRailing:[.137255,.403922,.870588,1],IfcColumn:[.137255,.403922,.870588,1],IfcBeam:[.137255,.403922,.870588,1],IfcFurnishingElement:[.137255,.403922,.870588,1],IfcCurtainWall:[.137255,.403922,.870588,1],IfcStair:[.637255,.603922,.670588,1],IfcStairFlight:[.637255,.603922,.670588,1],IfcBuildingElementProxy:[.5,.5,.5,1],IfcFlowSegment:[.137255,.403922,.870588,1],IfcFlowitting:[.137255,.403922,.870588,1],IfcFlowTerminal:[.137255,.403922,.870588,1],IfcProxy:[.137255,.403922,.870588,1],IfcSite:[.137255,.403922,.870588,1],IfcLightFixture:[.8470588235,.8470588235,.870588,1],IfcDuctSegment:[.8470588235,.427450980392,0,1],IfcDistributionFlowElement:[.8470588235,.427450980392,0,1],IfcDuctFitting:[.8470588235,.427450980392,0,1],IfcPlate:[.8470588235,.427450980392,0,.5],IfcAirTerminal:[.8470588235,.427450980392,0,1],IfcMember:[.8470588235,.427450980392,0,1],IfcCovering:[.8470588235,.427450980392,0,1],IfcTransportElement:[.8470588235,.427450980392,0,1],IfcFlowController:[.8470588235,.427450980392,0,1],IfcFlowFitting:[.8470588235,.427450980392,0,1],IfcRamp:[.8470588235,.427450980392,0,1],IfcFurniture:[.8470588235,.427450980392,0,1],IfcFooting:[.8470588235,.427450980392,0,1],IfcSystemFurnitureElement:[.8470588235,.427450980392,0,1],IfcSpace:[.137255,.303922,.570588,.5],DEFAULT:[.8470588235,.427450980392,0,1]},BIMSURFER.constants.camera={maxOrbitSpeed:.1*Math.PI,orbitSpeedFactor:.05,zoomSpeedFactor:.1,panSpeedFactor:.6},BIMSURFER.constants.highlightSelectedObject={type:"material",wire:!0,id:"highlight",emit:0,baseColor:{r:0,g:1,b:0}},BIMSURFER.constants.highlightSelectedSpecialObject={type:"material",id:"specialselectedhighlight",emit:1,baseColor:{r:.16,g:.7,b:.88},shine:10},BIMSURFER.constants.ProgressBarStyle={Continuous:1,Marquee:2},BIMSURFER.constants.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)},function(){"use strict";BIMSURFER.Component=Class.extend({className:"BIMSURFER.Component",exclusive:!1,getClassName:function(){},__init:function(a,b){b=b||{},this.viewer=a,this.metadata=b.metadata||{},this.id=b.id,this.destroyed=!1,this._handleMap=new BIMSURFER.utils.Map,this._locSubs={},this._handleLocs={},this.props={},this.viewer._addComponent(this),this._init(b)},_init:function(a){},fire:function(a,b,c){c!==!0&&(this.props[a]=b);var d,e=this._locSubs[a];if(e)for(var f in e)e.hasOwnProperty(f)&&(d=e[f],d.callback.call(d.scope,b))},on:function(a,b,c){var d=this._locSubs[a];d||(d={},this._locSubs[a]=d);var e=this._handleMap.addItem();d[e]={scope:c||this,callback:b},this._handleLocs[e]=a;var f=this.props[a];return f&&b.call(c||this,f),e},off:function(a){var b=this._handleLocs[a];if(b){delete this._handleLocs[a];var c=this._locSubs[b];c&&delete c[a],this._handleMap.removeItem(a)}},once:function(a,b,c){var d=this,e=this.on(a,function(a){d.off(e),b(a)},c)},log:function(a){window.console.log("[LOG] "+this.id+": "+a)},error:function(a){window.console.error("[ERROR] "+this.id+": "+a)},warn:function(a){window.console.warn("[WARN] "+this.id+": "+a)},destroy:function(){this.viewer._removeComponent(this),this._destroy&&this._destroy(),this.destroyed=!0,this.fire("destroyed")}})}(),function(){"use strict";BIMSURFER.Input=BIMSURFER.Component.extend({className:"BIMSURFER.Input",_init:function(a){var b=this;this.altDown=!1,this.ctrlDown=!1,this.mouseDownLeft=!1,this.mouseDownMiddle=!1,this.mouseDownRight=!1,this.keyDown=[],this.enabled=!0;var c=this.viewer._canvas;document.addEventListener("contextmenu",function(a){a.preventDefault()},!1),document.addEventListener("keydown",this._keyDownListener=function(a){b.enabled&&"INPUT"!==a.target.tagName&&"TEXTAREA"!==a.target.tagName&&(a.ctrlKey?b.ctrlDown=!0:a.altKey?b.altDown=!0:(b.keyDown[a.keyCode]=!0,b.fire("keydown",a.keyCode,!0)))},!0),document.addEventListener("keyup",this._keyUpListener=function(a){b.enabled&&"INPUT"!==a.target.tagName&&"TEXTAREA"!==a.target.tagName&&(a.ctrlKey?b.ctrlDown=!1:a.altKey?b.altDown=!1:(b.keyDown[a.keyCode]=!1,b.fire("keyup",a.keyCode,!0)))}),c.addEventListener("mousedown",this._mouseDownListener=function(a){if(b.enabled){switch(a.which){case 1:b.mouseDownLeft=!0;break;case 2:b.mouseDownMiddle=!0;break;case 3:b.mouseDownRight=!0}var c=b._getClickCoordsWithinElement(a);b.fire("mousedown",c,!0)}}),c.addEventListener("mouseup",this._mouseUpListener=function(a){if(b.enabled){switch(a.which){case 1:b.mouseDownLeft=!1;break;case 2:b.mouseDownMiddle=!1;break;case 3:b.mouseDownRight=!1}var c=b._getClickCoordsWithinElement(a);b.fire("mouseup",c,!0)}}),c.addEventListener("dblclick",this._dblClickListener=function(a){if(b.enabled){switch(a.which){case 1:b.mouseDownLeft=!1,b.mouseDownRight=!1;break;case 2:b.mouseDownMiddle=!1;break;case 3:b.mouseDownLeft=!1,b.mouseDownRight=!1}var c=b._getClickCoordsWithinElement(a);b.fire("dblclick",c,!0)}}),c.addEventListener("mousemove",this._mouseMoveListener=function(a){if(b.enabled){var c=b._getClickCoordsWithinElement(a);b.fire("mousemove",c,!0)}}),c.addEventListener("mousewheel",this._mouseWheelListener=function(a,c){if(b.enabled){var a=window.event||a,d=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail));b.fire("mousewheel",d,!0)}}),function(){var a,c;b.on("mousedown",function(b){a=b.x,c=b.y}),b.on("mouseup",function(d){a===d.x&&c===d.y&&b.fire("mouseclicked",d,!0)})}()},_getClickCoordsWithinElement:function(a){var b=[0,0];if(a){for(var c=a.target,d=0,e=0;c.offsetParent;)d+=c.offsetLeft,e+=c.offsetTop,c=c.offsetParent;b[0]=a.pageX-d,b[1]=a.pageY-e}else a=window.event,b.x=a.x,b.y=a.y;return b},setEnabled:function(a){this.enabled!==a&&this.fire("enabled",this.enabled=a)},KEY_BACKSPACE:8,KEY_TAB:9,KEY_ENTER:13,KEY_SHIFT:16,KEY_CTRL:17,KEY_ALT:18,KEY_PAUSE_BREAK:19,KEY_CAPS_LOCK:20,KEY_ESCAPE:27,KEY_PAGE_UP:33,KEY_PAGE_DOWN:34,KEY_END:35,KEY_HOME:36,KEY_LEFT_ARROW:37,KEY_UP_ARROW:38,KEY_RIGHT_ARROW:39,KEY_DOWN_ARROW:40,KEY_INSERT:45,KEY_DELETE:46,KEY_NUM_0:48,KEY_NUM_1:49,KEY_NUM_2:50,KEY_NUM_3:51,KEY_NUM_4:52,KEY_NUM_5:53,KEY_NUM_6:54,KEY_NUM_7:55,KEY_NUM_8:56,KEY_NUM_9:57,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,KEY_LEFT_WINDOW:91,KEY_RIGHT_WINDOW:92,KEY_SELECT_KEY:93,KEY_NUMPAD_0:96,KEY_NUMPAD_1:97,KEY_NUMPAD_2:98,KEY_NUMPAD_3:99,KEY_NUMPAD_4:100,KEY_NUMPAD_5:101,KEY_NUMPAD_6:102,KEY_NUMPAD_7:103,KEY_NUMPAD_8:104,KEY_NUMPAD_9:105,KEY_MULTIPLY:106,KEY_ADD:107,KEY_SUBTRACT:109,KEY_DECIMAL_POINT:110,KEY_DIVIDE:111,KEY_F1:112,KEY_F2:113,KEY_F3:114,KEY_F4:115,KEY_F5:116,KEY_F6:117,KEY_F7:118,KEY_F8:119,KEY_F9:120,KEY_F10:121,KEY_F11:122,KEY_F12:123,KEY_NUM_LOCK:144,KEY_SCROLL_LOCK:145,KEY_SEMI_COLON:186,KEY_EQUAL_SIGN:187,KEY_COMMA:188,KEY_DASH:189,KEY_PERIOD:190,KEY_FORWARD_SLASH:191,KEY_GRAVE_ACCENT:192,KEY_OPEN_BRACKET:219,KEY_BACK_SLASH:220,KEY_CLOSE_BRACKET:221,KEY_SINGLE_QUOTE:222,KEY_SPACE:32,_destroy:function(){document.removeEventListener("keydown",this._keyDownListener),document.removeEventListener("keyup",this._keyUpListener)}})}(),function(){"use strict";BIMSURFER.CameraControl=BIMSURFER.Component.extend({className:"BIMSURFER.CameraControl",exclusive:!0,_init:function(a){var b=this,c=this.viewer;this._keyboardAxis=new BIMSURFER.KeyboardAxisCamera(c,{camera:a.camera}),this._keyboardOrbit=new BIMSURFER.KeyboardOrbitCamera(c,{camera:a.camera}),this._mouseOrbit=new BIMSURFER.MouseOrbitCamera(c,{camera:a.camera}),this._keyboardPan=new BIMSURFER.KeyboardPanCamera(c,{sensitivity:1,camera:a.camera}),this._mousePan=new BIMSURFER.MousePanCamera(c,{sensitivity:1,camera:a.camera}),this._keyboardZoom=new BIMSURFER.KeyboardZoomCamera(c,{sensitivity:1,camera:a.camera}),this._mouseZoom=new BIMSURFER.MouseZoomCamera(c,{sensitivity:1,camera:a.camera}),this._mousePickObject=new BIMSURFER.MousePickObject(c,{rayPick:!0,camera:a.camera}),this._cameraFly=new BIMSURFER.CameraFlyAnimation(c,{camera:a.camera}),this._mousePickObject.on("pick",function(a){var c=BIMSURFER.math.subVec3(b._cameraFly.camera.eye,b._cameraFly.camera.look,[]);b._cameraFly.flyTo({look:a.worldPos,eye:[a.worldPos[0]+c[0],a.worldPos[1]+c[1],a.worldPos[2]+c[2]]})}),this._mousePickObject.on("nopick",function(a){}),this.camera=a.camera,this.firstPerson=a.firstPerson,this.active=a.active!==!1},_props:{firstPerson:{set:function(a){this._firstPerson=a,this._keyboardOrbit.firstPerson=a,this._mouseOrbit.firstPerson=a},get:function(){return this._firstPerson}},camera:{set:function(a){var b=a;if(b){if(BIMSURFER._isString(b)&&(b=this.viewer.components[b],!b))return void this.error("camera","Camera not found in Viewer: "+a);if("BIMSURFER.Camera"!=b.className)return void this.error("camera","Value is not a BIMSURFER.Camera")}else b=this.viewer.camera;this._camera=b,this._keyboardAxis.camera=b,this._keyboardOrbit.camera=b,this._mouseOrbit.camera=b,this._keyboardPan.camera=b,this._mousePan.camera=b,this._keyboardZoom.camera=b,this._mouseZoom.camera=b},get:function(){return this._camera}},active:{set:function(a){this._active!==a&&(this._keyboardOrbit.active=a,this._mouseOrbit.active=a,this._keyboardPan.active=a,this._mousePan.active=a,this._mousePickObject.active=a,this._cameraFly.active=a,this.fire("active",this._active=a))},get:function(){return this._active}}},_destroy:function(){this._keyboardAxis.destroy(),this._keyboardOrbit.destroy(),this._mouseOrbit.destroy(),this._keyboardPan.destroy(),this._mousePan.destroy(),this._keyboardZoom.destroy(),this._mouseZoom.destroy(),this._mousePickObject.destroy(),this._cameraFly.destroy(),this.active=!1}})}(),function(){"use strict";BIMSURFER.MouseOrbitCamera=BIMSURFER.Component.extend({className:"BIMSURFER.MouseOrbitCamera",_init:function(a){this.camera=a.camera,this._onTick=null,this._onMouseDown=null,this._onMouseMove=null,this._onMouseUp=null,this.active=a.active!==!1},_props:{active:{set:function(a){if(this._active!==a){var b=this.viewer.input;if(a){var c,d,e=.2,f=0,g=0,h=!1,i=this;this._onTick=this.viewer.on("tick",function(a){i._camera&&(0!=f&&(i._camera.rotateEyeY(-f),f=0),0!=g&&(i._camera.rotateEyeX(g),g=0))}),this._onMouseDown=b.on("mousedown",function(a){!b.mouseDownLeft||b.mouseDownRight||b.keyDown[b.KEY_SHIFT]||b.mouseDownMiddle?h=!1:(h=!0,c=a[0],d=a[1])}),this._onMouseUp=b.on("mouseup",function(a){h=!1}),this._onMouseMove=b.on("mousemove",function(a){h&&(f+=(a[0]-c)*e,g+=(a[1]-d)*e,c=a[0],d=a[1])})}else b.off(this._onTick),b.off(this._onMouseDown),b.off(this._onMouseUp),b.off(this._onMouseMove);this.fire("active",this._active=a)}},get:function(){return this._active}},camera:{set:function(a){var b=a;if(b){if(BIMSURFER._isString(b)&&(b=this.viewer.components[b],!b))return void this.error("camera","Camera not found in Viewer: "+a);if("BIMSURFER.Camera"!=b.className)return void this.error("camera","Value is not a BIMSURFER.Camera")}this._camera=b,this._cameraDirty=!0},get:function(){return this._camera}}},_destroy:function(){this.active=!1}})}(),function(){"use strict";BIMSURFER.KeyboardOrbitCamera=BIMSURFER.Component.extend({className:"BIMSURFER.KeyboardOrbitCamera",_init:function(a){this.camera=a.camera,this._onTick=null,this.active=a.active!==!1},_props:{active:{set:function(a){if(this._active!==a){var b=this.viewer.input;if(a){var c=this;this._onTick=this.viewer.on("tick",function(a){if(c._camera){var d=a.elapsed,e=50,f=50;if(!b.ctrlDown&&!b.altDown){var g=b.keyDown[b.KEY_LEFT_ARROW],h=b.keyDown[b.KEY_RIGHT_ARROW],i=b.keyDown[b.KEY_UP_ARROW],j=b.keyDown[b.KEY_DOWN_ARROW];if(g||h||i||j){var k=0,l=0;h?k=-d*e:g&&(k=d*e),j?l=d*f:i&&(l=-d*f),Math.abs(k)>Math.abs(l)?l=0:k=0,0!=k&&c._camera.rotateEyeY(k),0!=l&&c._camera.rotateEyeX(l)}}}})}else this.viewer.off(this._onTick);this.fire("active",this._active=a)}},get:function(){return this._active}},camera:{set:function(a){var b=a;if(b){if(BIMSURFER._isString(b)&&(b=this.viewer.components[b],!b))return void this.error("camera","Camera not found in Viewer: "+a);if("BIMSURFER.Camera"!=b.className)return void this.error("camera","Value is not a BIMSURFER.Camera")}this._camera=b},get:function(){return this._camera}}},_destroy:function(){this.active=!1}})}(),function(){"use strict";BIMSURFER.MouseZoomCamera=BIMSURFER.Component.extend({className:"BIMSURFER.MouseZoomCamera",_init:function(a){var b=a.sensitivity;this.sensitivity=b?1*b:1,this.camera=a.camera,this._onTick=null,this._onMouseDown=null,this._onMouseMove=null,this._onMouseUp=null,this.active=a.active!==!1},_props:{active:{set:function(a){if(this._active!==a){var b=this.viewer.input;if(a){var c=0,d=0,e=!1,f=!1,g=0,h=BIMSURFER.math.vec3(),i=BIMSURFER.math.vec3(),j=BIMSURFER.math.vec3(),k=this;this._onMouseWheel=this.viewer.input.on("mousewheel",function(a){c=a,0===c?(f=!1,e=!1):e=!0}),this._onTick=this.viewer.on("tick",function(){if(k._camera){var a=k._camera,b=a.eye,l=a.look;h[0]=b[0],h[1]=b[1],h[2]=b[2],i[0]=l[0],i[1]=l[1],i[2]=l[2],BIMSURFER.math.subVec3(h,i,j);var m=Math.abs(BIMSURFER.math.lenVec3(j)),n=1e3,o=k.sensitivity*(2+m/n);e&&(d=c*o,g=0,e=!1,f=!0),f&&(c>0?(g+=.2*o,g>d&&(f=!1)):0>c&&(g-=.2*o,d>g&&(f=!1)),f&&a.zoom(g))}})}else b.off(this._onTick),b.off(this._onMouseWheel);this.fire("active",this._active=a)}},get:function(){return this._active}},camera:{set:function(a){var b=a;if(b){if(BIMSURFER._isString(b)&&(b=this.viewer.components[b],!b))return void this.error("camera","Camera not found in Viewer: "+a);if("BIMSURFER.Camera"!=b.className)return void this.error("camera","Value is not a BIMSURFER.Camera")}this._camera=b,this._cameraDirty=!0},
get:function(){return this._camera}}},_destroy:function(){this.active=!1}})}(),function(){"use strict";BIMSURFER.KeyboardZoomCamera=BIMSURFER.Component.extend({className:"BIMSURFER.KeyboardZoomCamera",_init:function(a){var b=a.sensitivity;this.sensitivity=b?15*b:15,this.camera=a.camera,this._onTick=null,this.active=a.active!==!1},_props:{active:{set:function(a){if(this._active!==a){var b=this.viewer.input;if(a){var c=this;this._onTick=this.viewer.on("tick",function(a){if(c._camera){var d=a.elapsed;if(!b.ctrlDown&&!b.altDown){var e=b.keyDown[b.KEY_ADD],f=b.keyDown[b.KEY_SUBTRACT];if(e||f){var g=0,h=c.sensitivity;f?g=d*h:e&&(g=-d*h),c._camera.zoom(g)}}}})}else this.viewer.off(this._onTick);this.fire("active",this._active=a)}},get:function(){return this._active}},camera:{set:function(a){var b=a;if(b){if(BIMSURFER._isString(b)&&(b=this.viewer.components[b],!b))return void this.error("camera","Camera not found in Viewer: "+a);if("BIMSURFER.Camera"!=b.className)return void this.error("camera","Value is not a BIMSURFER.Camera")}this._camera=b},get:function(){return this._camera}}},_destroy:function(){this.active=!1}})}(),function(){"use strict";BIMSURFER.MousePanCamera=BIMSURFER.Component.extend({className:"BIMSURFER.MousePanCamera",_init:function(a){var b=a.sensitivity;this.sensitivity=b?.03*b:.03,this.camera=a.camera,this._onTick=null,this._onMouseDown=null,this._onMouseMove=null,this._onMouseUp=null,this.active=a.active!==!1},_props:{active:{set:function(a){if(this._active!==a){var b=this.viewer.input;if(a){var c,d,e=0,f=0,g=!1,h=this;this._onTick=this.viewer.on("tick",function(){h._camera&&(0!=e||0!=f)&&(h._camera.pan([e,f,0]),e=0,f=0)}),this._onMouseDown=b.on("mousedown",function(a){b.mouseDownLeft&&b.mouseDownRight||b.mouseDownLeft&&b.keyDown[b.KEY_SHIFT]||b.mouseDownMiddle?(c=a[0],d=a[1],g=!0):g=!1}),this._onMouseUp=b.on("mouseup",function(a){g=!1}),this._onMouseMove=b.on("mousemove",function(a){g&&(e+=(a[0]-c)*h.sensitivity,f+=(a[1]-d)*h.sensitivity,c=a[0],d=a[1])})}else b.off(this._onTick),b.off(this._onMouseDown),b.off(this._onMouseUp),b.off(this._onMouseMove);this.fire("active",this._active=a)}},get:function(){return this._active}},camera:{set:function(a){var b=a;if(b){if(BIMSURFER._isString(b)&&(b=this.viewer.components[b],!b))return void this.error("camera","Camera not found in Viewer: "+a);if("BIMSURFER.Camera"!=b.className)return void this.error("camera","Value is not a BIMSURFER.Camera")}this._camera=b},get:function(){return this._camera}}},_destroy:function(){this.active=!1}})}(),function(){"use strict";BIMSURFER.KeyboardPanCamera=BIMSURFER.Component.extend({className:"BIMSURFER.KeyboardPanCamera",_init:function(a){var b=a.sensitivity;this.sensitivity=b?10*b:10,this.camera=a.camera,this._onTick=null,this.active=a.active!==!1},_props:{active:{set:function(a){if(this._active!==a){var b=this.viewer.input;if(a){var c=this;this._onTick=this.viewer.on("tick",function(a){if(c._camera){var d=a.elapsed;if(!b.ctrlDown&&!b.altDown){var e=b.keyDown[b.KEY_W],f=b.keyDown[b.KEY_S],g=b.keyDown[b.KEY_A],h=b.keyDown[b.KEY_D],i=b.keyDown[b.KEY_Z],j=b.keyDown[b.KEY_X];if(e||f||g||h||j||i){var k=0,l=0,m=0,n=c.sensitivity;f?l=d*n:e&&(l=-d*n),h?k=d*n:g&&(k=-d*n),j?m=d*n:i&&(m=-d*n),c._camera.pan([k,l,m])}}}})}else this.viewer.off(this._onTick);this.fire("active",this._active=a)}},get:function(){return this._active}},camera:{set:function(a){var b=a;if(b){if(BIMSURFER._isString(b)&&(b=this.viewer.components[b],!b))return void this.error("camera","Camera not found in Viewer: "+a);if("BIMSURFER.Camera"!=b.className)return void this.error("camera","Value is not a BIMSURFER.Camera")}this._camera=b},get:function(){return this._camera}}},_destroy:function(){this.active=!1}})}(),function(){"use strict";BIMSURFER.KeyboardAxisCamera=BIMSURFER.Component.extend({className:"BIMSURFER.KeyboardAxisCamera",_init:function(a){this.camera=a.camera,this._onKeyDown=null,this._cameraFly=new BIMSURFER.CameraFlyAnimation(this.viewer,{camera:this.camera}),this.active=a.active!==!1},_props:{active:{set:function(a){if(a=!!a,this._active!==a){this._cameraFly.active=a;var b=this,c=this.viewer.input;a?this._onKeyDown=c.on("keydown",function(a){if(b._camera){var d,e,f,g,h,i=b.viewer.center;switch(a){case c.KEY_NUM_1:d=100,e=0,g=i,f=[-d,e,0],h=[0,1,0];break;case c.KEY_NUM_2:d=100,e=0,g=i,f=[d,e,0],h=[0,1,0];break;case c.KEY_NUM_3:d=100,e=0,g=i,f=[0,e,-d],h=[0,1,0];break;case c.KEY_NUM_4:d=100,e=0,g=i,f=[0,e,d],h=[0,1,0];break;case c.KEY_NUM_5:d=100,e=0,g=i,f=[0,e-d,0],h=[0,0,1];break;case c.KEY_NUM_6:d=100,e=0,g=[0,e,0],f=[0,e+d,0],h=[0,0,-1]}g&&b._cameraFly.flyTo({look:g,eye:f,up:h})}}):this.viewer.off(this._onKeyDown),this.fire("active",this._active=a)}},get:function(){return this._active}},camera:{set:function(a){var b=a;if(b){if(BIMSURFER._isString(b)&&(b=this.viewer.components[b],!b))return void this.error("camera","Camera not found in Viewer: "+a);if("BIMSURFER.Camera"!=b.className)return void this.error("camera","Value is not a BIMSURFER.Camera")}this._camera=b},get:function(){return this._camera}}},_destroy:function(){this.active=!1,this._cameraFly.destroy()}})}(),function(){"use strict";BIMSURFER.MousePickObject=BIMSURFER.Component.extend({className:"BIMSURFER.MousePickObject",_init:function(a){this.rayPick=a.rayPick,this.active=a.active!==!1},_props:{active:{set:function(a){if(this._active!==a){if(a){var b=this,c=this.viewer.input;this._onMouseUp=c.on("dblclick",function(a){var c=b.viewer.pick(a[0],a[1],{rayPick:b._rayPick});c?b.fire("pick",c):b.fire("nopick",{canvasPos:e})})}else c.off(this._onMouseDown),c.off(this._onMouseUp);this.fire("active",this._active=a)}},get:function(){return this._active}},rayPick:{set:function(a){a=!!a,this._rayPick!==a&&(this._dirty=!1,this.fire("rayPick",this._rayPick=a))},get:function(){return this._rayPick}}},_destroy:function(){this.active=!1}})}(),function(){"use strict";BIMSURFER.ClickSelectObjects=BIMSURFER.Component.extend({className:"BIMSURFER.ClickSelectObjects",_init:function(a){this.objectSet=a.objectSet||new BIMSURFER.ObjectSet(this.viewer),this._multi=!!a.multi,this.active=a.active!==!1},_props:{active:{set:function(a){if(this._active!==a){if(a){var b,c,d=this,e=this.viewer.input;this._onMouseDown=e.on("mousedown",function(a){b=a[0],c=a[1]}),this._onMouseUp=e.on("mouseup",function(a){if((a[0]>b?a[0]-b<5:b-a[0]<5)&&(a[1]>c?a[1]-c<5:c-a[1]<5)){var f=d._multi||e.keyDown[e.KEY_SHIFT],g=d.viewer.pick(b,c,{});if(g){var h=g.object;d.objectSet.objects[h.id]?d.objectSet.removeObjects([h]):(f||d.objectSet.clear(),d.objectSet.addObjects([h]))}else f||d.objectSet.clear()}})}else e.off(this._onMouseDown),e.off(this._onMouseUp);this.fire("active",this._active=a)}},get:function(){return this._active}}},_destroy:function(){this.active=!1}})}(),function(){"use strict";BIMSURFER.Canvas=BIMSURFER.Component.extend({className:"BIMSURFER.Canvas",_init:function(){this.canvas=this.viewer._canvas,this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight;var a=this;this.canvas.addEventListener("webglcontextlost",function(){a.fire("webglContextLost")},!1),this.canvas.addEventListener("webglcontextrestored",function(){a._initWebGL(),a.gl&&a.fire("webglContextRestored",a.gl)},!1);var b=this.canvas.width,c=this.canvas.height;this._tick=this.viewer.on("tick",function(){var d=a.canvas;(d.width!==b||d.height!==c)&&(b=d.width,c=d.height,a.fire("resized",{width:d.width,height:d.height,aspect:d.height/d.width}))})},pick:function(a,b,c){},_destroy:function(){this.viewer.off(this._tick)}})}(),function(){"use strict";BIMSURFER.Object=BIMSURFER.Component.extend({className:"BIMSURFER.Object",_init:function(a){this._color=[1,1,1,1],this._opacity=1;var b=this.viewer.scene.getNode("contentRoot");if(this._rootNode=b.addNode(),this._enableNode=this._rootNode.addNode({type:"enable"}),this._flagsNode=this._enableNode.addNode({type:"flags",flags:{backfaces:!1}}),this._materialNode=this._flagsNode.addNode({type:"material",specularColor:{r:1,g:1,b:1}}),this._matrixNode=this._materialNode.addNode({type:"matrix"}),this._nameNode=this._matrixNode.addNode({type:"name",name:this.id}),this._geometryNodes=[],a.geometries)for(var c,d=a.geometries,e=0,f=d.length;f>e;e++){if(c=d[e],BIMSURFER._isString(c)){if(c=this.viewer.components[c],!c){this.error("geometry["+e+"] not found in viewer");continue}if(!c.coreId){this.error("geometry["+e+"] is not a BIMSURFER.Geometry");continue}}else{if(!c.coreId){this.error("geometry["+e+"] is not a BIMSURFER.Geometry");continue}if(c.viewer.id!=this.viewer.id){this.error("geometry["+e+"] is not within the same Viewer");continue}}this._geometryNodes.push(this._nameNode.addNode({type:"geometry",coreId:c.coreId}))}else{var c=this.viewer.components["geometry.default"];c||(c=new BIMSURFER.Geometry(this.viewer,{id:"geometry.default"})),this._geometryNodes.push(this._nameNode.addNode({type:"geometry",coreId:c.coreId}))}if(this._initBoundary(),this.type=a.type,this.type)if(a.color)this.color=a.color;else{var g,h=BIMSURFER.constants.materials;h?(g=h[this.type],g||(this.log("Material not found for type: ",this.type),g=h.DEFAULT),g||this.log("Default material not found for type: ",this.type)):this.warn("Property expected in BIMSURFER.constants: materials"),this.color=g||[.8470588235,.427450980392,0,1]}else this.color=a.color;this.transparent=a.transparent,this.opacity=a.opacity,this.xray=a.xray,this.highlight=a.highlight,this.matrix=a.matrix,this.label=a.label,this.active=a.active!==!1},_initBoundary:function(){var a,b;this._modelBoundary={xmin:1e6,ymin:1e6,zmin:1e6,xmax:-1e6,ymax:-1e6,zmax:-1e6};var c;for(a=0,b=this._geometryNodes.length;b>a;a++)c=this._geometryNodes[a],this._expandBoundaryByBoundary(this._modelBoundary,c.getBoundary());this._modelCenter=[.5*(this._modelBoundary.xmax+this._modelBoundary.xmin),.5*(this._modelBoundary.ymax+this._modelBoundary.ymin),.5*(this._modelBoundary.zmax+this._modelBoundary.zmin)],this._modelBoundaryVerts=this._boundaryToVerts(this._modelBoundary),this._center=[0,0,0],this._boundary=null},_expandBoundaryByBoundary:function(a,b){a.xmin>b.xmin&&(a.xmin=b.xmin),a.ymin>b.ymin&&(a.ymin=b.ymin),a.zmin>b.zmin&&(a.zmin=b.zmin),a.xmax<b.xmax&&(a.xmax=b.xmax),a.ymax<b.ymax&&(a.ymax=b.ymax),a.zmax<b.zmax&&(a.zmax=b.zmax)},_boundaryToVerts:function(a){return[[a.xmin,a.ymin,a.zmin],[a.xmax,a.ymin,a.zmin],[a.xmax,a.ymax,a.zmin],[a.xmin,a.ymax,a.zmin],[a.xmin,a.ymin,a.zmax],[a.xmax,a.ymin,a.zmax],[a.xmax,a.ymax,a.zmax],[a.xmin,a.ymax,a.zmax]]},_vertsToBoundary:function(a){for(var b,c,d,e=1e5,f=1e5,g=1e5,h=-1e5,i=-1e5,j=-1e5,k=0,l=a.length;l>k;k++)b=a[k][0],c=a[k][1],d=a[k][2],void 0!==b&&null!==b&&void 0!==c&&null!==c&&void 0!==d&&null!==d&&(e>b&&(e=b),f>c&&(f=c),g>d&&(g=d),b>h&&(h=b),c>i&&(i=c),d>j&&(j=d));return{xmin:e,ymin:f,zmin:g,xmax:h,ymax:i,zmax:j}},_props:{active:{set:function(a){a=!!a,this._active!==a&&(this._enableNode.setEnabled(a),this.label&&(this.label.active=a),this.fire("active",this._active=a))},get:function(){return this._active}},transparent:{set:function(a){a=!!a,this._transparent!==a&&(this._transparent=a,this._flagsNode.setTransparent(this._transparent||this._xray),this._materialNode.setAlpha(this._xray?.7:this._transparent?this._opacity:1))},get:function(){return this._transparent}},highlight:{set:function(a){this._highlighted!==a&&(this._highlighted=a,a&&(this._desaturated=!1),this._materialNode.setColor(this._highlighted?{r:.7,g:.7,b:.3}:{r:this._color[0],g:this._color[1],b:this._color[2]}))},get:function(){return this._highlighted}},desaturate:{set:function(a){this._desaturated!==a&&(this._desaturated=a,a&&(this._highlighted=!1),this._materialNode.setColor(this._desaturated?{r:.4,g:.4,b:.4}:{r:this._color[0],g:this._color[1],b:this._color[2]}))},get:function(){return this._desaturated}},xray:{set:function(a){a=!!a,this._xray!==a&&(this._xray=a,this._flagsNode.setTransparent(this._transparent||this._xray),this._materialNode.setAlpha(this._xray?.7:this._transparent?this._opacity:1))},get:function(){return this._xray}},color:{set:function(a){if(!a){var b=BIMSURFER.constants.materials;b&&(a=b.DEFAULT)}this._color=a||[.8470588235,.427450980392,0,1],this._materialNode.setColor(this._highlighted?{r:.7,g:.7,b:.3}:{r:this._color[0],g:this._color[1],b:this._color[2]})},get:function(){return this._color}},opacity:{set:function(a){this._opacity=null!==a&&void 0!==a?a:.4,this._materialNode.setAlpha(this._xray?.7:this._transparent?this._opacity:1)},get:function(){return this._opacity}},matrix:{set:function(a){a=a||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this._matrixNode.setElements(a),this._boundary=null,this.fire("matrix",this._matrix=a)},get:function(){return this._matrix}},boundary:{get:function(){return this._boundary||(this._boundary=this._vertsToBoundary(BIMSURFER.math.transformPoints3(this._matrix,this._modelBoundaryVerts)),this._center[0]=.5*(this._boundary.xmax+this._boundary.xmin),this._center[1]=.5*(this._boundary.ymax+this._boundary.ymin),this._center[2]=.5*(this._boundary.zmax+this._boundary.zmin)),this._boundary}},center:{get:function(){return this._boundary||(this._boundary=this._vertsToBoundary(BIMSURFER.math.transformPoints3(this._matrix,this._modelBoundaryVerts)),this._center[0]=.5*(this._boundary.xmax+this._boundary.xmin),this._center[1]=.5*(this._boundary.ymax+this._boundary.ymin),this._center[2]=.5*(this._boundary.zmax+this._boundary.zmin)),this._center}},label:{set:function(a){a=!!a,!!this._label!==a&&(a?this._label||(this._label=new BIMSURFER.Label(viewer,{object:this,text:"<b>"+this.className+'<hr style="height=1px; background: darkgray; border: 0;"></b>'+(this.type?"type='"+this.type+"'<br>":"")+"id='"+this.id+"'",pos:[0,0,0]})):(this._label.destroy(),this._label=null))},get:function(){return!!this._label}}},_destroy:function(){this._rootNode.destroy(),this.label&&this.label.destroy()}})}(),function(){"use strict";BIMSURFER.BoxObject=BIMSURFER.Object.extend({className:"BIMSURFER.BoxObject",_init:function(a){this._super(BIMSURFER._apply({geometries:[this._geometry=new BIMSURFER.BoxGeometry(this.viewer)]},a))},_destroy:function(){this._geometry.destroy(),this._super()}})}(),function(){"use strict";BIMSURFER.TeapotObject=BIMSURFER.Object.extend({className:"BIMSURFER.TeapotObject",_init:function(a){this._super(BIMSURFER._apply({geometries:[this._geometry=new BIMSURFER.TeapotGeometry(this.viewer)]},a))},_destroy:function(){this._geometry.destroy(),this._super()}})}(),function(){"use strict";BIMSURFER.RandomObjects=BIMSURFER.Component.extend({className:"BIMSURFER.RandomObjects",_init:function(a){this._numObjects=a.numObjects||25,this.objects=[],this._labels=a.labels,this._generate()},_generate:function(){for(var a=Math.sqrt(this._numObjects),b=a*-.5,c=a*-.5,d=.5*a,e=.5*a,f=BIMSURFER.constants.defaultTypes,g=15,h=b;d>h;h+=1)for(var i=c;e>i;i+=1)this.objects.push(new BIMSURFER.BoxObject(this.viewer,{id:"testObject"+this.objects.length,type:f[Math.round(Math.random()*f.length)],matrix:BIMSURFER.math.translationMat4v([h*g,0,i*g]),label:this._labels}))},_clear:function(){for(;this.objects.length>0;)this.objects.pop().destroy()},_destroy:function(){this._clear()}})}(),function(){"use strict";BIMSURFER.ObjectSet=BIMSURFER.Component.extend({className:"BIMSURFER.ObjectSet",_init:function(a){var b=this;this.objects={},this._onObjectMatrix={},this.numObjects=0,this._boundary={xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0},this._center=[0,0,0],this._boundaryDirty=!0,this._onComponentDestroyed=this.viewer.on("componentDestroyed",function(a){b.objects[a.id]&&(delete b.objects[a.id],b._boundaryDirty=!0,b.fire("updated",{removed:{objectIds:[a.id]}}))}),a.objects&&this.addObjects(a.objects),a.objectIds&&this.addObjectIds(a.objectIds),a.types&&this.addTypes(a.types)},clear:function(){for(var a in this.objects)this.objects.hasOwnProperty(a)&&this._removeObject(this.objects[a]);this.fire("updated",{cleared:!0})},addAllObjects:function(){var a=[];this.viewer.withClasses(["BIMSURFER.Object"],function(b){a.push(b)}),this.viewer.withClasses(["BIMSURFER.BoxObject"],function(b){a.push(b)}),this.viewer.withClasses(["BIMSURFER.TeapotObject"],function(b){a.push(b)}),this.addObjects(a)},addObjects:function(a){for(var b=0,c=a.length;c>b;b++)this._addObject(a[b]);this.fire("updated",{added:{objects:a}})},_addObject:function(a){var b=a.id;return a.viewer!=this.viewer?void this.warn("Attempted to add object that's not in same BIMSURFER.Viewer: '"+b+"'"):(this._onObjectMatrix[b]=a.on("matrix",function(){self._boundaryDirty=!0}),this.objects[b]=a,this.numObjects++,void(this._boundaryDirty=!0))},_removeObject:function(a){var b=a.id;return a.viewer!=this.viewer?void this.warn("Attempted to remove object that's not in same BIMSURFER.Viewer: '"+b+"'"):(a.off(this._onObjectMatrix[b]),delete this.objects[b],this.numObjects--,void(this._boundaryDirty=!0))},removeObjects:function(a){for(var b=0,c=a.length;c>b;b++)this._removeObject(a[b]);this.fire("updated",{removed:{objects:a}})},addObjectIds:function(a){for(var b,c,d=0,e=a.length;e>d;d++)b=a[d],c=this.viewer.components[b],c?this._addObject(c):this.warn("addObjectIds - object not found: '"+b+"'");this.fire("updated",{added:{objectIds:a}})},removeObjectIds:function(a){for(var b,c,d=0,e=a.length;e>d;d++)b=a[d],c=this.viewer.components[b],c?this._removeObject(c):this.warn("removeObjectIds - object not found: '"+b+"'");this.fire("updated",{removed:{objectIds:a}})},addTypes:function(a){for(var b,c,d,e=0,f=a.length;f>e;e++)if(b=a[e],c=this.viewer.types[b])for(d in c)c.hasOwnProperty(d)&&this._addObject(c[d]);else this.warn("addTypes - type not found: '"+c+"'");this.fire("updated",{added:{types:a}})},removeTypes:function(a){for(var b,c,d,e=0,f=a.length;f>e;e++)if(b=a[e],c=this.viewer.types[b])for(d in c)c.hasOwnProperty(d)&&this._removeObject(this.objects[d]);else this.warn("removeTypes - type not found: '"+b+"'");this.fire("updated",{removed:{types:a}})},withObjects:function(a){for(var b in this.objects)this.objects.hasOwnProperty(b)&&a(this.objects[b])},_rebuildBoundary:function(){if(this._boundaryDirty){if(0===this.numObjects)this._boundary.xmin=-1,this._boundary.ymin=-1,this._boundary.zmin=-1,this._boundary.xmax=1,this._boundary.ymax=1,this._boundary.zmax=1;else{this._boundary.xmin=1e6,this._boundary.ymin=1e6,this._boundary.zmin=1e6,this._boundary.xmax=-1e6,this._boundary.ymax=-1e6,this._boundary.zmax=-1e6;var a,b;for(var c in this.objects)this.objects.hasOwnProperty(c)&&(a=this.objects[c],b=a.boundary,b.xmin<this._boundary.xmin&&(this._boundary.xmin=b.xmin),b.ymin<this._boundary.ymin&&(this._boundary.ymin=b.ymin),b.zmin<this._boundary.zmin&&(this._boundary.zmin=b.zmin),b.xmax>this._boundary.xmax&&(this._boundary.xmax=b.xmax),b.ymax>this._boundary.ymax&&(this._boundary.ymax=b.ymax),b.zmax>this._boundary.zmax&&(this._boundary.zmax=b.zmax))}this._center[0]=.5*(this._boundary.xmax+this._boundary.xmin),this._center[1]=.5*(this._boundary.ymax+this._boundary.ymin),this._center[2]=.5*(this._boundary.zmax+this._boundary.zmin),this._boundaryDirty=!1}},_props:{boundary:{get:function(){return this._boundaryDirty&&this._rebuildBoundary(),this._boundary}},center:{get:function(){return this._boundaryDirty?(this._rebuildBoundary(),this._center):void 0}}},_destroy:function(){this.clear(),this.viewer.off(this._onComponentDestroyed),this.active=!1}})}(),function(){"use strict";BIMSURFER.Camera=BIMSURFER.Component.extend({className:"BIMSURFER.Camera",exclusive:!0,_init:function(a){this._lookatNode=this.viewer.scene.getNode("theLookat"),this._cameraNode=this.viewer.scene.getNode("theCamera"),this._lookatNodeDirty=!0,this._cameraNodeDirty=!0,this._rested=!1,this._tickSub=null,this.eye=a.eye,this.look=a.look,this.up=a.up,this.aspect=a.aspect,this.fovy=a.fovy,this.near=a.near,this.far=a.far,this.screenPan=a.screenPan,this.active=a.active!==!1},rotateEyeY:function(a){var b=BIMSURFER.math.subVec3(this._eye,this._look,[]),c=BIMSURFER.math.rotationMat4v(.0174532925*a,this._up);b=BIMSURFER.math.transformPoint3(c,b,[]),this._eye=BIMSURFER.math.addVec3(b,this._look,[]),this._lookatNodeDirty=!0},rotateEyeX:function(a){var b=BIMSURFER.math.subVec3(this._eye,this._look,[]),c=BIMSURFER.math.cross3Vec3(BIMSURFER.math.normalizeVec3(b,[]),BIMSURFER.math.normalizeVec3(this._up,[])),d=BIMSURFER.math.rotationMat4v(.0174532925*a,c);b=BIMSURFER.math.transformPoint3(d,b,[]),this._eye=BIMSURFER.math.addVec3(b,this._look,[]),this._up=BIMSURFER.math.transformPoint3(d,this._up,[]),this._lookatNodeDirty=!0},rotateLookY:function(a){var b=BIMSURFER.math.subVec3(this._look,this._eye,[]),c=BIMSURFER.math.rotationMat4v(.0174532925*a,this._up);b=BIMSURFER.math.transformPoint3(c,b,[]),this._look=BIMSURFER.math.addVec3(b,this._eye,[]),this._lookatNodeDirty=!0},rotateLookX:function(a){var b=BIMSURFER.math.subVec3(this._look,this._eye,[]),c=BIMSURFER.math.cross3Vec3(BIMSURFER.math.normalizeVec3(b,[]),BIMSURFER.math.normalizeVec3(this._up,[])),d=BIMSURFER.math.rotationMat4v(.0174532925*a,c);b=BIMSURFER.math.transformPoint3(d,b,[]),this._look=BIMSURFER.math.addVec3(b,this._eye,[]),this._up=BIMSURFER.math.transformPoint3(d,this._up,[]),this._lookatNodeDirty=!0},pan:function(a){var b,c=BIMSURFER.math.subVec3(this._eye,this._look,[]),d=[0,0,0];if(0!==a[0]){var e=BIMSURFER.math.cross3Vec3(BIMSURFER.math.normalizeVec3(c,[]),BIMSURFER.math.normalizeVec3(this._up,[]));b=BIMSURFER.math.mulVec3Scalar(e,a[0]),d[0]+=b[0],d[1]+=b[1],d[2]+=b[2]}0!==a[1]&&(b=BIMSURFER.math.mulVec3Scalar(BIMSURFER.math.normalizeVec3(this._up,[]),a[1]),d[0]+=b[0],d[1]+=b[1],d[2]+=b[2]),0!==a[3]&&(b=BIMSURFER.math.mulVec3Scalar(BIMSURFER.math.normalizeVec3(c,[]),a[2]),d[0]+=b[0],d[1]+=b[1],d[2]+=b[2]),this._eye=BIMSURFER.math.addVec3(this._eye,d,[]),this._look=BIMSURFER.math.addVec3(this._look,d,[]),this._lookatNodeDirty=!0},zoom:function(a){var b=BIMSURFER.math.subVec3(this._eye,this._look,[]),c=Math.abs(BIMSURFER.math.lenVec3(b,[])),d=Math.abs(c+a),e=BIMSURFER.math.normalizeVec3(b,[]);this._eye=BIMSURFER.math.addVec3(this._look,BIMSURFER.math.mulVec3Scalar(e,d),[]),this._lookatNodeDirty=!0},_props:{active:{set:function(a){if(this._active!==a){if(a){this._lookatNodeDirty=!0,this._cameraNodeDirty=!0;var b=this;this._tickSub=this.viewer.on("tick",function(){b._lookatNodeDirty?(b._lookatNode.setEye(BIMSURFER.math.vec3ArrayToObj(b._eye)),b._lookatNode.setLook(BIMSURFER.math.vec3ArrayToObj(b._look)),b._lookatNode.setUp(BIMSURFER.math.vec3ArrayToObj(b._up)),b._rested=!1,b._lookatNodeDirty=!1):b._rested||(b._rested=!0),b._cameraNodeDirty&&(b._cameraNode.set({optics:{type:"perspective",fovy:b.fovy,near:b.near,far:b.far}}),b._cameraNodeDirty=!1)})}else this.viewer.off(this._tickSub);this.fire("active",this._active=a)}},get:function(){return this._active}},aspect:{set:function(a){this._aspect=a||1,this._cameraNodeDirty=!0},get:function(){return this._aspect}},eye:{set:function(a){this._eye||(this._eye=[0,0,0]),this._eye[0]=a?a[0]:0,this._eye[1]=a?a[1]:1,this._eye[2]=a?a[2]:-10,this._lookatNodeDirty=!0},get:function(){return this._eye}},look:{set:function(a){this._look||(this._look=[0,0,0]),this._look[0]=a?a[0]:0,this._look[1]=a?a[1]:0,this._look[2]=a?a[2]:0,this._lookatNodeDirty=!0},get:function(){return this._look}},up:{set:function(a){this._up||(this._up=[0,0,0]),this._up[0]=a?a[0]:0,this._up[1]=a?a[1]:1,this._up[2]=a?a[2]:0,this._lookatNodeDirty=!0},get:function(){return this._up}},fovy:{set:function(a){this._fovy=a||60,this._cameraNodeDirty=!0,this.fire("fovy",this._fovy)},get:function(){return this._fovy}},near:{set:function(a){this._near=a||.1,this._cameraNodeDirty=!0,this.fire("near",this._near)},get:function(){return this._near}},far:{set:function(a){this._far=a||1e4,this._cameraNodeDirty=!0},get:function(){return this._far}},screenPan:{set:function(a){this._screenPan=a||[0,0],this._cameraNodeDirty=!0},get:function(){return this._screenPan}}},_destroy:function(){this.active=!1}})}(),function(){"use strict";function a(a,b){this.id=a,this.viewer=b,this._lightsNode=null,this.lights=[],this.lightsMap={},this.activeLights={},this.useCount=0,this.lightNodeDirty=!0,this.lightsUpdate=null;var c=this;this.tickSub=b.on("tick",function(){if(c.lightNodeDirty){var a,b,d=[];for(var e in c.lightsMap)c.lightsMap.hasOwnProperty(e)&&c.activeLights[e]===!0&&(a=c.lightsMap[e],b=c.lights[a],d.push(b));c._createLightsNode(d),c.lightNodeDirty=!1}c.lightsUpdate&&c._lightsNode&&(c._lightsNode.setLights(c.lightsUpdate),c.lightsUpdate=null)})}function b(b){var c=b.id,e=d[c];return e||(e=new a(c,b),d[c]=e),e.useCount++,e}function c(a){--a.useCount<=0&&(delete d[a.id],a.destroy())}BIMSURFER.Light=BIMSURFER.Component.extend({className:"BIMSURFER.Light",_init:function(a){this._lightsManager=b(this.viewer),this._lightsManager.createLight(this.id,a),this.active=a.active!==!1},_update:function(a){this._lightsManager.updateLight(this.id,a)},_props:{active:{set:function(a){this._active!==a&&(a?this._lightsManager.activateLight(this.id):this._lightsManager.deactivateLight(this.id),this.fire("active",this._active=a))},get:function(){return this._active}}},_destroy:function(){this._lightsManager.destroyLight(this.id),c(this._lightsManager)}}),a.prototype._createLightsNode=function(a){this._destroyLightsNode();var b=this.viewer.scene.getNode("contentRoot"),c=b.parent,d=c.disconnectNodes();this._lightsNode=c.addNode({type:"lights",lights:a}),this._lightsNode.addNodes(d)},a.prototype._destroyLightsNode=function(){this._lightsNode&&(this._lightsNode.splice(),this._lightsNode.destroy(),this._lightsNode=null)},a.prototype.createLight=function(a,b){this.lights.push(b),this.lightsMap[a]=this.lights.length-1,this.activeLights[a]=b.active!==!1,this.lightNodeDirty=!0},a.prototype.activateLight=function(a){this.activeLights[a]=!0,this.lightNodeDirty=!0},a.prototype.deactivateLight=function(a){this.activeLights[a]=!1,this.lightNodeDirty=!0},a.prototype.updateLight=function(a,b){this.lightsUpdate||(this.lightsUpdate={});var c=this.lightsMap[a],d=this.lightsUpdate[c]||(this.lightsUpdate[c]={});BIMSURFER._apply(b,d)},a.prototype.destroyLight=function(a){var b=this.lightsMap[a];this.lights.splice(b,1),delete this.lightsMap[a],delete this.activeLights[a],delete this.lightsUpdate[a];for(var c in this.lightsMap)this.lightsMap.hasOwnProperty(c)&&this.lightsMap[c]>=b&&this.lightsMap[c]--;this.lightNodeDirty=!0},a.prototype.destroy=function(){this.viewer.off(this.tickSub),this._destroyLightsNode()};var d={}}(),function(){"use strict";BIMSURFER.AmbientLight=BIMSURFER.Light.extend({className:"BIMSURFER.AmbientLight",_init:function(a){this._super(BIMSURFER._apply({mode:"ambient"},a)),this.color=a.color},_props:{color:{set:function(a){this._color=a,this._update({color:{r:a[0],g:a[1],b:a[2]}})},get:function(){return this._color}}}})}(),function(){"use strict";BIMSURFER.PointLight=BIMSURFER.Light.extend({className:"BIMSURFER.PointLight",_init:function(a){this._super(BIMSURFER._apply({mode:"point"},a)),this.pos=a.pos,this.color=a.color,this.constantAttenuation=a.constantAttenuation,this.linearAttenuation=a.linearAttenuation,this.quadraticAttenuation=a.quadraticAttenuation,this.space=a.space},_props:{pos:{set:function(a){this._pos=a,this._update({pos:{x:a[0],y:a[1],z:a[2]}})},get:function(){return this._pos}},color:{set:function(a){this._color=a,this._update({color:{r:a[0],g:a[1],b:a[2]},specularColor:{r:a[0],g:a[1],b:a[2]}})},get:function(){return this._color}},constantAttenuation:{set:function(a){this._update({constantAttenuation:this._constantAttenuation=a})},get:function(){return this._constantAttenuation}},linearAttenuation:{set:function(a){this._update({linearAttenuation:this._linearAttenuation=a})},get:function(){return this._linearAttenuation}},quadraticAttenuation:{set:function(a){this._update({quadraticAttenuation:this._quadraticAttenuation=a})},get:function(){return this._quadraticAttenuation}},space:{set:function(a){this._update({space:this._space=a})},get:function(){return this._space}}}})}(),function(){"use strict";BIMSURFER.DirLight=BIMSURFER.Light.extend({className:"BIMSURFER.DirLight",_init:function(a){this._super(BIMSURFER._apply({mode:"dir"},a)),this.dir=a.dir,this.color=a.color,this.space=a.space},_props:{dir:{set:function(a){this._dir=a,this._update({dir:{x:a[0],y:a[1],z:a[2]}})},get:function(){return this._dir}},color:{set:function(a){this._color=a,this._update({color:{r:a[0],g:a[1],b:a[2]}})},get:function(){return this._color}},space:{set:function(a){this._update({space:this._space=a})},get:function(){return this._space}}}})}(),function(){"use strict";BIMSURFER.Download=BIMSURFER.Component.extend({_init:function(a){this._api=a.api,this._models=a.models,this._downloadType=a.downloadType,this._roids=a.roids,this._roid=a.roid,this._schema=a.schema,this._types=a.types,this._oids=a.oids,this._topicId=null,this._downloading=!1,this._numObjects=0,this._numObjectsLoaded=0,this._dataPackets=[],this._geometries=[],this._objects=[];var b=this;this._api.getMessagingSerializerByPluginClassName("org.bimserver.serializers.binarygeometry.BinaryGeometryMessagingSerializerPlugin",function(a){var c,d;if("types"===b._downloadType)c="downloadByTypes",d={roids:[b._roid],schema:b._schema,classNames:b._types,serializerOid:a.oid,includeAllSubtypes:!1,useObjectIDM:!1,sync:!1,deep:!1};else if("revision"===b._downloadType)c="download",d={roid:b._roid,serializerOid:a.oid,sync:!1,showOwn:!0};else{if("oids"!==b._downloadType)return void b.error("Unsupported downloadType: "+b._downloadType);c="downloadByOids",d={roids:b._roids,oids:b._oids,serializerOid:a.oid,sync:!1,deep:!1}}b._api.call("Bimsie1ServiceInterface",c,d,function(a){b._topicId=a,b._api.registerProgressHandler(a,function(a,c){b._progressHandler(a,c)},function(){console.log("registerProgressHandler callback);")})},function(a){var c="Download failed: "+a.__type+": "+a.message;b.error(c),b.fire("error",c)})}),this._tick=this.viewer.on("tick",function(){for(var a=b._dataPackets.shift();null!=a;){for(var c=new BIMSURFER.DataInputStreamReader(null,a),d=(c.readInt(),c.readInt()),e=0;d>e;e++){var f=c.readByte();0===f?b._readStart(c):b._readObject(c,f)}a=b._dataPackets.shift()}})},_progressHandler:function(a,b){a===this._topicId&&("Done preparing"==b.title&&(this._downloading||(this._downloading=!0,this._startDownload())),"completed"==b.state&&(this._api.unregisterProgressHandler(this._topicId,this._progressHandler),this.fire("completed",!0)))},_startDownload:function(){this._numObjectsLoaded=0,this._numObjects=0;var a=this;this._api.setBinaryDataListener(this._topicId,function(b){a._dataPackets.push(b)}),this._api.downloadViaWebsocket({longActionId:this._topicId,topicId:this._topicId})},_readStart:function(a){var b=a.readUTF8();if("BGS"!=b)return this.error("Stream does not start with BGS ("+b+")"),!1;var c=a.readByte();if(4!=c&&5!=c&&6!=c)return this.error("Unimplemented version"),!1;this._version=c,a.align4();var d=a.readFloatArray(6);d={min:{x:d[0],y:d[1],z:d[2]},max:{x:d[3],y:d[4],z:d[5]}},this.viewer.origin=[-(d.max.x+d.min.x)/2,-(d.max.y+d.min.y)/2,-(d.max.z+d.min.z)/2];var e=!0;if(e){var f=this.viewer.camera;f.active=!0,f.eye=[.5*(d.max.x-d.min.x),-1*(d.max.y-d.min.y),.5*(d.max.z-d.min.z)];var g=Math.sqrt(Math.pow(d.max.x-d.min.x,2)+Math.pow(d.max.y-d.min.y,2)+Math.pow(d.max.z-d.min.z,2)),h=5*g;f.far=h,f.near=h/1e3,f.fovy=37.8493}this._numObjects=a.readInt(),this._notifyProgress()},_notifyProgress:function(){if(this._numObjectsLoaded<this._numObjects){var a=Math.ceil(100*this._numObjectsLoaded/this._numObjects);a!=this._lastProgress&&(this.fire("progress",{progress:a,numObjectsLoaded:this._numObjectsLoaded,numObjects:this._numObjects}),this._lastProgress=a)}else this.fire("progress",{progress:100,numObjectsLoaded:this._numObjectsLoaded,numObjects:this._numObjects}),this.fire("completed",{numObjects:this._numObjects}),this._api.call("ServiceInterface","cleanupLongAction",{actionId:this._topicId},function(){})},_readObject:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=a.readUTF8(),p=a.readLong(),q=a.readLong(),r=[];a.align4();var s=a.readFloatArray(16);if(1==b)f=a.readFloatArray(6),c=a.readLong(),g=a.readInt(),h=a.readIntArray(g),i=a.readInt(),
j=a.readFloatArray(i),k=a.readInt(),l=a.readFloatArray(k),m=a.readInt(),n=a.readFloatArray(m),this._createGeometry(c,j,l,n,h),this._createObject(p,q,q,[c],o,s);else if(2==b)c=a.readLong(),this._createObject(p,q,q,[c],o,s);else if(3==b){e=a.readInt();for(var t=0;e>t;t++)c=a.readLong(),g=a.readInt(),h=a.readIntArray(g),i=a.readInt(),j=a.readFloatArray(i),k=a.readInt(),l=a.readFloatArray(k),m=a.readInt(),n=a.readFloatArray(m),this._createGeometry(c,j,l,n,h),r.push(c);this._createObject(p,q,q,r,o,s)}else{if(4!=b)return;d=a.readInt(),r=[];for(var t=0;d>t;t++)r.push(a.readLong());this._createObject(p,q,q,r,o,s)}},_createGeometry:function(a,b,c,d,e){var f=new BIMSURFER.Geometry(this.viewer,{id:a,positions:b,normals:c,colors:d,indices:e,primitive:"triangles"});this._geometries.push(f)},_createObject:function(a,b,c,d,e,f){var g=this;return this.viewer.components[c]?void this.error("Component with this ID already exists: "+c):void this._models[a].get(b,function(a){var b=new BIMSURFER.Object(g.viewer,{id:c,type:e,geometries:d,matrix:f,active:0===a.trans.mode});g._objects.push(b),g._numObjectsLoaded++,g._notifyProgress()})},_destroy:function(){this._tick&&this.viewer.off(this._tick);var a,b;for(a=0,b=this._objects.length;b>a;a++)this._objects[a].destroy();for(a=0,b=this._geometries.length;b>a;a++)this._geometries[a].destroy()}})}(),function(){"use strict";BIMSURFER.Geometry=BIMSURFER.Component.extend({className:"BIMSURFER.Geometry",_init:function(a){var b=this.viewer.scene.getNode("library");a.positions&&a.indices?this._geometryNode=b.addNode({type:"geometry",primitive:a.primitive||"triangles",positions:a.positions,normals:a.normals,uv:a.uv,indices:a.indices}):this._geometryNode=b.addNode({type:"geometry",primitive:"triangles",positions:[5,5,5,-5,5,5,-5,-5,5,5,-5,5,5,5,5,5,-5,5,5,-5,-5,5,5,-5,5,5,5,5,5,-5,-5,5,-5,-5,5,5,-5,5,5,-5,5,-5,-5,-5,-5,-5,-5,5,-5,-5,-5,5,-5,-5,5,-5,5,-5,-5,5,5,-5,-5,-5,-5,-5,-5,5,-5,5,5,-5],normals:[0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1],uv:[5,5,0,5,0,0,5,0,0,5,0,0,5,0,5,5,5,0,5,5,0,5,0,0,5,5,0,5,0,0,5,0,0,0,5,0,5,5,0,5,0,0,5,0,5,5,0,5],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]}),this.coreId=this._geometryNode.getCoreId(),this.boundary=this._geometryNode.getBoundary()},_destroy:function(){this._geometryNode.destroy()}})}(),function(){"use strict";BIMSURFER.BoxGeometry=BIMSURFER.Geometry.extend({className:"BIMSURFER.BoxGeometry",_init:function(a){this._super(BIMSURFER._apply({primitive:"triangles",positions:[5,5,5,-5,5,5,-5,-5,5,5,-5,5,5,5,5,5,-5,5,5,-5,-5,5,5,-5,5,5,5,5,5,-5,-5,5,-5,-5,5,5,-5,5,5,-5,5,-5,-5,-5,-5,-5,-5,5,-5,-5,-5,5,-5,-5,5,-5,5,-5,-5,5,5,-5,-5,-5,-5,-5,-5,5,-5,5,5,-5],normals:[0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1],uv:[5,5,0,5,0,0,5,0,0,5,0,0,5,0,5,5,5,0,5,5,0,5,0,0,5,5,0,5,0,0,5,0,0,0,5,0,5,5,0,5,0,0,5,0,5,5,0,5],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]},a))}})}(),function(){"use strict";function a(a,b){for(var c=new Array(a.length),d=0;d<b.length;d++){var e=b[d][0],f=b[d][1],g=b[d][2],h=a[e],i=a[f],j=a[g];i=BIMSURFER.math.subVec4(i,h,[0,0,0,0]),j=BIMSURFER.math.subVec4(j,h,[0,0,0,0]);var k=BIMSURFER.math.normalizeVec4(BIMSURFER.math.cross3Vec4(i,j,[0,0,0,0]),[0,0,0,0]);c[e]||(c[e]=[]),c[f]||(c[f]=[]),c[g]||(c[g]=[]),c[e].push(k),c[f].push(k),c[g].push(k)}for(var l=new Array(a.length),d=0;d<c.length;d++){for(var m=c[d].length,n=0,o=0,p=0,q=0;m>q;q++)n+=c[d][q][0],o+=c[d][q][1],p+=c[d][q][2];l[d]=[-(n/m),-(o/m),-(p/m)]}return l}function b(a,b){for(var c=[],d=0;d<a.length;d++){if(b&&a[d].length!=b)throw SceneJS_error.fatalError("Bad geometry array element");for(var e=0;e<a[d].length;e++)c.push(a[d][e])}return c}function c(a){for(var b=[],c=0;c<a.length;c++){for(var d=[],e=a[c].length-1;e>=0;e--)d.push(a[c][e]);b.push(d)}return b}BIMSURFER.TeapotGeometry=BIMSURFER.Geometry.extend({className:"BIMSURFER.TeapotGeometry",_init:function(a){this._super(BIMSURFER._apply(this._build(a),a))},_build:function(d){d=d||{};var e="geometry/teapot_"+(d.wire?"wire":"_solid");if(this.viewer.scene.hasCore("geometry",e))return{type:"geometry",coreId:e};var f=[[-3,1.65,0],[-2.98711,1.65,-.098438],[-2.98711,1.65,.098438],[-2.98538,1.56732,-.049219],[-2.98538,1.56732,.049219],[-2.9835,1.48308,0],[-2.98189,1.72347,-.049219],[-2.98189,1.72347,.049219],[-2.97656,1.79853,0],[-2.9709,1.48621,-.098438],[-2.9709,1.48621,.098438],[-2.96388,1.79534,-.098438],[-2.96388,1.79534,.098438],[-2.96221,1.57017,-.133594],[-2.96221,1.57017,.133594],[-2.95864,1.72057,-.133594],[-2.95864,1.72057,.133594],[-2.95313,1.65,-.16875],[-2.95313,1.65,.16875],[-2.95247,1.40374,-.049219],[-2.95247,1.40374,.049219],[-2.9377,1.49447,-.16875],[-2.9377,1.49447,.16875],[-2.93523,1.85215,-.049219],[-2.93523,1.85215,.049219],[-2.93359,1.32012,0],[-2.93045,1.78693,-.16875],[-2.93045,1.78693,.16875],[-2.93037,1.4115,-.133594],[-2.93037,1.4115,.133594],[-2.92188,1.32553,-.098438],[-2.92188,1.32553,.098438],[-2.91278,1.84417,-.133594],[-2.91278,1.84417,.133594],[-2.90625,1.91016,0],[-2.89423,1.90457,-.098438],[-2.89423,1.90457,.098438],[-2.89138,1.5791,-.196875],[-2.89138,1.5791,.196875],[-2.89099,1.3398,-.16875],[-2.89099,1.3398,.16875],[-2.89065,1.71208,-.196875],[-2.89065,1.71208,.196875],[-2.88346,1.24579,-.048343],[-2.88346,1.24579,.048343],[-2.86346,1.25713,-.132718],[-2.86346,1.25713,.132718],[-2.86266,1.43483,-.196875],[-2.86266,1.43483,.196875],[-2.86255,1.88983,-.16875],[-2.86255,1.88983,.16875],[-2.85,1.65,-.225],[-2.85,1.65,.225],[-2.84971,1.16155,0],[-2.8471,1.82082,-.196875],[-2.8471,1.82082,.196875],[-2.84194,1.94692,-.049219],[-2.84194,1.94692,.049219],[-2.829,1.7614,-.225],[-2.829,1.7614,.225],[-2.82867,1.17598,-.094933],[-2.82867,1.17598,.094933],[-2.8247,1.52194,-.225],[-2.8247,1.52194,.225],[-2.82115,1.9352,-.133594],[-2.82115,1.9352,.133594],[-2.81231,1.18719,-.16875],[-2.81231,1.18719,.16875],[-2.80501,1.28997,-.196875],[-2.80501,1.28997,.196875],[-2.79727,1.38311,-.225],[-2.79727,1.38311,.225],[-2.78906,1.99014,0],[-2.78836,1.69932,-.196875],[-2.78836,1.69932,.196875],[-2.77821,1.98283,-.098438],[-2.77821,1.98283,.098438],[-2.77442,1.52738,-.196875],[-2.77442,1.52738,.196875],[-2.77356,1.0986,-.084375],[-2.77356,1.0986,.084375],[-2.76641,1.84512,-.225],[-2.76641,1.84512,.225],[-2.76034,1.9009,-.196875],[-2.76034,1.9009,.196875],[-2.7496,1.96356,-.16875],[-2.7496,1.96356,.16875],[-2.74831,1.7857,-.196875],[-2.74831,1.7857,.196875],[-2.74688,1.65,-.16875],[-2.74688,1.65,.16875],[-2.73125,1.00781,0],[-2.72756,1.73587,-.16875],[-2.72756,1.73587,.16875],[-2.72036,1.69083,-.133594],[-2.72036,1.69083,.133594],[-2.71948,1.24977,-.225],[-2.71948,1.24977,.225],[-2.71678,1.14468,-.196875],[-2.71678,1.14468,.196875],[-2.71289,1.65,-.098438],[-2.71289,1.65,.098438],[-2.70899,1.54177,-.133594],[-2.70899,1.54177,.133594],[-2.70354,1.42641,-.16875],[-2.70354,1.42641,.16875],[-2.70098,1.03784,-.16875],[-2.70098,1.03784,.16875],[-2.7,1.65,0],[-2.69965,2.01079,-.048346],[-2.69965,2.01079,.048346],[-2.69712,1.68793,-.049219],[-2.69712,1.68793,.049219],[-2.69413,1.72746,-.098438],[-2.69413,1.72746,.098438],[-2.68662,1.54669,-.049219],[-2.68662,1.54669,.049219],[-2.68263,1.76235,-.133594],[-2.68263,1.76235,.133594],[-2.68148,1.99646,-.132721],[-2.68148,1.99646,.132721],[-2.68144,1.72427,0],[-2.67574,1.27085,-.196875],[-2.67574,1.27085,.196875],[-2.67265,1.44068,-.098438],[-2.67265,1.44068,.098438],[-2.67026,1.8004,-.16875],[-2.67026,1.8004,.16875],[-2.6678,1.84623,-.196875],[-2.6678,1.84623,.196875],[-2.66279,1.9051,-.225],[-2.66279,1.9051,.225],[-2.66094,1.44609,0],[-2.66018,1.75437,-.049219],[-2.66018,1.75437,.049219],[-2.63858,1.78567,-.098438],[-2.63858,1.78567,.098438],[-2.63438,1.10391,-.225],[-2.63438,1.10391,.225],[-2.63074,1.95674,-.196875],[-2.63074,1.95674,.196875],[-2.62656,1.78008,0],[-2.625,2.04375,0],[-2.62464,1.30502,-.132813],[-2.62464,1.30502,.132813],[-2.60642,1.31745,-.048438],[-2.60642,1.31745,.048438],[-2.60632,2.02644,-.094945],[-2.60632,2.02644,.094945],[-2.5918,2.01299,-.16875],[-2.5918,2.01299,.16875],[-2.57173,1.83429,-.16875],[-2.57173,1.83429,.16875],[-2.56777,1.16997,-.16875],[-2.56777,1.16997,.16875],[-2.5546,1.18304,-.095315],[-2.5546,1.18304,.095315],[-2.54975,1.89059,-.196875],[-2.54975,1.89059,.196875],[-2.54954,.878984,-.084375],[-2.54954,.878984,.084375],[-2.54643,1.83197,-.132721],[-2.54643,1.83197,.132721],[-2.5375,1.2,0],[-2.52721,1.8192,-.048346],[-2.52721,1.8192,.048346],[-2.51875,1.94531,-.225],[-2.51875,1.94531,.225],[-2.51683,.932671,-.196875],[-2.51683,.932671,.196875],[-2.47184,1.00649,-.196875],[-2.47184,1.00649,.196875],[-2.4457,1.87764,-.16875],[-2.4457,1.87764,.16875],[-2.43913,1.06018,-.084375],[-2.43913,1.06018,.084375],[-2.43118,1.86418,-.094945],[-2.43118,1.86418,.094945],[-2.4125,1.84687,0],[-2.38828,.716602,0],[-2.38225,.737663,-.095854],[-2.38225,.737663,.095854],[-2.37884,2.05202,-.084375],[-2.37884,2.05202,.084375],[-2.37766,.75368,-.16875],[-2.37766,.75368,.16875],[-2.36475,.798761,-.199836],[-2.36475,.798761,.199836],[-2.3543,.835254,-.225],[-2.3543,.835254,.225],[-2.34384,.871747,-.199836],[-2.34384,.871747,.199836],[-2.34115,1.99972,-.196875],[-2.34115,1.99972,.196875],[-2.33093,.916827,-.16875],[-2.33093,.916827,.16875],[-2.32031,.953906,0],[-2.28932,1.92782,-.196875],[-2.28932,1.92782,.196875],[-2.25162,1.87552,-.084375],[-2.25162,1.87552,.084375],[-2.24741,.882285,-.084375],[-2.24741,.882285,.084375],[-2.17363,.844043,0],[-2.16853,.826951,-.097184],[-2.16853,.826951,.097184],[-2.16477,.814364,-.16875],[-2.16477,.814364,.16875],[-2.15688,.786694,-.187068],[-2.15688,.786694,.187068],[-2.15625,2.09297,0],[-2.15412,.74052,-.215193],[-2.15412,.74052,.215193],[-2.15017,.694734,-.215193],[-2.15017,.694734,.215193],[-2.14742,.64856,-.187068],[-2.14742,.64856,.187068],[-2.14496,.612777,-.132948],[-2.14496,.612777,.132948],[-2.14371,.591789,-.048573],[-2.14371,.591789,.048573],[-2.14233,2.05836,-.16875],[-2.14233,2.05836,.16875],[-2.11172,1.98223,-.225],[-2.11172,1.98223,.225],[-2.08447,.789526,-.048905],[-2.08447,.789526,.048905],[-2.0811,1.90609,-.16875],[-2.0811,1.90609,.16875],[-2.07834,.770387,-.13328],[-2.07834,.770387,.13328],[-2.06719,1.87148,0],[-2,.75,0],[-1.9957,.737109,-.098438],[-1.9957,.737109,.098438],[-1.98438,.703125,-.16875],[-1.98438,.703125,.16875],[-1.97852,.59165,0],[-1.96937,.670825,-.202656],[-1.96937,.670825,.202656],[-1.96836,.655078,-.210938],[-1.96836,.655078,.210938],[-1.96,.75,-.4075],[-1.96,.75,.4075],[-1.95873,.925195,-.201561],[-1.95873,.925195,.201561],[-1.95703,1.10039,0],[-1.95,.6,-.225],[-1.95,.6,.225],[-1.93895,.59165,-.403123],[-1.93895,.59165,.403123],[-1.93164,.544922,-.210938],[-1.93164,.544922,.210938],[-1.93069,.522583,-.198676],[-1.93069,.522583,.198676],[-1.92188,.453516,0],[-1.91789,1.10039,-.398745],[-1.91789,1.10039,.398745],[-1.91562,.496875,-.16875],[-1.91562,.496875,.16875],[-1.9043,.462891,-.098438],[-1.9043,.462891,.098438],[-1.9,.45,0],[-1.89228,.670825,-.593047],[-1.89228,.670825,.593047],[-1.88344,.453516,-.391582],[-1.88344,.453516,.391582],[-1.88206,.925195,-.589845],[-1.88206,.925195,.589845],[-1.88139,1.28613,-.193602],[-1.88139,1.28613,.193602],[-1.85512,.522583,-.581402],[-1.85512,.522583,.581402],[-1.845,.75,-.785],[-1.845,.75,.785],[-1.84375,1.47187,0],[-1.83317,1.89068,-.084375],[-1.83317,1.89068,.084375],[-1.8318,1.94649,-.196875],[-1.8318,1.94649,.196875],[-1.82992,2.02323,-.196875],[-1.82992,2.02323,.196875],[-1.82855,2.07904,-.084375],[-1.82855,2.07904,.084375],[-1.82518,.59165,-.776567],[-1.82518,.59165,.776567],[-1.81758,.343945,-.187036],[-1.81758,.343945,.187036],[-1.80775,1.28613,-.566554],[-1.80775,1.28613,.566554],[-1.80687,1.47187,-.375664],[-1.80687,1.47187,.375664],[-1.80536,1.10039,-.768135],[-1.80536,1.10039,.768135],[-1.77293,.453516,-.754336],[-1.77293,.453516,.754336],[-1.75,.234375,0],[-1.74644,.343945,-.547339],[-1.74644,.343945,.547339],[-1.74433,.670825,-.949871],[-1.74433,.670825,.949871],[-1.73491,.925195,-.944741],[-1.73491,.925195,.944741],[-1.715,.234375,-.356563],[-1.715,.234375,.356562],[-1.71008,.522583,-.931218],[-1.71008,.522583,.931218],[-1.70086,1.47187,-.723672],[-1.70086,1.47187,.723672],[-1.6664,1.28613,-.907437],[-1.6664,1.28613,.907437],[-1.6625,.75,-1.125],[-1.6625,.75,1.125],[-1.65516,1.86094,-.170322],[-1.65516,1.86094,.170322],[-1.64742,.159961,-.169526],[-1.64742,.159961,.169526],[-1.64464,.59165,-1.11292],[-1.64464,.59165,1.11292],[-1.62678,1.10039,-1.10083],[-1.62678,1.10039,1.10083],[-1.61437,.234375,-.686875],[-1.61437,.234375,.686875],[-1.60989,.343945,-.87666],[-1.60989,.343945,.87666],[-1.6,1.875,0],[-1.59756,.453516,-1.08106],[-1.59756,.453516,1.08106],[-1.59037,1.86094,-.498428],[-1.59037,1.86094,.498428],[-1.58438,1.91016,-.16875],[-1.58438,1.91016,.16875],[-1.58294,.159961,-.496099],[-1.58294,.159961,.496099],[-1.57813,.085547,0],[-1.55,1.9875,-.225],[-1.55,1.9875,.225],[-1.54656,.085547,-.321543],[-1.54656,.085547,.321543],[-1.53297,.670825,-1.26567],[-1.53297,.670825,1.26567],[-1.53262,1.47187,-1.03711],[-1.53262,1.47187,1.03711],[-1.52469,.925195,-1.25883],[-1.52469,.925195,1.25883],[-1.52367,.042773,-.156792],[-1.52367,.042773,.156792],[-1.51563,2.06484,-.16875],[-1.51563,2.06484,.16875],[-1.50287,.522583,-1.24081],[-1.50287,.522583,1.24081],[-1.5,0,0],[-1.5,2.1,0],[-1.5,2.25,0],[-1.47,0,-.305625],[-1.47,0,.305625],[-1.47,2.25,-.305625],[-1.47,2.25,.305625],[-1.46602,1.86094,-.79832],[-1.46602,1.86094,.79832],[-1.46449,1.28613,-1.20912],[-1.46449,1.28613,1.20912],[-1.46403,.042773,-.458833],[-1.46403,.042773,.458833],[-1.45986,2.28691,-.150226],[-1.45986,2.28691,.150226],[-1.45917,.159961,-.79459],[-1.45917,.159961,.79459],[-1.45582,.085547,-.619414],[-1.45582,.085547,.619414],[-1.45469,.234375,-.984375],[-1.45469,.234375,.984375],[-1.44922,2.32383,0],[-1.42023,2.32383,-.295278],[-1.42023,2.32383,.295278],[-1.42,.75,-1.42],[-1.42,.75,1.42],[-1.41482,.343945,-1.16812],[-1.41482,.343945,1.16812],[-1.41191,2.33613,-.145291],[-1.41191,2.33613,.145291],[-1.40475,.59165,-1.40475],[-1.40475,.59165,1.40475],[-1.40313,2.34844,0],[-1.40272,2.28691,-.439618],[-1.40272,2.28691,.439618],[-1.4,2.25,0],[-1.38949,1.10039,-1.38949],[-1.38949,1.10039,1.38949],[-1.38375,0,-.58875],[-1.38375,0,.58875],[-1.38375,2.25,-.58875],[-1.38375,2.25,.58875],[-1.38047,2.32383,0],[-1.37788,2.33613,-.141789],[-1.37788,2.33613,.141789],[-1.37633,2.28691,-.14163],[-1.37633,2.28691,.14163],[-1.37506,2.34844,-.285887],[-1.37506,2.34844,.285887],[-1.372,2.25,-.28525],[-1.372,2.25,.28525],[-1.36453,.453516,-1.36453],[-1.36453,.453516,1.36453],[-1.35665,2.33613,-.425177],[-1.35665,2.33613,.425177],[-1.35286,2.32383,-.281271],[-1.35286,2.32383,.281271],[-1.34957,.042773,-.734902],[-1.34957,.042773,.734902],[-1.3369,2.32383,-.568818],[-1.3369,2.32383,.568818],[-1.32395,2.33613,-.414929],[-1.32395,2.33613,.414929],[-1.32246,2.28691,-.414464],[-1.32246,2.28691,.414464],[-1.31182,.085547,-.887695],[-1.31182,.085547,.887695],[-1.30906,1.47187,-1.30906],[-1.30906,1.47187,1.30906],[-1.3,2.25,0],[-1.29438,2.34844,-.550727],[-1.29438,2.34844,.550727],[-1.29305,2.28691,-.704126],[-1.29305,2.28691,.704126],[-1.2915,2.25,-.5495],[-1.2915,2.25,.5495],[-1.28839,1.86094,-1.06373],[-1.28839,1.86094,1.06373],[-1.28237,.159961,-1.05876],[-1.28237,.159961,1.05876],[-1.274,2.25,-.264875],[-1.274,2.25,.264875],[-1.27348,2.32383,-.541834],[-1.27348,2.32383,.541834],[-1.26766,2.2749,-.130448],[-1.26766,2.2749,.130448],[-1.26567,.670825,-1.53297],[-1.26567,.670825,1.53297],[-1.26094,2.2998,0],[-1.25883,.925195,-1.52469],[-1.25883,.925195,1.52469],[-1.25057,2.33613,-.680997],[-1.25057,2.33613,.680997],[-1.24688,0,-.84375],[-1.24688,0,.84375],[-1.24688,2.25,-.84375],[-1.24688,2.25,.84375],[-1.2425,.234375,-1.2425],[-1.2425,.234375,1.2425],[-1.24081,.522583,-1.50287],[-1.24081,.522583,1.50287],[-1.23572,2.2998,-.256916],[-1.23572,2.2998,.256916],[-1.22043,2.33613,-.664583],[-1.22043,2.33613,.664583],[-1.21906,2.28691,-.663837],[-1.21906,2.28691,.663837],[-1.21805,2.2749,-.38174],[-1.21805,2.2749,.38174],[-1.20912,1.28613,-1.46449],[-1.20912,1.28613,1.46449],[-1.20466,2.32383,-.815186],[-1.20466,2.32383,.815186],[-1.19925,2.25,-.51025],[-1.19925,2.25,.51025],[-1.19651,2.31943,-.123125],[-1.19651,2.31943,.123125],[-1.18604,.042773,-.979229],[-1.18604,.042773,.979229],[-1.16812,.343945,-1.41482],[-1.16812,.343945,1.41482],[-1.16635,2.34844,-.789258],[-1.16635,2.34844,.789258],[-1.16375,2.25,-.7875],[-1.16375,2.25,.7875],[-1.16322,2.2998,-.494918],[-1.16322,2.2998,.494918],[-1.15625,2.33906,0],[-1.14968,2.31943,-.360312],[-1.14968,2.31943,.360312],[-1.14752,2.32383,-.776514],[-1.14752,2.32383,.776514],[-1.13637,2.28691,-.93822],[-1.13637,2.28691,.93822],[-1.13312,2.33906,-.235586],[-1.13312,2.33906,.235586],[-1.125,.75,-1.6625],[-1.125,.75,1.6625],[-1.12281,2.2749,-.611424],[-1.12281,2.2749,.611424],[-1.12047,.085547,-1.12047],[-1.12047,.085547,1.12047],[-1.11292,.59165,-1.64464],[-1.11292,.59165,1.64464],[-1.10083,1.10039,-1.62678],[-1.10083,1.10039,1.62678],[-1.09904,2.33613,-.907402],[-1.09904,2.33613,.907402],[-1.08106,.453516,-1.59756],[-1.08106,.453516,1.59756],[-1.08063,2.25,-.73125],[-1.08063,2.25,.73125],[-1.07255,2.33613,-.885531],[-1.07255,2.33613,.885531],[-1.07135,2.28691,-.884537],[-1.07135,2.28691,.884537],[-1.06664,2.33906,-.453828],[-1.06664,2.33906,.453828],[-1.065,0,-1.065],[-1.065,0,1.065],[-1.065,2.25,-1.065],[-1.065,2.25,1.065],[-1.06373,1.86094,-1.28839],[-1.06373,1.86094,1.28839],[-1.05979,2.31943,-.577104],[-1.05979,2.31943,.577104],[-1.05876,.159961,-1.28237],[-1.05876,.159961,1.28237],[-1.04815,2.2998,-.709277],[-1.04815,2.2998,.709277],[-1.03711,1.47187,-1.53262],[-1.03711,1.47187,1.53262],[-1.02894,2.32383,-1.02894],[-1.02894,2.32383,1.02894],[-.996219,2.34844,-.996219],[-.996219,2.34844,.996219],[-.994,2.25,-.994],[-.994,2.25,.994],[-.986761,2.2749,-.814698],[-.986761,2.2749,.814698],[-.984375,.234375,-1.45469],[-.984375,.234375,1.45469],[-.980719,2.36953,-.10092],[-.980719,2.36953,.10092],[-.980133,2.32383,-.980133],[-.980133,2.32383,.980133],[-.979229,.042773,-1.18604],[-.979229,.042773,1.18604],[-.961133,2.33906,-.650391],[-.961133,2.33906,.650391],[-.949871,.670825,-1.74433],[-.949871,.670825,1.74433],[-.944741,.925195,-1.73491],[-.944741,.925195,1.73491],[-.942332,2.36953,-.29533],[-.942332,2.36953,.29533],[-.93822,2.28691,-1.13637],[-.93822,2.28691,1.13637],[-.931373,2.31943,-.768968],[-.931373,2.31943,.768968],[-.931218,.522583,-1.71008],[-.931218,.522583,1.71008],[-.923,2.25,-.923],[-.923,2.25,.923],[-.907437,1.28613,-1.6664],[-.907437,1.28613,1.6664],[-.907402,2.33613,-1.09904],[-.907402,2.33613,1.09904],[-.895266,2.2998,-.895266],[-.895266,2.2998,.895266],[-.887695,.085547,-1.31182],[-.887695,.085547,1.31182],[-.885531,2.33613,-1.07255],[-.885531,2.33613,1.07255],[-.884537,2.28691,-1.07135],[-.884537,2.28691,1.07135],[-.87666,.343945,-1.60989],[-.87666,.343945,1.60989],[-.868654,2.36953,-.473023],[-.868654,2.36953,.473023],[-.84375,0,-1.24688],[-.84375,0,1.24688],[-.84375,2.25,-1.24688],[-.84375,2.25,1.24688],[-.825,2.4,0],[-.820938,2.33906,-.820938],[-.820938,2.33906,.820938],[-.815186,2.32383,-1.20466],[-.815186,2.32383,1.20466],[-.814698,2.2749,-.986761],[-.814698,2.2749,.986761],[-.8085,2.4,-.168094],[-.8085,2.4,.168094],[-.79832,1.86094,-1.46602],[-.79832,1.86094,1.46602],[-.79459,.159961,-1.45917],[-.79459,.159961,1.45917],[-.789258,2.34844,-1.16635],[-.789258,2.34844,1.16635],[-.7875,2.25,-1.16375],[-.7875,2.25,1.16375],[-.785,.75,-1.845],[-.785,.75,1.845],[-.776567,.59165,-1.82518],[-.776567,.59165,1.82518],[-.776514,2.32383,-1.14752],[-.776514,2.32383,1.14752],[-.768968,2.31943,-.931373],[-.768968,2.31943,.931373],[-.768135,1.10039,-1.80536],[-.768135,1.10039,1.80536],[-.7634,2.36953,-.630285],[-.7634,2.36953,.630285],[-.761063,2.4,-.323813],[-.761063,2.4,.323813],[-.754336,.453516,-1.77293],[-.754336,.453516,1.77293],[-.734902,.042773,-1.34957],[-.734902,.042773,1.34957],[-.73125,2.25,-1.08063],[-.73125,2.25,1.08063],[-.723672,1.47187,-1.70086],[-.723672,1.47187,1.70086],[-.709277,2.2998,-1.04815],[-.709277,2.2998,1.04815],[-.704126,2.28691,-1.29305],[-.704126,2.28691,1.29305],[-.686875,.234375,-1.61437],[-.686875,.234375,1.61437],[-.685781,2.4,-.464063],[-.685781,2.4,.464063],[-.680997,2.33613,-1.25057],[-.680997,2.33613,1.25057],[-.664583,2.33613,-1.22043],[-.664583,2.33613,1.22043],[-.663837,2.28691,-1.21906],[-.663837,2.28691,1.21906],[-.650391,2.33906,-.961133],[-.650391,2.33906,.961133],[-.631998,2.43047,-.064825],[-.631998,2.43047,.064825],[-.630285,2.36953,-.7634],[-.630285,2.36953,.7634],[-.619414,.085547,-1.45582],[-.619414,.085547,1.45582],[-.611424,2.2749,-1.12281],[-.611424,2.2749,1.12281],[-.607174,2.43047,-.190548],[-.607174,2.43047,.190548],[-.593047,.670825,-1.89228],[-.593047,.670825,1.89228],[-.589845,.925195,-1.88206],[-.589845,.925195,1.88206],[-.58875,0,-1.38375],[-.58875,0,1.38375],[-.58875,2.25,-1.38375],[-.58875,2.25,1.38375],[-.58575,2.4,-.58575],[-.58575,2.4,.58575],[-.581402,.522583,-1.85512],[-.581402,.522583,1.85512],[-.577104,2.31943,-1.05979],[-.577104,2.31943,1.05979],[-.568818,2.32383,-1.3369],[-.568818,2.32383,1.3369],[-.566554,1.28613,-1.80775],[-.566554,1.28613,1.80775],[-.559973,2.43047,-.304711],[-.559973,2.43047,.304711],[-.550727,2.34844,-1.29438],[-.550727,2.34844,1.29438],[-.5495,2.25,-1.2915],[-.5495,2.25,1.2915],[-.547339,.343945,-1.74644],[-.547339,.343945,1.74644],[-.541834,2.32383,-1.27348],[-.541834,2.32383,1.27348],[-.51025,2.25,-1.19925],[-.51025,2.25,1.19925],[-.498428,1.86094,-1.59037],[-.498428,1.86094,1.59037],[-.496099,.159961,-1.58294],[-.496099,.159961,1.58294],[-.494918,2.2998,-1.16322],[-.494918,2.2998,1.16322],[-.491907,2.43047,-.40641],[-.491907,2.43047,.40641],[-.473023,2.36953,-.868654],[-.473023,2.36953,.868654],[-.464063,2.4,-.685781],[-.464063,2.4,.685781],[-.458833,.042773,-1.46403],[-.458833,.042773,1.46403],[-.45625,2.46094,0],[-.453828,2.33906,-1.06664],[-.453828,2.33906,1.06664],[-.439618,2.28691,-1.40272],[-.439618,2.28691,1.40272],[-.438241,2.46094,-.091207],[-.438241,2.46094,.091207],[-.425177,2.33613,-1.35665],[-.425177,2.33613,1.35665],[-.420891,2.46094,-.179078],[-.420891,2.46094,.179078],[-.414929,2.33613,-1.32395],[-.414929,2.33613,1.32395],[-.414464,2.28691,-1.32246],[-.414464,2.28691,1.32246],[-.4075,.75,-1.96],[-.4075,.75,1.96],[-.40641,2.43047,-.491907],[-.40641,2.43047,.491907],[-.403123,.59165,-1.93895],[-.403123,.59165,1.93895],[-.398745,1.10039,-1.91789],[-.398745,1.10039,1.91789],[-.391582,.453516,-1.88344],[-.391582,.453516,1.88344],[-.38174,2.2749,-1.21805],[-.38174,2.2749,1.21805],[-.375664,1.47187,-1.80687],[-.375664,1.47187,1.80687],[-.372159,2.46094,-.251889],[-.372159,2.46094,.251889],[-.362109,2.89717,0],[-.360312,2.31943,-1.14968],[-.360312,2.31943,1.14968],[-.356563,.234375,1.715],[-.356562,.234375,-1.715],[-.340625,2.95078,0],[-.337859,2.92397,-.069278],[-.337859,2.92397,.069278],[-.334238,2.89717,-.142705],[-.334238,2.89717,.142705],[-.330325,2.86421,-.067672],[-.330325,2.86421,.067672],[-.325,2.83125,0],[-.323938,2.46094,-.323938],[-.323938,2.46094,.323938],[-.323813,2.4,-.761063],[-.323813,2.4,.761063],[-.321543,.085547,-1.54656],[-.321543,.085547,1.54656],[-.31541,2.50547,-.064395],[-.31541,2.50547,.064395],[-.314464,2.95078,-.134407],[-.314464,2.95078,.134407],[-.305625,0,-1.47],[-.305625,0,1.47],[-.305625,2.25,-1.47],[-.305625,2.25,1.47],[-.304711,2.43047,-.559973],[-.304711,2.43047,.559973],[-.299953,2.83125,-.127984],[-.299953,2.83125,.127984],[-.29533,2.36953,-.942332],[-.29533,2.36953,.942332],[-.295278,2.32383,-1.42023],[-.295278,2.32383,1.42023],[-.287197,2.92397,-.1943],[-.287197,2.92397,.1943],[-.285887,2.34844,-1.37506],[-.285887,2.34844,1.37506],[-.28525,2.25,-1.372],[-.28525,2.25,1.372],[-.281271,2.32383,-1.35286],[-.281271,2.32383,1.35286],[-.280732,2.86421,-.189856],[-.280732,2.86421,.189856],[-.274421,2.9688,-.05638],[-.274421,2.9688,.05638],[-.267832,2.50547,-.180879],[-.267832,2.50547,.180879],[-.264875,2.25,-1.274],[-.264875,2.25,1.274],[-.25761,2.89717,-.25761],[-.25761,2.89717,.25761],[-.256916,2.2998,-1.23572],[-.256916,2.2998,1.23572],[-.251889,2.46094,-.372159],[-.251889,2.46094,.372159],[-.250872,2.75742,-.051347],[-.250872,2.75742,.051347],[-.242477,2.95078,-.242477],[-.242477,2.95078,.242477],[-.235586,2.33906,-1.13312],[-.235586,2.33906,1.13312],[-.233382,2.9688,-.158018],[-.233382,2.9688,.158018],[-.231125,2.83125,-.231125],[-.231125,2.83125,.231125],[-.230078,2.98682,0],[-.213159,2.75742,-.144103],[-.213159,2.75742,.144103],[-.212516,2.98682,-.091113],[-.212516,2.98682,.091113],[-.202656,.670825,-1.96937],[-.202656,.670825,1.96937],[-.201561,.925195,-1.95873],[-.201561,.925195,1.95873],[-.2,2.55,0],[-.198676,.522583,-1.93069],[-.198676,.522583,1.93069],[-.196875,2.68359,0],[-.1943,2.92397,-.287197],[-.1943,2.92397,.287197],[-.193602,1.28613,-1.88139],[-.193602,1.28613,1.88139],[-.190548,2.43047,-.607174],[-.190548,2.43047,.607174],[-.189856,2.86421,-.280732],[-.189856,2.86421,.280732],[-.187036,.343945,-1.81758],[-.187036,.343945,1.81758],[-.1845,2.55,-.0785],[-.1845,2.55,.0785],[-.181661,2.68359,-.077405],[-.181661,2.68359,.077405],[-.180879,2.50547,-.267832],[-.180879,2.50547,.267832],[-.179078,2.46094,-.420891],[-.179078,2.46094,.420891],[-.176295,2.5812,-.036001],[-.176295,2.5812,.036001],[-.174804,2.648,-.035727],[-.174804,2.648,.035727],[-.170322,1.86094,-1.65516],[-.170322,1.86094,1.65516],[-.169526,.159961,-1.64742],[-.169526,.159961,1.64742],[-.168094,2.4,-.8085],[-.168094,2.4,.8085],[-.166797,2.6124,0],[-.164073,2.98682,-.164073],[-.164073,2.98682,.164073],[-.158018,2.9688,-.233382],[-.158018,2.9688,.233382],[-.156792,.042773,-1.52367],[-.156792,.042773,1.52367],[-.153882,2.6124,-.065504],[-.153882,2.6124,.065504],[-.150226,2.28691,-1.45986],[-.150226,2.28691,1.45986],[-.14971,2.5812,-.101116],[-.14971,2.5812,.101116],[-.148475,2.648,-.100316],[-.148475,2.648,.100316],[-.145291,2.33613,-1.41191],[-.145291,2.33613,1.41191],[-.144103,2.75742,-.213159],[-.144103,2.75742,.213159],[-.142705,2.89717,-.334238],[-.142705,2.89717,.334238],[-.142,2.55,-.142],[-.142,2.55,.142],[-.141789,2.33613,-1.37788],[-.141789,2.33613,1.37788],[-.14163,2.28691,-1.37633],[-.14163,2.28691,1.37633],[-.139898,2.68359,-.139898],[-.139898,2.68359,.139898],[-.134407,2.95078,-.314464],[-.134407,2.95078,.314464],[-.130448,2.2749,-1.26766],[-.130448,2.2749,1.26766],[-.127984,2.83125,-.299953],[-.127984,2.83125,.299953],[-.123125,2.31943,-1.19651],[-.123125,2.31943,1.19651],[-.118458,2.6124,-.118458],[-.118458,2.6124,.118458],[-.110649,2.99341,-.022778],[-.110649,2.99341,.022778],[-.101116,2.5812,-.14971],[-.101116,2.5812,.14971],[-.10092,2.36953,-.980719],[-.10092,2.36953,.980719],[-.100316,2.648,-.148475],[-.100316,2.648,.148475],[-.094147,2.99341,-.063797],[-.094147,2.99341,.063797],[-.091207,2.46094,-.438241],[-.091207,2.46094,.438241],[-.091113,2.98682,-.212516],[-.091113,2.98682,.212516],[-.0785,2.55,-.1845],[-.0785,2.55,.1845],[-.077405,2.68359,-.181661],[-.077405,2.68359,.181661],[-.069278,2.92397,-.337859],[-.069278,2.92397,.337859],[-.067672,2.86421,-.330325],[-.067672,2.86421,.330325],[-.065504,2.6124,-.153882],[-.065504,2.6124,.153882],[-.064825,2.43047,-.631998],[-.064825,2.43047,.631998],[-.064395,2.50547,-.31541],[-.064395,2.50547,.31541],[-.063797,2.99341,-.094147],[-.063797,2.99341,.094147],[-.05638,2.9688,-.274421],[-.05638,2.9688,.274421],[-.051347,2.75742,-.250872],[-.051347,2.75742,.250872],[-.036001,2.5812,-.176295],[-.036001,2.5812,.176295],[-.035727,2.648,-.174804],[-.035727,2.648,.174804],[-.022778,2.99341,-.110649],[-.022778,2.99341,.110649],[0,0,-1.5],[0,0,1.5],[0,.085547,-1.57813],[0,.085547,1.57813],[0,.234375,-1.75],[0,.234375,1.75],[0,.453516,-1.92188],[0,.453516,1.92188],[0,.59165,-1.97852],[0,.59165,1.97852],[0,.75,-2],[0,.75,2],[0,1.10039,-1.95703],[0,1.10039,1.95703],[0,1.47187,-1.84375],[0,1.47187,1.84375],[0,2.25,-1.5],[0,2.25,-1.4],[0,2.25,-1.3],[0,2.25,1.3],[0,2.25,1.4],[0,2.25,1.5],[0,2.2998,-1.26094],[0,2.2998,1.26094],[0,2.32383,-1.44922],[0,2.32383,-1.38047],[0,2.32383,1.38047],[0,2.32383,1.44922],[0,2.33906,-1.15625],[0,2.33906,1.15625],[0,2.34844,-1.40313],[0,2.34844,1.40313],[0,2.4,-.825],[0,2.4,.825],[0,2.46094,-.45625],[0,2.46094,.45625],[0,2.55,-.2],[0,2.55,.2],[0,2.6124,-.166797],[0,2.6124,.166797],[0,2.68359,-.196875],[0,2.68359,.196875],[0,2.83125,-.325],[0,2.83125,.325],[0,2.89717,-.362109],[0,2.89717,.362109],[0,2.95078,-.340625],[0,2.95078,.340625],[0,2.98682,-.230078],[0,2.98682,.230078],[0,3,0],[.022778,2.99341,-.110649],[.022778,2.99341,.110649],[.035727,2.648,-.174804],[.035727,2.648,.174804],[.036001,2.5812,-.176295],[.036001,2.5812,.176295],[.051347,2.75742,-.250872],[.051347,2.75742,.250872],[.05638,2.9688,-.274421],[.05638,2.9688,.274421],[.063797,2.99341,-.094147],[.063797,2.99341,.094147],[.064395,2.50547,-.31541],[.064395,2.50547,.31541],[.064825,2.43047,-.631998],[.064825,2.43047,.631998],[.065504,2.6124,-.153882],[.065504,2.6124,.153882],[.067672,2.86421,-.330325],[.067672,2.86421,.330325],[.069278,2.92397,-.337859],[.069278,2.92397,.337859],[.077405,2.68359,-.181661],[.077405,2.68359,.181661],[.0785,2.55,-.1845],[.0785,2.55,.1845],[.091113,2.98682,-.212516],[.091113,2.98682,.212516],[.091207,2.46094,-.438241],[.091207,2.46094,.438241],[.094147,2.99341,-.063797],[.094147,2.99341,.063797],[.100316,2.648,-.148475],[.100316,2.648,.148475],[.10092,2.36953,-.980719],[.10092,2.36953,.980719],[.101116,2.5812,-.14971],[.101116,2.5812,.14971],[.110649,2.99341,-.022778],[.110649,2.99341,.022778],[.118458,2.6124,-.118458],[.118458,2.6124,.118458],[.123125,2.31943,-1.19651],[.123125,2.31943,1.19651],[.127984,2.83125,-.299953],[.127984,2.83125,.299953],[.130448,2.2749,-1.26766],[.130448,2.2749,1.26766],[.134407,2.95078,-.314464],[.134407,2.95078,.314464],[.139898,2.68359,-.139898],[.139898,2.68359,.139898],[.14163,2.28691,-1.37633],[.14163,2.28691,1.37633],[.141789,2.33613,-1.37788],[.141789,2.33613,1.37788],[.142,2.55,-.142],[.142,2.55,.142],[.142705,2.89717,-.334238],[.142705,2.89717,.334238],[.144103,2.75742,-.213159],[.144103,2.75742,.213159],[.145291,2.33613,-1.41191],[.145291,2.33613,1.41191],[.148475,2.648,-.100316],[.148475,2.648,.100316],[.14971,2.5812,-.101116],[.14971,2.5812,.101116],[.150226,2.28691,-1.45986],[.150226,2.28691,1.45986],[.153882,2.6124,-.065504],[.153882,2.6124,.065504],[.156792,.042773,-1.52367],[.156792,.042773,1.52367],[.158018,2.9688,-.233382],[.158018,2.9688,.233382],[.164073,2.98682,-.164073],[.164073,2.98682,.164073],[.166797,2.6124,0],[.168094,2.4,-.8085],[.168094,2.4,.8085],[.169526,.159961,-1.64742],[.169526,.159961,1.64742],[.170322,1.86094,-1.65516],[.170322,1.86094,1.65516],[.174804,2.648,-.035727],[.174804,2.648,.035727],[.176295,2.5812,-.036001],[.176295,2.5812,.036001],[.179078,2.46094,-.420891],[.179078,2.46094,.420891],[.180879,2.50547,-.267832],[.180879,2.50547,.267832],[.181661,2.68359,-.077405],[.181661,2.68359,.077405],[.1845,2.55,-.0785],[.1845,2.55,.0785],[.187036,.343945,-1.81758],[.187036,.343945,1.81758],[.189856,2.86421,-.280732],[.189856,2.86421,.280732],[.190548,2.43047,-.607174],[.190548,2.43047,.607174],[.193602,1.28613,-1.88139],[.193602,1.28613,1.88139],[.1943,2.92397,-.287197],[.1943,2.92397,.287197],[.196875,2.68359,0],[.198676,.522583,-1.93069],[.198676,.522583,1.93069],[.2,2.55,0],[.201561,.925195,-1.95873],[.201561,.925195,1.95873],[.202656,.670825,-1.96937],[.202656,.670825,1.96937],[.212516,2.98682,-.091113],[.212516,2.98682,.091113],[.213159,2.75742,-.144103],[.213159,2.75742,.144103],[.230078,2.98682,0],[.231125,2.83125,-.231125],[.231125,2.83125,.231125],[.233382,2.9688,-.158018],[.233382,2.9688,.158018],[.235586,2.33906,-1.13312],[.235586,2.33906,1.13312],[.242477,2.95078,-.242477],[.242477,2.95078,.242477],[.250872,2.75742,-.051347],[.250872,2.75742,.051347],[.251889,2.46094,-.372159],[.251889,2.46094,.372159],[.256916,2.2998,-1.23572],[.256916,2.2998,1.23572],[.25761,2.89717,-.25761],[.25761,2.89717,.25761],[.264875,2.25,-1.274],[.264875,2.25,1.274],[.267832,2.50547,-.180879],[.267832,2.50547,.180879],[.274421,2.9688,-.05638],[.274421,2.9688,.05638],[.280732,2.86421,-.189856],[.280732,2.86421,.189856],[.281271,2.32383,-1.35286],[.281271,2.32383,1.35286],[.28525,2.25,-1.372],[.28525,2.25,1.372],[.285887,2.34844,-1.37506],[.285887,2.34844,1.37506],[.287197,2.92397,-.1943],[.287197,2.92397,.1943],[.295278,2.32383,-1.42023],[.295278,2.32383,1.42023],[.29533,2.36953,-.942332],[.29533,2.36953,.942332],[.299953,2.83125,-.127984],[.299953,2.83125,.127984],[.304711,2.43047,-.559973],[.304711,2.43047,.559973],[.305625,0,-1.47],[.305625,0,1.47],[.305625,2.25,-1.47],[.305625,2.25,1.47],[.314464,2.95078,-.134407],[.314464,2.95078,.134407],[.31541,2.50547,-.064395],[.31541,2.50547,.064395],[.321543,.085547,-1.54656],[.321543,.085547,1.54656],[.323813,2.4,-.761063],[.323813,2.4,.761063],[.323938,2.46094,-.323938],[.323938,2.46094,.323938],[.325,2.83125,0],[.330325,2.86421,-.067672],[.330325,2.86421,.067672],[.334238,2.89717,-.142705],[.334238,2.89717,.142705],[.337859,2.92397,-.069278],[.337859,2.92397,.069278],[.340625,2.95078,0],[.356562,.234375,1.715],[.356563,.234375,-1.715],[.360312,2.31943,-1.14968],[.360312,2.31943,1.14968],[.362109,2.89717,0],[.372159,2.46094,-.251889],[.372159,2.46094,.251889],[.375664,1.47187,-1.80687],[.375664,1.47187,1.80687],[.38174,2.2749,-1.21805],[.38174,2.2749,1.21805],[.391582,.453516,-1.88344],[.391582,.453516,1.88344],[.398745,1.10039,-1.91789],[.398745,1.10039,1.91789],[.403123,.59165,-1.93895],[.403123,.59165,1.93895],[.40641,2.43047,-.491907],[.40641,2.43047,.491907],[.4075,.75,-1.96],[.4075,.75,1.96],[.414464,2.28691,-1.32246],[.414464,2.28691,1.32246],[.414929,2.33613,-1.32395],[.414929,2.33613,1.32395],[.420891,2.46094,-.179078],[.420891,2.46094,.179078],[.425177,2.33613,-1.35665],[.425177,2.33613,1.35665],[.438241,2.46094,-.091207],[.438241,2.46094,.091207],[.439618,2.28691,-1.40272],[.439618,2.28691,1.40272],[.453828,2.33906,-1.06664],[.453828,2.33906,1.06664],[.45625,2.46094,0],[.458833,.042773,-1.46403],[.458833,.042773,1.46403],[.464063,2.4,-.685781],[.464063,2.4,.685781],[.473023,2.36953,-.868654],[.473023,2.36953,.868654],[.491907,2.43047,-.40641],[.491907,2.43047,.40641],[.494918,2.2998,-1.16322],[.494918,2.2998,1.16322],[.496099,.159961,-1.58294],[.496099,.159961,1.58294],[.498428,1.86094,-1.59037],[.498428,1.86094,1.59037],[.51025,2.25,-1.19925],[.51025,2.25,1.19925],[.541834,2.32383,-1.27348],[.541834,2.32383,1.27348],[.547339,.343945,-1.74644],[.547339,.343945,1.74644],[.5495,2.25,-1.2915],[.5495,2.25,1.2915],[.550727,2.34844,-1.29438],[.550727,2.34844,1.29438],[.559973,2.43047,-.304711],[.559973,2.43047,.304711],[.566554,1.28613,-1.80775],[.566554,1.28613,1.80775],[.568818,2.32383,-1.3369],[.568818,2.32383,1.3369],[.577104,2.31943,-1.05979],[.577104,2.31943,1.05979],[.581402,.522583,-1.85512],[.581402,.522583,1.85512],[.58575,2.4,-.58575],[.58575,2.4,.58575],[.58875,0,-1.38375],[.58875,0,1.38375],[.58875,2.25,-1.38375],[.58875,2.25,1.38375],[.589845,.925195,-1.88206],[.589845,.925195,1.88206],[.593047,.670825,-1.89228],[.593047,.670825,1.89228],[.607174,2.43047,-.190548],[.607174,2.43047,.190548],[.611424,2.2749,-1.12281],[.611424,2.2749,1.12281],[.619414,.085547,-1.45582],[.619414,.085547,1.45582],[.630285,2.36953,-.7634],[.630285,2.36953,.7634],[.631998,2.43047,-.064825],[.631998,2.43047,.064825],[.650391,2.33906,-.961133],[.650391,2.33906,.961133],[.663837,2.28691,-1.21906],[.663837,2.28691,1.21906],[.664583,2.33613,-1.22043],[.664583,2.33613,1.22043],[.680997,2.33613,-1.25057],[.680997,2.33613,1.25057],[.685781,2.4,-.464063],[.685781,2.4,.464063],[.686875,.234375,-1.61437],[.686875,.234375,1.61437],[.704126,2.28691,-1.29305],[.704126,2.28691,1.29305],[.709277,2.2998,-1.04815],[.709277,2.2998,1.04815],[.723672,1.47187,-1.70086],[.723672,1.47187,1.70086],[.73125,2.25,-1.08063],[.73125,2.25,1.08063],[.734902,.042773,-1.34957],[.734902,.042773,1.34957],[.754336,.453516,-1.77293],[.754336,.453516,1.77293],[.761063,2.4,-.323813],[.761063,2.4,.323813],[.7634,2.36953,-.630285],[.7634,2.36953,.630285],[.768135,1.10039,-1.80536],[.768135,1.10039,1.80536],[.768968,2.31943,-.931373],[.768968,2.31943,.931373],[.776514,2.32383,-1.14752],[.776514,2.32383,1.14752],[.776567,.59165,-1.82518],[.776567,.59165,1.82518],[.785,.75,-1.845],[.785,.75,1.845],[.7875,2.25,-1.16375],[.7875,2.25,1.16375],[.789258,2.34844,-1.16635],[.789258,2.34844,1.16635],[.79459,.159961,-1.45917],[.79459,.159961,1.45917],[.79832,1.86094,-1.46602],[.79832,1.86094,1.46602],[.8085,2.4,-.168094],[.8085,2.4,.168094],[.814698,2.2749,-.986761],[.814698,2.2749,.986761],[.815186,2.32383,-1.20466],[.815186,2.32383,1.20466],[.820938,2.33906,-.820938],[.820938,2.33906,.820938],[.825,2.4,0],[.84375,0,-1.24688],[.84375,0,1.24688],[.84375,2.25,-1.24688],[.84375,2.25,1.24688],[.868654,2.36953,-.473023],[.868654,2.36953,.473023],[.87666,.343945,-1.60989],[.87666,.343945,1.60989],[.884537,2.28691,-1.07135],[.884537,2.28691,1.07135],[.885531,2.33613,-1.07255],[.885531,2.33613,1.07255],[.887695,.085547,-1.31182],[.887695,.085547,1.31182],[.895266,2.2998,-.895266],[.895266,2.2998,.895266],[.907402,2.33613,-1.09904],[.907402,2.33613,1.09904],[.907437,1.28613,-1.6664],[.907437,1.28613,1.6664],[.923,2.25,-.923],[.923,2.25,.923],[.931218,.522583,-1.71008],[.931218,.522583,1.71008],[.931373,2.31943,-.768968],[.931373,2.31943,.768968],[.93822,2.28691,-1.13637],[.93822,2.28691,1.13637],[.942332,2.36953,-.29533],[.942332,2.36953,.29533],[.944741,.925195,-1.73491],[.944741,.925195,1.73491],[.949871,.670825,-1.74433],[.949871,.670825,1.74433],[.961133,2.33906,-.650391],[.961133,2.33906,.650391],[.979229,.042773,-1.18604],[.979229,.042773,1.18604],[.980133,2.32383,-.980133],[.980133,2.32383,.980133],[.980719,2.36953,-.10092],[.980719,2.36953,.10092],[.984375,.234375,-1.45469],[.984375,.234375,1.45469],[.986761,2.2749,-.814698],[.986761,2.2749,.814698],[.994,2.25,-.994],[.994,2.25,.994],[.996219,2.34844,-.996219],[.996219,2.34844,.996219],[1.02894,2.32383,-1.02894],[1.02894,2.32383,1.02894],[1.03711,1.47187,-1.53262],[1.03711,1.47187,1.53262],[1.04815,2.2998,-.709277],[1.04815,2.2998,.709277],[1.05876,.159961,-1.28237],[1.05876,.159961,1.28237],[1.05979,2.31943,-.577104],[1.05979,2.31943,.577104],[1.06373,1.86094,-1.28839],[1.06373,1.86094,1.28839],[1.065,0,-1.065],[1.065,0,1.065],[1.065,2.25,-1.065],[1.065,2.25,1.065],[1.06664,2.33906,-.453828],[1.06664,2.33906,.453828],[1.07135,2.28691,-.884537],[1.07135,2.28691,.884537],[1.07255,2.33613,-.885531],[1.07255,2.33613,.885531],[1.08063,2.25,-.73125],[1.08063,2.25,.73125],[1.08106,.453516,-1.59756],[1.08106,.453516,1.59756],[1.09904,2.33613,-.907402],[1.09904,2.33613,.907402],[1.10083,1.10039,-1.62678],[1.10083,1.10039,1.62678],[1.11292,.59165,-1.64464],[1.11292,.59165,1.64464],[1.12047,.085547,-1.12047],[1.12047,.085547,1.12047],[1.12281,2.2749,-.611424],[1.12281,2.2749,.611424],[1.125,.75,-1.6625],[1.125,.75,1.6625],[1.13312,2.33906,-.235586],[1.13312,2.33906,.235586],[1.13637,2.28691,-.93822],[1.13637,2.28691,.93822],[1.14752,2.32383,-.776514],[1.14752,2.32383,.776514],[1.14968,2.31943,-.360312],[1.14968,2.31943,.360312],[1.15625,2.33906,0],[1.16322,2.2998,-.494918],[1.16322,2.2998,.494918],[1.16375,2.25,-.7875],[1.16375,2.25,.7875],[1.16635,2.34844,-.789258],[1.16635,2.34844,.789258],[1.16812,.343945,-1.41482],[1.16812,.343945,1.41482],[1.18604,.042773,-.979229],[1.18604,.042773,.979229],[1.19651,2.31943,-.123125],[1.19651,2.31943,.123125],[1.19925,2.25,-.51025],[1.19925,2.25,.51025],[1.20466,2.32383,-.815186],[1.20466,2.32383,.815186],[1.20912,1.28613,-1.46449],[1.20912,1.28613,1.46449],[1.21805,2.2749,-.38174],[1.21805,2.2749,.38174],[1.21906,2.28691,-.663837],[1.21906,2.28691,.663837],[1.22043,2.33613,-.664583],[1.22043,2.33613,.664583],[1.23572,2.2998,-.256916],[1.23572,2.2998,.256916],[1.24081,.522583,-1.50287],[1.24081,.522583,1.50287],[1.2425,.234375,-1.2425],[1.2425,.234375,1.2425],[1.24688,0,-.84375],[1.24688,0,.84375],[1.24688,2.25,-.84375],[1.24688,2.25,.84375],[1.25057,2.33613,-.680997],[1.25057,2.33613,.680997],[1.25883,.925195,-1.52469],[1.25883,.925195,1.52469],[1.26094,2.2998,0],[1.26567,.670825,-1.53297],[1.26567,.670825,1.53297],[1.26766,2.2749,-.130448],[1.26766,2.2749,.130448],[1.27348,2.32383,-.541834],[1.27348,2.32383,.541834],[1.274,2.25,-.264875],[1.274,2.25,.264875],[1.28237,.159961,-1.05876],[1.28237,.159961,1.05876],[1.28839,1.86094,-1.06373],[1.28839,1.86094,1.06373],[1.2915,2.25,-.5495],[1.2915,2.25,.5495],[1.29305,2.28691,-.704126],[1.29305,2.28691,.704126],[1.29438,2.34844,-.550727],[1.29438,2.34844,.550727],[1.3,2.25,0],[1.30906,1.47187,-1.30906],[1.30906,1.47187,1.30906],[1.31182,.085547,-.887695],[1.31182,.085547,.887695],[1.32246,2.28691,-.414464],[1.32246,2.28691,.414464],[1.32395,2.33613,-.414929],[1.32395,2.33613,.414929],[1.3369,2.32383,-.568818],[1.3369,2.32383,.568818],[1.34957,.042773,-.734902],[1.34957,.042773,.734902],[1.35286,2.32383,-.281271],[1.35286,2.32383,.281271],[1.35665,2.33613,-.425177],[1.35665,2.33613,.425177],[1.36453,.453516,-1.36453],[1.36453,.453516,1.36453],[1.372,2.25,-.28525],[1.372,2.25,.28525],[1.37506,2.34844,-.285887],[1.37506,2.34844,.285887],[1.37633,2.28691,-.14163],[1.37633,2.28691,.14163],[1.37788,2.33613,-.141789],[1.37788,2.33613,.141789],[1.38047,2.32383,0],[1.38375,0,-.58875],[1.38375,0,.58875],[1.38375,2.25,-.58875],[1.38375,2.25,.58875],[1.38949,1.10039,-1.38949],[1.38949,1.10039,1.38949],[1.4,2.25,0],[1.40272,2.28691,-.439618],[1.40272,2.28691,.439618],[1.40313,2.34844,0],[1.40475,.59165,-1.40475],[1.40475,.59165,1.40475],[1.41191,2.33613,-.145291],[1.41191,2.33613,.145291],[1.41482,.343945,-1.16812],[1.41482,.343945,1.16812],[1.42,.75,-1.42],[1.42,.75,1.42],[1.42023,2.32383,-.295278],[1.42023,2.32383,.295278],[1.44922,2.32383,0],[1.45469,.234375,-.984375],[1.45469,.234375,.984375],[1.45582,.085547,-.619414],[1.45582,.085547,.619414],[1.45917,.159961,-.79459],[1.45917,.159961,.79459],[1.45986,2.28691,-.150226],[1.45986,2.28691,.150226],[1.46403,.042773,-.458833],[1.46403,.042773,.458833],[1.46449,1.28613,-1.20912],[1.46449,1.28613,1.20912],[1.46602,1.86094,-.79832],[1.46602,1.86094,.79832],[1.47,0,-.305625],[1.47,0,.305625],[1.47,2.25,-.305625],[1.47,2.25,.305625],[1.5,0,0],[1.5,2.25,0],[1.50287,.522583,-1.24081],[1.50287,.522583,1.24081],[1.52367,.042773,-.156792],[1.52367,.042773,.156792],[1.52469,.925195,-1.25883],[1.52469,.925195,1.25883],[1.53262,1.47187,-1.03711],[1.53262,1.47187,1.03711],[1.53297,.670825,-1.26567],[1.53297,.670825,1.26567],[1.54656,.085547,-.321543],[1.54656,.085547,.321543],[1.57813,.085547,0],[1.58294,.159961,-.496099],[1.58294,.159961,.496099],[1.59037,1.86094,-.498428],[1.59037,1.86094,.498428],[1.59756,.453516,-1.08106],[1.59756,.453516,1.08106],[1.60989,.343945,-.87666],[1.60989,.343945,.87666],[1.61437,.234375,-.686875],[1.61437,.234375,.686875],[1.62678,1.10039,-1.10083],[1.62678,1.10039,1.10083],[1.64464,.59165,-1.11292],[1.64464,.59165,1.11292],[1.64742,.159961,-.169526],[1.64742,.159961,.169526],[1.65516,1.86094,-.170322],[1.65516,1.86094,.170322],[1.6625,.75,-1.125],[1.6625,.75,1.125],[1.6664,1.28613,-.907437],[1.6664,1.28613,.907437],[1.7,.45,0],[1.7,.485449,-.216563],[1.7,.485449,.216563],[1.7,.578906,-.37125],[1.7,.578906,.37125],[1.7,.711035,-.464063],[1.7,.711035,.464063],[1.7,.8625,-.495],[1.7,.8625,.495],[1.7,1.01397,-.464063],[1.7,1.01397,.464063],[1.7,1.14609,-.37125],[1.7,1.14609,.37125],[1.7,1.23955,-.216563],[1.7,1.23955,.216563],[1.7,1.275,0],[1.70086,1.47187,-.723672],[1.70086,1.47187,.723672],[1.71008,.522583,-.931218],[1.71008,.522583,.931218],[1.715,.234375,-.356562],[1.715,.234375,.356563],[1.73491,.925195,-.944741],[1.73491,.925195,.944741],[1.74433,.670825,-.949871],[1.74433,.670825,.949871],[1.74644,.343945,-.547339],[1.74644,.343945,.547339],[1.75,.234375,0],[1.77293,.453516,-.754336],[1.77293,.453516,.754336],[1.80536,1.10039,-.768135],[1.80536,1.10039,.768135],[1.80687,1.47187,-.375664],[1.80687,1.47187,.375664],[1.80775,1.28613,-.566554],[1.80775,1.28613,.566554],[1.80868,.66944,-.415335],[1.80868,.66944,.415335],[1.81523,.556498,-.292881],[1.81523,.556498,.292881],[1.81758,.343945,-.187036],[1.81758,.343945,.187036],[1.8185,.493823,-.107904],[1.8185,.493823,.107904],[1.82518,.59165,-.776567],[1.82518,.59165,.776567],[1.84375,1.47187,0],[1.84408,1.27311,-.106836],[1.84408,1.27311,.106836],[1.845,.75,-.785],[1.845,.75,.785],[1.84989,1.21245,-.289984],[1.84989,1.21245,.289984],[1.85512,.522583,-.581402],[1.85512,.522583,.581402],[1.86007,1.10628,-.412082],[1.86007,1.10628,.412082],[1.87286,.97282,-.473131],[1.87286,.97282,.473131],[1.88139,1.28613,-.193602],[1.88139,1.28613,.193602],[1.88206,.925195,-.589845],[1.88206,.925195,.589845],[1.88344,.453516,-.391582],[1.88344,.453516,.391582],[1.88652,.830257,-.473131],[1.88652,.830257,.473131],[1.89228,.670825,-.593047],[1.89228,.670825,.593047],[1.90898,.762851,-.457368],[1.90898,.762851,.457368],[1.91789,1.10039,-.398745],[1.91789,1.10039,.398745],[1.92188,.453516,0],[1.92572,.624968,-.36866],[1.92572,.624968,.36866],[1.93069,.522583,-.198676],[1.93069,.522583,.198676],[1.9352,.536667,-.215052],[1.9352,.536667,.215052],[1.93879,.503174,0],[1.93895,.59165,-.403123],[1.93895,.59165,.403123],[1.95703,1.10039,0],[1.95873,.925195,-.201561],[1.95873,.925195,.201561],[1.96,.75,-.4075],[1.96,.75,.4075],[1.96937,.670825,-.202656],[1.96937,.670825,.202656],[1.97852,.59165,0],[1.98496,1.30459,0],[1.99136,1.27331,-.210782],[1.99136,1.27331,.210782],[2,.75,0],[2.00799,.721263,-.409761],[2.00799,.721263,.409761],[2.00821,1.19084,-.36134],[2.00821,1.19084,.36134],[2.02471,.614949,-.288958],[2.02471,.614949,.288958],[2.03205,1.07424,-.451675],[2.03205,1.07424,.451675],[2.03379,.556062,-.106458],[2.03379,.556062,.106458],[2.05938,.940576,-.481787],[2.05938,.940576,.481787],[2.08644,1.33048,-.101581],[2.08644,1.33048,.101581],[2.0867,.806915,-.451675],[2.0867,.806915,.451675],[2.10141,1.27815,-.27572],[2.10141,1.27815,.27572],[2.11053,.690317,-.36134],[2.11053,.690317,.36134],[2.12739,.607845,-.210782],[2.12739,.607845,.210782],[2.1276,1.18656,-.391812],[2.1276,1.18656,.391812],[2.13379,.576563,0],[2.16054,1.07143,-.449859],[2.16054,1.07143,.449859],[2.16922,.790259,-.39936],[2.16922,.790259,.39936],[2.17969,1.38516,0],[2.18976,1.35887,-.195542],[2.18976,1.35887,.195542],[2.19481,.691761,-.281559],[2.19481,.691761,.281559],[2.19571,.948444,-.449859],[2.19571,.948444,.449859],[2.20837,.637082,-.103732],[2.20837,.637082,.103732],[2.21631,1.28957,-.335215],[2.21631,1.28957,.335215],[2.2202,.891314,-.434457],[2.2202,.891314,.434457],[2.24857,1.433,-.092384],[2.24857,1.433,.092384],[2.25384,1.1916,-.419019],[2.25384,1.1916,.419019],[2.25944,.772489,-.349967],[2.25944,.772489,.349967],[2.26857,1.39016,-.250758],[2.26857,1.39016,.250758],[2.28189,.696393,-.204147],[2.28189,.696393,.204147],[2.29041,.667529,0],[2.29688,1.0793,-.446953],[2.29688,1.0793,.446953],[2.29925,.874953,-.384664],[2.29925,.874953,.384664],[2.30358,1.3152,-.35634],[2.30358,1.3152,.35634],[2.30644,1.5044,0],[2.31838,1.48356,-.173996],[2.31838,1.48356,.173996],[2.33069,.784406,-.271218],[2.33069,.784406,.271218],[2.33991,.966989,-.419019],[2.33991,.966989,.419019],[2.34759,.734271,-.099922],[2.34759,.734271,.099922],[2.34759,1.22096,-.409131],[2.34759,1.22096,.409131],[2.34984,1.42864,-.298279],[2.34984,1.42864,.298279],[2.35318,1.56816,-.080823],[2.35318,1.56816,.080823],[2.37575,1.53531,-.219377],[2.37575,1.53531,.219377],[2.37744,.869019,-.335215],[2.37744,.869019,.335215],[2.3875,1.65,0],[2.39432,1.35098,-.372849],[2.39432,1.35098,.372849],[2.3946,1.1203,-.409131],[2.3946,1.1203,.409131],[2.40039,1.63469,-.149297],[2.40039,1.63469,.149297],[2.40399,.799722,-.195542],[2.40399,.799722,.195542],[2.41406,.773438,0],[2.41524,1.47781,-.311747],[2.41524,1.47781,.311747],[2.43438,1.59434,-.255938],[2.43438,1.59434,.255938],[2.43861,1.02606,-.35634],[2.43861,1.02606,.35634],[2.44531,1.26196,-.397705],[2.44531,1.26196,.397705],[2.45168,1.80534,-.063087],[2.45168,1.80534,.063087],[2.46489,1.40552,-.357931],[2.46489,1.40552,.357931],[2.47362,.951099,-.250758],[2.47362,.951099,.250758],[2.47768,1.78638,-.171237],[2.47768,1.78638,.171237],[2.48242,1.53728,-.319922],[2.48242,1.53728,.319922],[2.49362,.908264,-.092384],[2.49362,.908264,.092384],[2.4963,1.17295,-.372849],[2.4963,1.17295,.372849],[2.50156,1.97109,0],[2.51727,1.96555,-.103052],[2.51727,1.96555,.103052],[2.51792,1.32831,-.357931],[2.51792,1.32831,.357931],[2.52318,1.75322,-.243336],[2.52318,1.75322,.243336],[2.5375,1.47187,-.34125],[2.5375,1.47187,.34125],[2.54078,1.09529,-.298279],[2.54078,1.09529,.298279],[2.54911,2.04464,-.047716],[2.54911,2.04464,.047716],[2.55869,1.95095,-.17666],[2.55869,1.95095,.17666],[2.56757,1.25603,-.311747],[2.56757,1.25603,.311747],[2.57225,1.04036,-.173996],[2.57225,1.04036,.173996],[2.5791,2.12197,0],[2.58039,1.71153,-.279386],[2.58039,1.71153,.279386],[2.58101,2.03773,-.129515],[2.58101,2.03773,.129515],[2.58418,1.01953,0],[2.59258,1.40647,-.319922],[2.59258,1.40647,.319922],[2.59849,2.11992,-.087812],[2.59849,2.11992,.087812],[2.60178,1.55472,-.304019],[2.60178,1.55472,.304019],[2.60707,1.19853,-.219377],[2.60707,1.19853,.219377],[2.61162,1.69128,-.287908],[2.61162,1.69128,.287908],[2.61725,1.93031,-.220825],[2.61725,1.93031,.220825],[2.62963,1.16568,-.080823],[2.62963,1.16568,.080823],[2.63788,2.02555,-.180818],[2.63788,2.02555,.180818],[2.64063,1.34941,-.255938],[2.64063,1.34941,.255938],[2.6496,2.11451,-.150535],[2.6496,2.11451,.150535],[2.65084,2.18547,-.042461],[2.65084,2.18547,.042461],[2.65391,1.5042,-.264113],[2.65391,1.5042,.264113],[2.66542,1.64925,-.266995],[2.66542,1.64925,.266995],[2.67461,1.30906,-.149297],[2.67461,1.30906,.149297],[2.67823,1.78254,-.252819],[2.67823,1.78254,.252819],[2.68438,1.90664,-.235547],[2.68438,1.90664,.235547],[2.6875,1.29375,0],[2.6919,2.18361,-.115251],[2.6919,2.18361,.115251],[2.69645,1.4638,-.185857],[2.69645,1.4638,.185857],[2.7,2.25,0],[2.70808,2.01037,-.208084],[2.70808,2.01037,.208084],[2.71703,1.61167,-.213596],[2.71703,1.61167,.213596],[2.72076,1.44072,-.068474],[2.72076,1.44072,.068474],[2.72578,2.25,-.082031],[2.72578,2.25,.082031],[2.72599,2.10643,-.17525],[2.72599,2.10643,.17525],[2.736,1.75155,-.219519],[2.736,1.75155,.219519],[2.75021,2.26919,-.039734],[2.75021,2.26919,.039734],[2.7515,1.88297,-.220825],[2.7515,1.88297,.220825],[2.75354,1.58508,-.124598],[2.75354,1.58508,.124598],[2.76738,1.575,0],[2.77556,2.284,0],[2.78099,1.99437,-.208084],[2.78099,1.99437,.208084],[2.78303,1.7267,-.154476],[2.78303,1.7267,.154476],[2.79375,2.25,-.140625],[2.79375,2.25,.140625],[2.79782,2.27175,-.107849],[2.79782,2.27175,.107849],[2.79949,2.29275,-.076904],[2.79949,2.29275,.076904],[2.8,2.25,0],[2.80469,2.0981,-.200713],[2.80469,2.0981,.200713],[2.8099,1.7125,-.056912],[2.8099,1.7125,.056912],[2.81006,1.86233,-.17666],[2.81006,1.86233,.17666],[2.81201,2.17815,-.169843],[2.81201,2.17815,.169843],[2.81274,2.29754,-.035632],[2.81274,2.29754,.035632],[2.81719,2.25,-.049219],[2.81719,2.25,.049219],[2.825,2.30625,0],[2.83011,2.27129,-.025891],[2.83011,2.27129,.025891],[2.84063,2.29219,0],[2.84479,2.29964,-.029993],[2.84479,2.29964,.029993],[2.85092,2.30716,-.065625],[2.85092,2.30716,.065625],[2.85118,1.97919,-.180818],[2.85118,1.97919,.180818],[2.85148,1.84773,-.103052],[2.85148,1.84773,.103052],[2.86048,2.30093,-.096716],[2.86048,2.30093,.096716],[2.8625,2.25,-.084375],[2.8625,2.25,.084375],[2.86263,2.29298,-.054346],[2.86263,2.29298,.054346],[2.86574,2.27201,-.070276],[2.86574,2.27201,.070276],[2.86719,1.84219,0],[2.87228,2.29425,-.131836],[2.87228,2.29425,.131836],[2.88339,2.08977,-.17525],[2.88339,2.08977,.17525],[2.88836,2.30119,-.081409],[2.88836,2.30119,.081409],[2.89827,2.17088,-.194382],[2.89827,2.17088,.194382],[2.90805,1.967,-.129515],[2.90805,1.967,.129515],[2.91924,2.30955,-.1125],[2.91924,2.30955,.1125],[2.92064,2.29507,-.093164],[2.92064,2.29507,.093164],[2.93279,2.13103,-.172211],[2.93279,2.13103,.172211],[2.9398,2.27326,-.158936],[2.9398,2.27326,.158936],[2.93996,1.9601,-.047716],[2.93996,1.9601,.047716],[2.95978,2.08168,-.150535],[2.95978,2.08168,.150535],[2.96995,2.27412,-.103564],[2.96995,2.27412,.103564],[3,2.25,-.1875],[3,2.25,-.1125],[3,2.25,.1125],[3,2.25,.1875],[3.00281,2.30484,-.142529],[3.00281,2.30484,.142529],[3.01089,2.07627,-.087812],[3.01089,2.07627,.087812],[3.01578,2.30571,-.119971],[3.01578,2.30571,.119971],[3.03027,2.07422,0],[3.0415,2.12567,-.116276],[3.0415,2.12567,.116276],[3.04323,2.21108,-.166431],[3.04323,2.21108,.166431],[3.06842,2.17345,-.143215],[3.06842,2.17345,.143215],[3.07929,2.12306,-.042838],[3.07929,2.12306,.042838],[3.09316,2.29878,-.175781],[3.09316,2.29878,.175781],[3.09668,2.30142,-.124219],[3.09668,2.30142,.124219],[3.12656,2.3168,-.15],[3.12656,2.3168,.15],[3.12672,2.27729,-.103564],[3.12672,2.27729,.103564],[3.12691,2.17128,-.083542],[3.12691,2.17128,.083542],[3.1375,2.25,-.084375],[3.1375,2.25,.084375],[3.1491,2.17046,0],[3.15337,2.27552,-.158936],[3.15337,2.27552,.158936],[3.16895,2.21118,-.112353],[3.16895,2.21118,.112353],[3.18281,2.25,-.049219],[3.18281,2.25,.049219],[3.2,2.25,0],[3.20625,2.25,-.140625],[3.20625,2.25,.140625],[3.20746,2.31251,-.119971],[3.20746,2.31251,.119971],[3.21256,2.21043,-.041393],[3.21256,2.21043,.041393],[3.21692,2.31073,-.142529],[3.21692,2.31073,.142529],[3.23094,2.2794,-.070276],[3.23094,2.2794,.070276],[3.26724,2.27814,-.025891],[3.26724,2.27814,.025891],[3.27272,2.30776,-.093164],[3.27272,2.30776,.093164],[3.27422,2.25,-.082031],[3.27422,2.25,.082031],[3.29534,2.27703,-.107849],[3.29534,2.27703,.107849],[3.3,2.25,0],[3.31405,2.30331,-.131836],[3.31405,2.30331,.131836],[3.33073,2.30985,-.054346],[3.33073,2.30985,.054346],[3.33389,2.32405,-.1125],[3.33389,2.32405,.1125],[3.33489,2.31702,-.081409],[3.33489,2.31702,.081409],[3.34236,2.28006,-.039734],[3.34236,2.28006,.039734],[3.35543,2.3027,0],[3.35925,2.31465,-.096716],[3.35925,2.31465,.096716],[3.37912,2.31658,-.029993],[3.37912,2.31658,.029993],[3.38684,2.30481,-.076904],[3.38684,2.30481,.076904],[3.40221,2.32644,-.065625],[3.40221,2.32644,.065625],[3.40639,2.3185,-.035632],[3.40639,2.3185,.035632],[3.40838,2.31543,0],[3.42812,2.32734,0]],g=[[1454,1468,1458],[1448,1454,1458],[1461,1448,1458],[1468,1461,1458],[1429,1454,1440],[1421,1429,1440],[1448,1421,1440],[1454,1448,1440],[1380,1429,1398],[1373,1380,1398],[1421,1373,1398],[1429,1421,1398],[1327,1380,1349],[1319,1327,1349],[1373,1319,1349],[1380,1373,1349],[1448,1461,1460],[1456,1448,1460],[1471,1456,1460],[1461,1471,1460],[1421,1448,1442],[1433,1421,1442],[1456,1433,1442],[1448,1456,1442],[1373,1421,1400],[1382,1373,1400],[1433,1382,1400],[1421,1433,1400],[1319,1373,1351],[1329,1319,1351],[1382,1329,1351],[1373,1382,1351],[1264,1327,1289],[1258,1264,1289],[1319,1258,1289],[1327,1319,1289],[1192,1264,1228],[1188,1192,1228],[1258,1188,1228],[1264,1258,1228],[1100,1192,1157],[1098,1100,1157],[1188,1098,1157],[1192,1188,1157],[922,1100,1006],[928,922,1006],[1098,928,1006],[1100,1098,1006],[1258,1319,1291],[1266,1258,1291],[1329,1266,1291],[1319,1329,1291],[1188,1258,1230],[1194,1188,1230],[1266,1194,1230],[1258,1266,1230],[1098,1188,1159],[1102,1098,1159],[1194,1102,1159],[1188,1194,1159],[928,1098,1008],[933,928,1008],[1102,933,1008],[1098,1102,1008],[1456,1471,1475],[1481,1456,1475],[1482,1481,1475],[1471,1482,1475],[1433,1456,1450],[1444,1433,1450],[1481,1444,1450],[1456,1481,1450],[1382,1433,1412],[1392,1382,1412],[1444,1392,1412],[1433,1444,1412],[1329,1382,1357],[1331,1329,1357],[1392,1331,1357],[1382,1392,1357],[1481,1482,1490],[1500,1481,1490],[1502,1500,1490],[1482,1502,1490],[1444,1481,1470],[1465,1444,1470],[1500,1465,1470],[1481,1500,1470],[1392,1444,1431],[1410,1392,1431],[1465,1410,1431],[1444,1465,1431],[1331,1392,1371],[1345,1331,1371],[1410,1345,1371],[1392,1410,1371],[1266,1329,1297],[1276,1266,1297],[1331,1276,1297],[1329,1331,1297],[1194,1266,1232],[1200,1194,1232],[1276,1200,1232],[1266,1276,1232],[1102,1194,1163],[1106,1102,1163],[1200,1106,1163],[1194,1200,1163],[933,1102,1016],[929,933,1016],[1106,929,1016],[1102,1106,1016],[1276,1331,1307],[1283,1276,1307],[1345,1283,1307],[1331,1345,1307],[1200,1276,1238],[1210,1200,1238],[1283,1210,1238],[1276,1283,1238],[1106,1200,1167],[1116,1106,1167],[1210,1116,1167],[1200,1210,1167],[929,1106,1022],[923,929,1022],[1116,923,1022],[1106,1116,1022],[755,922,849],[757,755,849],[928,757,849],[922,928,849],[663,755,698],[667,663,698],[757,667,698],[755,757,698],[591,663,627],[597,591,627],[667,597,627],[663,667,627],[528,591,566],[536,528,566],[597,536,566],[591,597,566],[757,928,847],[753,757,847],[933,753,847],[928,933,847],[667,757,696],[661,667,696],[753,661,696],[757,753,696],[597,667,625],[589,597,625],[661,589,625],[667,661,625],[536,597,564],[526,536,564],[589,526,564],[597,589,564],[475,528,506],[482,475,506],[536,482,506],[528,536,506],[426,475,457],[434,426,457],[482,434,457],[475,482,457],[401,426,415],[407,401,415],[434,407,415],[426,434,415],[386,401,397],[393,386,397],[407,393,397],[401,407,397],[482,536,504],[473,482,504],[526,473,504],[536,526,504],[434,482,455],[422,434,455],[473,422,455],[482,473,455],[407,434,413],[399,407,413],[422,399,413],[434,422,413],[393,407,395],[383,393,395],[399,383,395],[407,399,395],[753,933,839],[749,753,839],[929,749,839],[933,929,839],[661,753,692],[655,661,692],[749,655,692],[753,749,692],[589,661,623],[579,589,623],[655,579,623],[661,655,623],[526,589,558],[524,526,558],[579,524,558],[589,579,558],[749,929,833],[741,749,833],[923,741,833],[929,923,833],[655,749,688],[647,655,688],[741,647,688],[749,741,688],[579,655,617],[574,579,617],[647,574,617],[655,647,617],[524,579,548],[512,524,548],[574,512,548],[579,574,548],[473,526,498],[463,473,498],[524,463,498],[526,524,498],[422,473,443],[411,422,443],[463,411,443],[473,463,443],[399,422,405],[374,399,405],[411,374,405],[422,411,405],[383,399,380],[372,383,380],[374,372,380],[399,374,380],[463,524,484],[447,463,484],[512,447,484],[524,512,484],[411,463,424],[392,411,424],[447,392,424],[463,447,424],[374,411,385],[357,374,385],[392,357,385],[411,392,385],[372,374,365],[353,372,365],[357,353,365],[374,357,365],[400,386,396],[406,400,396],[393,406,396],[386,393,396],[425,400,414],[433,425,414],[406,433,414],[400,406,414],[474,425,456],[481,474,456],[433,481,456],[425,433,456],[527,474,505],[535,527,505],[481,535,505],[474,481,505],[406,393,394],[398,406,394],[383,398,394],[393,383,394],[433,406,412],[421,433,412],[398,421,412],[406,398,412],[481,433,454],[472,481,454],[421,472,454],[433,421,454],[535,481,503],[525,535,503],[472,525,503],[481,472,503],[590,527,565],[596,590,565],[535,596,565],[527,535,565],[662,590,626],[666,662,626],[596,666,626],[590,596,626],[754,662,697],[756,754,697],[666,756,697],[662,666,697],[919,754,848],[927,919,848],[756,927,848],[754,756,848],[596,535,563],[588,596,563],[525,588,563],[535,525,563],[666,596,624],[660,666,624],[588,660,624],[596,588,624],[756,666,695],[752,756,695],[660,752,695],[666,660,695],[927,756,846],[932,927,846],[752,932,846],[756,752,846],[398,383,379],[373,398,379],[372,373,379],[383,372,379],[421,398,404],[410,421,404],[373,410,404],[398,373,404],[472,421,442],[462,472,442],[410,462,442],[421,410,442],[525,472,497],[523,525,497],[462,523,497],[472,462,497],[373,372,364],[356,373,364],[353,356,364],[372,353,364],[410,373,384],[391,410,384],[356,391,384],[373,356,384],[462,410,423],[446,462,423],[391,446,423],[410,391,423],[523,462,483],[511,523,483],[446,511,483],[462,446,483],[588,525,557],[578,588,557],[523,578,557],[525,523,557],[660,588,622],[654,660,622],[578,654,622],[588,578,622],[752,660,691],[748,752,691],[654,748,691],[660,654,691],[932,752,838],[926,932,838],[748,926,838],[752,748,838],[578,523,547],[573,578,547],[511,573,547],[523,511,547],[654,578,616],[646,654,616],[573,646,616],[578,573,616],[748,654,687],[740,748,687],[646,740,687],[654,646,687],[926,748,832],[918,926,832],[740,918,832],[748,740,832],[1099,919,1005],[1097,1099,1005],[927,1097,1005],[919,927,1005],[1191,1099,1156],[1187,1191,1156],[1097,1187,1156],[1099,1097,1156],[1263,1191,1227],[1257,1263,1227],[1187,1257,1227],[1191,1187,1227],[1326,1263,1288],[1318,1326,1288],[1257,1318,1288],[1263,1257,1288],[1097,927,1007],[1101,1097,1007],[932,1101,1007],[927,932,1007],[1187,1097,1158],[1193,1187,1158],[1101,1193,1158],[1097,1101,1158],[1257,1187,1229],[1265,1257,1229],[1193,1265,1229],[1187,1193,1229],[1318,1257,1290],[1328,1318,1290],[1265,1328,1290],[1257,1265,1290],[1379,1326,1348],[1372,1379,1348],[1318,1372,1348],[1326,1318,1348],[1428,1379,1397],[1420,1428,1397],[1372,1420,1397],[1379,1372,1397],[1453,1428,1439],[1447,1453,1439],[1420,1447,1439],[1428,1420,1439],[1468,1453,1457],[1461,1468,1457],[1447,1461,1457],[1453,1447,1457],[1372,1318,1350],[1381,1372,1350],[1328,1381,1350],[1318,1328,1350],[1420,1372,1399],[1432,1420,1399],[1381,1432,1399],[1372,1381,1399],[1447,1420,1441],[1455,1447,1441],[1432,1455,1441],[1420,1432,1441],[1461,1447,1459],[1471,1461,1459],[1455,1471,1459],[1447,1455,1459],[1101,932,1015],[1105,1101,1015],[926,1105,1015],[932,926,1015],[1193,1101,1162],[1199,1193,1162],[1105,1199,1162],[1101,1105,1162],[1265,1193,1231],[1275,1265,1231],[1199,1275,1231],[1193,1199,1231],[1328,1265,1296],[1330,1328,1296],[1275,1330,1296],[1265,1275,1296],[1105,926,1021],[1115,1105,1021],[918,1115,1021],[926,918,1021],[1199,1105,1166],[1209,1199,1166],[1115,1209,1166],[1105,1115,1166],[1275,1199,1237],[1282,1275,1237],[1209,1282,1237],[1199,1209,1237],[1330,1275,1306],[1344,1330,1306],[1282,1344,1306],[1275,1282,1306],[1381,1328,1356],[1391,1381,1356],[1330,1391,1356],[1328,1330,1356],[1432,1381,1411],[1443,1432,1411],[1391,1443,1411],[1381,1391,1411],[1455,1432,1449],[1480,1455,1449],[1443,1480,1449],[1432,1443,1449],[1471,1455,1474],[1482,1471,1474],[1480,1482,1474],[1455,1480,1474],[1391,1330,1370],[1409,1391,1370],[1344,1409,1370],[1330,1344,1370],[1443,1391,1430],[1464,1443,1430],[1409,1464,1430],[1391,1409,1430],[1480,1443,1469],[1499,1480,1469],[1464,1499,1469],[1443,1464,1469],[1482,1480,1489],[1502,1482,1489],[1499,1502,1489],[1480,1499,1489],[1500,1502,1533],[1572,1500,1533],[1585,1572,1533],[1502,1585,1533],[1465,1500,1519],[1555,1465,1519],[1572,1555,1519],[1500,1572,1519],[1410,1465,1496],[1510,1410,1496],[1555,1510,1496],[1465,1555,1496],[1345,1410,1427],[1436,1345,1427],[1510,1436,1427],[1410,1510,1427],[1283,1345,1341],[1333,1283,1341],[1436,1333,1341],[1345,1436,1341],[1210,1283,1270],[1242,1210,1270],[1333,1242,1270],[1283,1333,1270],[1116,1210,1184],[1143,1116,1184],[1242,1143,1184],[1210,1242,1184],[923,1116,1037],[917,923,1037],[1143,917,1037],[1116,1143,1037],[1572,1585,1599],[1611,1572,1599],[1622,1611,1599],[1585,1622,1599],[1555,1572,1574],[1570,1555,1574],[1611,1570,1574],[1572,1611,1574],[1510,1555,1537],[1527,1510,1537],[1570,1527,1537],[1555,1570,1537],[1436,1510,1494],[1467,1436,1494],[1527,1467,1494],[1510,1527,1494],[1611,1622,1624],[1626,1611,1624],[1633,1626,1624],[1622,1633,1624],[1570,1611,1601],[1589,1570,1601],[1626,1589,1601],[1611,1626,1601],[1527,1570,1561],[1535,1527,1561],[1589,1535,1561],[1570,1589,1561],[1467,1527,1508],[1479,1467,1508],[1535,1479,1508],[1527,1535,1508],[1333,1436,1394],[1359,1333,1394],[1467,1359,1394],[1436,1467,1394],[1242,1333,1299],[1254,1242,1299],[1359,1254,1299],[1333,1359,1299],[1143,1242,1198],[1149,1143,1198],[1254,1149,1198],[1242,1254,1198],[917,1143,1057],[915,917,1057],[1149,915,1057],[1143,1149,1057],[1359,1467,1414],[1367,1359,1414],[1479,1367,1414],[1467,1479,1414],[1254,1359,1311],[1262,1254,1311],[1367,1262,1311],[1359,1367,1311],[1149,1254,1212],[1155,1149,1212],[1262,1155,1212],[1254,1262,1212],[915,1149,1065],[913,915,1065],[1155,913,1065],[1149,1155,1065],[741,923,818],[712,741,818],[917,712,818],[923,917,818],[647,741,671],[613,647,671],[712,613,671],[741,712,671],[574,647,585],[522,574,585],[613,522,585],[647,613,585],[512,574,514],[419,512,514],[522,419,514],[574,522,514],[447,512,428],[342,447,428],[419,342,428],[512,419,428],[392,447,359],[308,392,359],[342,308,359],[447,342,359],[357,392,329],[291,357,329],[308,291,329],[392,308,329],[353,357,314],[275,353,314],[291,275,314],[357,291,314],[712,917,798],[706,712,798],[915,706,798],[917,915,798],[613,712,657],[601,613,657],[706,601,657],[712,706,657],[522,613,556],[496,522,556],[601,496,556],[613,601,556],[419,522,461],[388,419,461],[496,388,461],[522,496,461],[706,915,790],[700,706,790],[913,700,790],[915,913,790],[601,706,643],[593,601,643],[700,593,643],[706,700,643],[496,601,544],[488,496,544],[593,488,544],[601,593,544],[388,496,441],[376,388,441],[488,376,441],[496,488,441],[342,419,361],[320,342,361],[388,320,361],[419,388,361],[308,342,310],[293,308,310],[320,293,310],[342,320,310],[291,308,289],[257,291,289],[293,257,289],[308,293,289],[275,291,270],[246,275,270],[257,246,270],[291,257,270],[320,388,344],[312,320,344],[376,312,344],[388,376,344],[293,320,302],[274,293,302],[312,274,302],[320,312,302],[257,293,268],[243,257,268],[274,243,268],[293,274,268],[246,257,245],[232,246,245],[243,232,245],[257,243,245],[356,353,313],[290,356,313],[275,290,313],[353,275,313],[391,356,328],[307,391,328],[290,307,328],[356,290,328],[446,391,358],[341,446,358],[307,341,358],[391,307,358],[511,446,427],[418,511,427],[341,418,427],[446,341,427],[573,511,513],[521,573,513],[418,521,513],[511,418,513],[646,573,584],[612,646,584],[521,612,584],[573,521,584],[740,646,670],[711,740,670],[612,711,670],[646,612,670],[918,740,817],[916,918,817],[711,916,817],[740,711,817],[290,275,269],[256,290,269],[246,256,269],[275,246,269],[307,290,288],[292,307,288],[256,292,288],[290,256,288],[341,307,309],[319,341,309],[292,319,309],[307,292,309],[418,341,360],[387,418,360],[319,387,360],[341,319,360],[256,246,244],[242,256,244],[232,242,244],[246,232,244],[292,256,267],[273,292,267],[242,273,267],[256,242,267],[319,292,301],[311,319,301],[273,311,301],[292,273,301],[387,319,343],[375,387,343],[311,375,343],[319,311,343],[521,418,460],[495,521,460],[387,495,460],[418,387,460],[612,521,555],[600,612,555],[495,600,555],[521,495,555],[711,612,656],[705,711,656],[600,705,656],[612,600,656],[916,711,797],[914,916,797],[705,914,797],[711,705,797],[495,387,440],[487,495,440],[375,487,440],[387,375,440],[600,495,543],[592,600,543],[487,592,543],[495,487,543],[705,600,642],[699,705,642],[592,699,642],[600,592,642],[914,705,789],[912,914,789],[699,912,789],[705,699,789],[1115,918,1036],[1142,1115,1036],[916,1142,1036],[918,916,1036],[1209,1115,1183],[1241,1209,1183],[1142,1241,1183],[1115,1142,1183],[1282,1209,1269],[1332,1282,1269],[1241,1332,1269],[1209,1241,1269],[1344,1282,1340],[1435,1344,1340],[1332,1435,1340],[1282,1332,1340],[1409,1344,1426],[1509,1409,1426],[1435,1509,1426],[1344,1435,1426],[1464,1409,1495],[1554,1464,1495],[1509,1554,1495],[1409,1509,1495],[1499,1464,1518],[1571,1499,1518],[1554,1571,1518],[1464,1554,1518],[1502,1499,1532],[1585,1502,1532],[1571,1585,1532],[1499,1571,1532],[1142,916,1056],[1148,1142,1056],[914,1148,1056],[916,914,1056],[1241,1142,1197],[1253,1241,1197],[1148,1253,1197],[1142,1148,1197],[1332,1241,1298],[1358,1332,1298],[1253,1358,1298],[1241,1253,1298],[1435,1332,1393],[1466,1435,1393],[1358,1466,1393],[1332,1358,1393],[1148,914,1064],[1154,1148,1064],[912,1154,1064],[914,912,1064],[1253,1148,1211],[1261,1253,1211],[1154,1261,1211],[1148,1154,1211],[1358,1253,1310],[1366,1358,1310],[1261,1366,1310],[1253,1261,1310],[1466,1358,1413],[1478,1466,1413],[1366,1478,1413],[1358,1366,1413],[1509,1435,1493],[1526,1509,1493],[1466,1526,1493],[1435,1466,1493],[1554,1509,1536],[1569,1554,1536],[1526,1569,1536],[1509,1526,1536],[1571,1554,1573],[1610,1571,1573],[1569,1610,1573],[1554,1569,1573],[1585,1571,1598],[1622,1585,1598],[1610,1622,1598],[1571,1610,1598],[1526,1466,1507],[1534,1526,1507],[1478,1534,1507],[1466,1478,1507],[1569,1526,1560],[1588,1569,1560],[1534,1588,1560],[1526,1534,1560],[1610,1569,1600],[1625,1610,1600],[1588,1625,1600],[1569,1588,1600],[1622,1610,1623],[1633,1622,1623],[1625,1633,1623],[1610,1625,1623],[1626,1633,1628],[1621,1626,1628],[1629,1621,1628],[1633,1629,1628],[1589,1626,1607],[1584,1589,1607],[1621,1584,1607],[1626,1621,1607],[1621,1629,1616],[1603,1621,1616],[1612,1603,1616],[1629,1612,1616],[1584,1621,1593],[1568,1584,1593],[1603,1568,1593],[1621,1603,1593],[1535,1589,1563],[1529,1535,1563],[1584,1529,1563],[1589,1584,1563],[1479,1535,1512],[1473,1479,1512],[1529,1473,1512],[1535,1529,1512],[1529,1584,1557],[1521,1529,1557],[1568,1521,1557],[1584,1568,1557],[1473,1529,1504],[1452,1473,1504],[1521,1452,1504],[1529,1521,1504],[1603,1612,1580],[1559,1603,1580],[1566,1559,1580],[1612,1566,1580],[1568,1603,1565],[1525,1568,1565],[1559,1525,1565],[1603,1559,1565],[1521,1568,1523],[1484,1521,1523],[1525,1484,1523],[1568,1525,1523],[1452,1521,1477],[1406,1452,1477],[1484,1406,1477],[1521,1484,1477],[1367,1479,1417],[1361,1367,1417],[1473,1361,1417],[1479,1473,1417],[1262,1367,1313],[1260,1262,1313],[1361,1260,1313],[1367,1361,1313],[1361,1473,1404],[1355,1361,1404],[1452,1355,1404],[1473,1452,1404],[1260,1361,1303],[1248,1260,1303],[1355,1248,1303],[1361,1355,1303],[1155,1262,1214],[1151,1155,1214],[1260,1151,1214],[1262,1260,1214],[913,1155,1067],[911,913,1067],[1151,911,1067],[1155,1151,1067],[1151,1260,1204],[1147,1151,1204],[1248,1147,1204],[1260,1248,1204],[911,1151,1062],[909,911,1062],[1147,909,1062],[1151,1147,1062],[1355,1452,1384],[1323,1355,1384],[1406,1323,1384],[1452,1406,1384],[1248,1355,1287],[1236,1248,1287],[1323,1236,1287],[1355,1323,1287],[1147,1248,1190],[1135,1147,1190],[1236,1135,1190],[1248,1236,1190],[909,1147,1051],[907,909,1051],[1135,907,1051],[1147,1135,1051],[1559,1566,1531],[1514,1559,1531],[1515,1514,1531],[1566,1515,1531],[1525,1559,1517],[1486,1525,1517],[1514,1486,1517],[1559,1514,1517],[1484,1525,1488],[1438,1484,1488],[1486,1438,1488],[1525,1486,1488],[1406,1484,1425],[1363,1406,1425],[1438,1363,1425],[1484,1438,1425],[1514,1515,1506],[1498,1514,1506],[1501,1498,1506],[1515,1501,1506],[1486,1514,1492],[1463,1486,1492],[1498,1463,1492],[1514,1498,1492],[1438,1486,1446],[1408,1438,1446],[1463,1408,1446],[1486,1463,1446],[1363,1438,1386],[1343,1363,1386],[1408,1343,1386],[1438,1408,1386],[1323,1406,1337],[1293,1323,1337],[1363,1293,1337],[1406,1363,1337],[1236,1323,1268],[1220,1236,1268],[1293,1220,1268],[1323,1293,1268],[1135,1236,1182],[1122,1135,1182],[1220,1122,1182],[1236,1220,1182],[907,1135,1035],[905,907,1035],[1122,905,1035],[1135,1122,1035],[1293,1363,1317],[1281,1293,1317],[1343,1281,1317],[1363,1343,1317],[1220,1293,1246],[1208,1220,1246],[1281,1208,1246],[1293,1281,1246],[1122,1220,1172],[1114,1122,1172],[1208,1114,1172],[1220,1208,1172],[905,1122,1026],[903,905,1026],[1114,903,1026],[1122,1114,1026],[700,913,788],[704,700,788],[911,704,788],[913,911,788],[593,700,641],[595,593,641],[704,595,641],[700,704,641],[704,911,793],[708,704,793],[909,708,793],[911,909,793],[595,704,651],[607,595,651],[708,607,651],[704,708,651],[488,593,542],[494,488,542],[595,494,542],[593,595,542],[376,488,438],[382,376,438],[494,382,438],[488,494,438],[494,595,552],[500,494,552],[607,500,552],[595,607,552],[382,494,451],[403,382,451],[500,403,451],[494,500,451],[708,909,804],[718,708,804],[907,718,804],[909,907,804],[607,708,665],[619,607,665],[718,619,665],[708,718,665],[500,607,568],[532,500,568],[619,532,568],[607,619,568],[403,500,471],[449,403,471],[532,449,471],[500,532,471],[312,376,340],[318,312,340],[382,318,340],[376,382,340],[274,312,300],[285,274,300],[318,285,300],[312,318,300],[318,382,350],[327,318,350],[403,327,350],[382,403,350],[285,318,306],[295,285,306],[327,295,306],[318,327,306],[243,274,264],[250,243,264],[285,250,264],[274,285,264],[232,243,239],[237,232,239],[250,237,239],[243,250,239],[250,285,272],[266,250,272],[295,266,272],[285,295,272],[237,250,254],[255,237,254],[266,255,254],[250,266,254],[327,403,378],[371,327,378],[449,371,378],[403,449,378],[295,327,324],[322,295,324],[371,322,324],[327,371,324],[266,295,298],[304,266,298],[322,304,298],[295,322,298],[255,266,287],[296,255,287],[304,296,287],[266,304,287],[718,907,820],[733,718,820],[905,733,820],[907,905,820],[619,718,673],[635,619,673],[733,635,673],[718,733,673],[532,619,587],[562,532,587],[635,562,587],[619,635,587],[449,532,518],[492,449,518],[562,492,518],[532,562,518],[733,905,829],[739,733,829],[903,739,829],[905,903,829],[635,733,683],[645,635,683],[739,645,683],[733,739,683],[562,635,609],[572,562,609],[645,572,609],[635,645,609],[492,562,538],[510,492,538],[572,510,538],[562,572,538],[371,449,430],[417,371,430],[492,417,430],[449,492,430],[322,371,367],[369,322,367],[417,369,367],[371,417,367],[304,322,333],[338,304,333],[369,338,333],[322,369,333],[296,304,316],[334,296,316],[338,334,316],[304,338,316],[417,492,469],[445,417,469],[510,445,469],[492,510,469],[369,417,409],[390,369,409],[445,390,409],[417,445,409],[338,369,363],[355,338,363],[390,355,363],[369,390,363],[334,338,346],[351,334,346],[355,351,346],[338,355,346],[242,232,238],[249,242,238],[237,249,238],[232,237,238],[273,242,263],[284,273,263],[249,284,263],[242,249,263],[249,237,253],[265,249,253],[255,265,253],[237,255,253],[284,249,271],[294,284,271],[265,294,271],[249,265,271],[311,273,299],[317,311,299],[284,317,299],[273,284,299],[375,311,339],[381,375,339],[317,381,339],[311,317,339],[317,284,305],[326,317,305],[294,326,305],[284,294,305],[381,317,349],[402,381,349],[326,402,349],[317,326,349],[265,255,286],[303,265,286],[296,303,286],[255,296,286],[294,265,297],[321,294,297],[303,321,297],[265,303,297],[326,294,323],[370,326,323],[321,370,323],[294,321,323],[402,326,377],[448,402,377],[370,448,377],[326,370,377],[487,375,437],[493,487,437],[381,493,437],[375,381,437],[592,487,541],[594,592,541],[493,594,541],[487,493,541],[493,381,450],[499,493,450],[402,499,450],[381,402,450],[594,493,551],[606,594,551],[499,606,551],[493,499,551],[699,592,640],[703,699,640],[594,703,640],[592,594,640],[912,699,787],[910,912,787],[703,910,787],[699,703,787],[703,594,650],[707,703,650],[606,707,650],[594,606,650],[910,703,792],[908,910,792],[707,908,792],[703,707,792],[499,402,470],[531,499,470],[448,531,470],[402,448,470],[606,499,567],[618,606,567],[531,618,567],[499,531,567],[707,606,664],[719,707,664],[618,719,664],[606,618,664],[908,707,803],[906,908,803],[719,906,803],[707,719,803],[303,296,315],[337,303,315],[334,337,315],[296,334,315],[321,303,332],[368,321,332],[337,368,332],[303,337,332],[370,321,366],[416,370,366],[368,416,366],[321,368,366],[448,370,429],[491,448,429],[416,491,429],[370,416,429],[337,334,345],[354,337,345],[351,354,345],[334,351,345],[368,337,362],[389,368,362],[354,389,362],[337,354,362],[416,368,408],[444,416,408],[389,444,408],[368,389,408],[491,416,468],[509,491,468],[444,509,468],[416,444,468],[531,448,517],[561,531,517],[491,561,517],[448,491,517],[618,531,586],[634,618,586],[561,634,586],[531,561,586],[719,618,672],[732,719,672],[634,732,672],[618,634,672],[906,719,819],[904,906,819],[732,904,819],[719,732,819],[561,491,537],[571,561,537],[509,571,537],[491,509,537],[634,561,608],[644,634,608],[571,644,608],[561,571,608],[732,634,682],[738,732,682],[644,738,682],[634,644,682],[904,732,828],[902,904,828],[738,902,828],[732,738,828],[1154,912,1066],[1150,1154,1066],[910,1150,1066],[912,910,1066],[1261,1154,1213],[1259,1261,1213],[1150,1259,1213],[1154,1150,1213],[1150,910,1061],[1146,1150,1061],[908,1146,1061],[910,908,1061],[1259,1150,1203],[1247,1259,1203],[1146,1247,1203],[1150,1146,1203],[1366,1261,1312],[1360,1366,1312],[1259,1360,1312],[1261,1259,1312],[1478,1366,1416],[1472,1478,1416],[1360,1472,1416],[1366,1360,1416],[1360,1259,1302],[1354,1360,1302],[1247,1354,1302],[1259,1247,1302],[1472,1360,1403],[1451,1472,1403],[1354,1451,1403],[1360,1354,1403],[1146,908,1050],[1136,1146,1050],[906,1136,1050],[908,906,1050],[1247,1146,1189],[1235,1247,1189],[1136,1235,1189],[1146,1136,1189],[1354,1247,1286],[1322,1354,1286],[1235,1322,1286],[1247,1235,1286],[1451,1354,1383],[1405,1451,1383],[1322,1405,1383],[1354,1322,1383],[1534,1478,1511],[1528,1534,1511],[1472,1528,1511],[1478,1472,1511],[1588,1534,1562],[1583,1588,1562],[1528,1583,1562],[1534,1528,1562],[1528,1472,1503],[1520,1528,1503],[1451,1520,1503],[1472,1451,1503],[1583,1528,1556],[1567,1583,1556],[1520,1567,1556],[1528,1520,1556],[1625,1588,1606],[1620,1625,1606],[1583,1620,1606],[1588,1583,1606],[1633,1625,1627],[1629,1633,1627],[1620,1629,1627],[1625,1620,1627],[1620,1583,1592],[1602,1620,1592],[1567,1602,1592],[1583,1567,1592],[1629,1620,1615],[1612,1629,1615],[1602,1612,1615],[1620,1602,1615],[1520,1451,1476],[1483,1520,1476],[1405,1483,1476],[1451,1405,1476],[1567,1520,1522],[1524,1567,1522],[1483,1524,1522],[1520,1483,1522],[1602,1567,1564],[1558,1602,1564],[1524,1558,1564],[1567,1524,1564],[1612,1602,1579],[1566,1612,1579],[1558,1566,1579],[1602,1558,1579],[1136,906,1034],[1121,1136,1034],[904,1121,1034],[906,904,1034],[1235,1136,1181],[1219,1235,1181],[1121,1219,1181],[1136,1121,1181],[1322,1235,1267],[1292,1322,1267],[1219,1292,1267],[1235,1219,1267],[1405,1322,1336],[1362,1405,1336],[1292,1362,1336],[1322,1292,1336],[1121,904,1025],[1113,1121,1025],[902,1113,1025],[904,902,1025],[1219,1121,1171],[1207,1219,1171],[1113,1207,1171],[1121,1113,1171],[1292,1219,1245],[1280,1292,1245],[1207,1280,1245],[1219,1207,1245],[1362,1292,1316],[1342,1362,1316],[1280,1342,1316],[1292,1280,1316],[1483,1405,1424],[1437,1483,1424],[1362,1437,1424],[1405,1362,1424],[1524,1483,1487],[1485,1524,1487],[1437,1485,1487],[1483,1437,1487],[1558,1524,1516],[1513,1558,1516],[1485,1513,1516],[1524,1485,1516],[1566,1558,1530],[1515,1566,1530],[1513,1515,1530],[1558,1513,1530],[1437,1362,1385],[1407,1437,1385],[1342,1407,1385],[1362,1342,1385],[1485,1437,1445],[1462,1485,1445],[1407,1462,1445],[1437,1407,1445],[1513,1485,1491],[1497,1513,1491],[1462,1497,1491],[1485,1462,1491],[1515,1513,1505],[1501,1515,1505],[1497,1501,1505],[1513,1497,1505],[331,325,277],[228,331,277],[231,228,277],[325,231,277],[336,331,279],[224,336,279],[228,224,279],[331,228,279],[228,231,200],[173,228,200],[178,173,200],[231,178,200],[224,228,198],[167,224,198],[173,167,198],[228,173,198],[348,336,281],[222,348,281],[224,222,281],[336,224,281],[352,348,283],[210,352,283],[222,210,283],[348,222,283],[222,224,193],[150,222,193],[167,150,193],[224,167,193],[210,222,183],[142,210,183],[150,142,183],[222,150,183],[177,178,165],[136,177,165],[141,136,165],[178,141,165],[173,177,162],[127,173,162],[136,127,162],[177,136,162],[167,173,158],[131,167,158],[152,131,158],[173,152,158],[131,152,129],[82,131,129],[127,82,129],[152,127,129],[136,141,134],[114,136,134],[121,114,134],[141,121,134],[127,136,118],[93,127,118],[114,93,118],[136,114,118],[114,121,112],[101,114,112],[108,101,112],[121,108,112],[93,114,95],[90,93,95],[101,90,95],[114,101,95],[82,127,88],[59,82,88],[93,59,88],[127,93,88],[59,93,74],[52,59,74],[90,52,74],[93,90,74],[150,167,140],[86,150,140],[131,86,140],[167,131,140],[86,131,84],[50,86,84],[82,50,84],[131,82,84],[148,150,120],[76,148,120],[86,76,120],[150,86,120],[142,148,110],[72,142,110],[76,72,110],[148,76,110],[76,86,65],[36,76,65],[50,36,65],[86,50,65],[72,76,57],[34,72,57],[36,34,57],[76,36,57],[50,82,55],[27,50,55],[59,27,55],[82,59,55],[27,59,42],[18,27,42],[52,18,42],[59,52,42],[36,50,33],[12,36,33],[27,12,33],[50,27,33],[34,36,24],[8,34,24],[12,8,24],[36,12,24],[12,27,16],[2,12,16],[18,2,16],[27,18,16],[8,12,7],[0,8,7],[2,0,7],[12,2,7],[347,352,282],[221,347,282],[210,221,282],[352,210,282],[335,347,280],[223,335,280],[221,223,280],[347,221,280],[221,210,182],[149,221,182],[142,149,182],[210,142,182],[223,221,192],[166,223,192],[149,166,192],[221,149,192],[330,335,278],[227,330,278],[223,227,278],[335,223,278],[325,330,276],[231,325,276],[227,231,276],[330,227,276],[227,223,197],[172,227,197],[166,172,197],[223,166,197],[231,227,199],[178,231,199],[172,178,199],[227,172,199],[147,142,109],[75,147,109],[72,75,109],[142,72,109],[149,147,119],[85,149,119],[75,85,119],[147,75,119],[75,72,56],[35,75,56],[34,35,56],[72,34,56],[85,75,64],[49,85,64],[35,49,64],[75,35,64],[166,149,139],[130,166,139],[85,130,139],[149,85,139],[130,85,83],[81,130,83],[49,81,83],[85,49,83],[35,34,23],[11,35,23],[8,11,23],[34,8,23],[49,35,32],[26,49,32],[11,26,32],[35,11,32],[11,8,6],[1,11,6],[0,1,6],[8,0,6],[26,11,15],[17,26,15],[1,17,15],[11,1,15],[81,49,54],[58,81,54],[26,58,54],[49,26,54],[58,26,41],[51,58,41],[17,51,41],[26,17,41],[172,166,157],[151,172,157],[130,151,157],[166,130,157],[151,130,128],[126,151,128],[81,126,128],[130,81,128],[176,172,161],[135,176,161],[126,135,161],[172,126,161],[178,176,164],[141,178,164],[135,141,164],[176,135,164],[126,81,87],[92,126,87],[58,92,87],[81,58,87],[92,58,73],[89,92,73],[51,89,73],[58,51,73],[135,126,117],[113,135,117],[92,113,117],[126,92,117],[141,135,133],[121,141,133],[113,121,133],[135,113,133],[113,92,94],[100,113,94],[89,100,94],[92,89,94],[121,113,111],[108,121,111],[100,108,111],[113,100,111],[101,108,116],[125,101,116],[132,125,116],[108,132,116],[90,101,103],[105,90,103],[125,105,103],[101,125,103],[52,90,78],[71,52,78],[105,71,78],[90,105,78],[125,132,146],[156,125,146],[163,156,146],[132,163,146],[105,125,144],[154,105,144],[156,154,144],[125,156,144],[71,105,123],[138,71,123],[154,138,123],[105,154,123],[18,52,38],[22,18,38],[63,22,38],[52,63,38],[22,63,48],[40,22,48],[71,40,48],[63,71,48],[2,18,14],[10,2,14],[22,10,14],[18,22,14],[0,2,4],[5,0,4],[10,5,4],[2,10,4],[10,22,29],[31,10,29],[40,31,29],[22,40,29],[5,10,20],[25,5,20],[31,25,20],[10,31,20],[40,71,69],[67,40,69],[97,67,69],[71,97,69],[67,97,99],[107,67,99],[138,107,99],[97,138,99],[31,40,46],[61,31,46],[67,61,46],[40,67,46],[25,31,44],[53,25,44],[61,53,44],[31,61,44],[53,67,80],[91,53,80],[107,91,80],[67,107,80],[154,163,175],[195,154,175],[196,195,175],[163,196,175],[138,154,171],[189,138,171],[195,189,171],[154,195,171],[195,196,202],[207,195,202],[203,207,202],[196,203,202],[205,203,226],[234,205,226],[232,234,226],[203,232,226],[207,205,230],[236,207,230],[234,236,230],[205,234,230],[191,195,209],[241,191,209],[236,241,209],[195,236,209],[189,191,212],[248,189,212],[241,248,212],[191,241,212],[107,138,169],[185,107,169],[189,185,169],[138,189,169],[91,107,160],[179,91,160],[185,179,160],[107,185,160],[187,189,214],[252,187,214],[248,252,214],[189,248,214],[185,187,216],[259,185,216],[252,259,216],[187,252,216],[181,185,218],[261,181,218],[259,261,218],[185,259,218],[179,181,220],[262,179,220],[261,262,220],[181,261,220],[1,0,3],[9,1,3],[5,9,3],[0,5,3],[17,1,13],[21,17,13],[9,21,13],[1,9,13],[9,5,19],[30,9,19],[25,30,19],[5,25,19],[21,9,28],[39,21,28],[30,39,28],[9,30,28],[51,17,37],[62,51,37],[21,62,37],[17,21,37],[62,21,47],[70,62,47],[39,70,47],[21,39,47],[30,25,43],[60,30,43],[53,60,43],[25,53,43],[39,30,45],[66,39,45],[60,66,45],[30,60,45],[66,53,79],[106,66,79],[91,106,79],[53,91,79],[70,39,68],[96,70,68],[66,96,68],[39,66,68],[96,66,98],[137,96,98],[106,137,98],[66,106,98],[89,51,77],[104,89,77],[70,104,77],[51,70,77],[100,89,102],[124,100,102],[104,124,102],[89,104,102],[108,100,115],[132,108,115],[124,132,115],[100,124,115],[104,70,122],[153,104,122],[137,153,122],[70,137,122],[124,104,143],[155,124,143],[153,155,143],[104,153,143],[132,124,145],[163,132,145],[155,163,145],[124,155,145],[106,91,159],[184,106,159],[179,184,159],[91,179,159],[137,106,168],[188,137,168],[184,188,168],[106,184,168],[180,179,219],[260,180,219],[262,260,219],[179,262,219],[184,180,217],[258,184,217],[260,258,217],[180,260,217],[186,184,215],[251,186,215],[258,251,215],[184,258,215],[188,186,213],[247,188,213],[251,247,213],[186,251,213],[153,137,170],[194,153,170],[188,194,170],[137,188,170],[163,153,174],[196,163,174],[194,196,174],[153,194,174],[190,188,211],[240,190,211],[247,240,211],[188,247,211],[194,190,208],[235,194,208],[240,235,208],[190,240,208],[196,194,201],[203,196,201],[206,203,201],[194,206,201],[204,206,229],[233,204,229],[235,233,229],[206,235,229],[203,204,225],[232,203,225],[233,232,225],[204,233,225],[1552,1553,1587],[1632,1552,1587],[1630,1632,1587],[1553,1630,1587],[1550,1552,1591],[1637,1550,1591],[1632,1637,1591],[1552,1632,1591],[1632,1630,1647],[1665,1632,1647],[1663,1665,1647],[1630,1663,1647],[1637,1632,1651],[1673,1637,1651],[1665,1673,1651],[1632,1665,1651],[1548,1550,1595],[1641,1548,1595],[1637,1641,1595],[1550,1637,1595],[1546,1548,1597],[1645,1546,1597],[1641,1645,1597],[1548,1641,1597],[1641,1637,1657],[1679,1641,1657],[1673,1679,1657],[1637,1673,1657],[1645,1641,1660],[1688,1645,1660],[1679,1688,1660],[1641,1679,1660],[1665,1663,1677],[1695,1665,1677],[1693,1695,1677],[1663,1693,1677],[1673,1665,1683],[1705,1673,1683],[1695,1705,1683],[1665,1695,1683],[1695,1693,1707],[1718,1695,1707],[1712,1718,1707],[1693,1712,1707],[1705,1695,1709],[1725,1705,1709],[1718,1725,1709],[1695,1718,1709],[1679,1673,1692],[1714,1679,1692],[1705,1714,1692],[1673,1705,1692],[1688,1679,1703],[1729,1688,1703],[1714,1729,1703],[1679,1714,1703],[1714,1705,1723],[1739,1714,1723],[1725,1739,1723],[1705,1725,1723],[1729,1714,1733],[1752,1729,1733],[1739,1752,1733],[1714,1739,1733],[1544,1546,1605],[1649,1544,1605],[1645,1649,1605],[1546,1645,1605],[1542,1544,1576],[1614,1542,1576],[1609,1614,1576],[1544,1609,1576],[1614,1609,1635],[1653,1614,1635],[1649,1653,1635],[1609,1649,1635],[1649,1645,1669],[1699,1649,1669],[1688,1699,1669],[1645,1688,1669],[1653,1649,1662],[1681,1653,1662],[1675,1681,1662],[1649,1675,1662],[1681,1675,1690],[1711,1681,1690],[1699,1711,1690],[1675,1699,1690],[1540,1542,1578],[1618,1540,1578],[1614,1618,1578],[1542,1614,1578],[1618,1614,1639],[1655,1618,1639],[1653,1655,1639],[1614,1653,1639],[1538,1540,1582],[1619,1538,1582],[1618,1619,1582],[1540,1618,1582],[1619,1618,1643],[1658,1619,1643],[1655,1658,1643],[1618,1655,1643],[1655,1653,1667],[1685,1655,1667],[1681,1685,1667],[1653,1681,1667],[1685,1681,1697],[1720,1685,1697],[1711,1720,1697],[1681,1711,1697],[1658,1655,1671],[1686,1658,1671],[1685,1686,1671],[1655,1685,1671],[1686,1685,1701],[1721,1686,1701],[1720,1721,1701],[1685,1720,1701],[1699,1688,1716],[1743,1699,1716],[1729,1743,1716],[1688,1729,1716],[1711,1699,1727],[1754,1711,1727],[1743,1754,1727],[1699,1743,1727],[1743,1729,1748],[1770,1743,1748],[1752,1770,1748],[1729,1752,1748],[1754,1743,1760],[1786,1754,1760],[1770,1786,1760],[1743,1770,1760],[1720,1711,1735],[1762,1720,1735],[1754,1762,1735],[1711,1754,1735],[1721,1720,1741],[1768,1721,1741],[1762,1768,1741],[1720,1762,1741],[1762,1754,1776],[1796,1762,1776],[1786,1796,1776],[1754,1786,1776],[1768,1762,1782],[1801,1768,1782],[1796,1801,1782],[1762,1796,1782],[1718,1712,1731],[1746,1718,1731],[1744,1746,1731],[1712,1744,1731],[1725,1718,1737],[1758,1725,1737],[1746,1758,1737],[1718,1746,1737],[1739,1725,1750],[1780,1739,1750],[1758,1780,1750],[1725,1758,1750],[1752,1739,1765],[1800,1752,1765],[1780,1800,1765],[1739,1780,1765],[1746,1744,1756],[1772,1746,1756],[1763,1772,1756],[1744,1763,1756],[1758,1746,1767],[1788,1758,1767],[1772,1788,1767],[1746,1772,1767],[1772,1763,1790],[1814,1772,1790],[1806,1814,1790],[1763,1806,1790],[1788,1772,1803],[1832,1788,1803],[1814,1832,1803],[1772,1814,1803],[1780,1758,1784],[1816,1780,1784],[1788,1816,1784],[1758,1788,1784],[1800,1780,1808],[1839,1800,1808],[1816,1839,1808],[1780,1816,1808],[1839,1788,1845],[1898,1839,1845],[1832,1898,1845],[1788,1832,1845],[1770,1752,1774],[1794,1770,1774],[1778,1794,1774],[1752,1778,1774],[1786,1770,1792],[1810,1786,1792],[1794,1810,1792],[1770,1794,1792],[1794,1778,1798],[1822,1794,1798],[1800,1822,1798],[1778,1800,1798],[1810,1794,1818],[1843,1810,1818],[1822,1843,1818],[1794,1822,1818],[1796,1786,1805],[1824,1796,1805],[1810,1824,1805],[1786,1810,1805],[1801,1796,1812],[1825,1801,1812],[1824,1825,1812],[1796,1824,1812],[1824,1810,1830],[1861,1824,1830],[1843,1861,1830],[1810,1843,1830],[1825,1824,1841],[1870,1825,1841],[1861,1870,1841],[1824,1861,1841],[1822,1800,1828],[1874,1822,1828],[1839,1874,1828],[1800,1839,1828],[1843,1822,1859],[1892,1843,1859],[1874,1892,1859],[1822,1874,1859],[1892,1839,1886],[1911,1892,1886],[1878,1911,1886],[1839,1878,1886],[1911,1878,1909],[1935,1911,1909],[1898,1935,1909],[1878,1898,1909],[1861,1843,1880],[1902,1861,1880],[1892,1902,1880],[1843,1892,1880],[1870,1861,1890],[1905,1870,1890],[1902,1905,1890],[1861,1902,1890],[1902,1892,1907],[1923,1902,1907],[1911,1923,1907],[1892,1911,1907],[1923,1911,1930],[1949,1923,1930],[1935,1949,1930],[1911,1935,1930],[1905,1902,1913],[1926,1905,1913],[1923,1926,1913],[1902,1923,1913],[1926,1923,1939],[1952,1926,1939],[1949,1952,1939],[1923,1949,1939],[1539,1538,1581],[1617,1539,1581],[1619,1617,1581],[1538,1619,1581],[1617,1619,1642],[1654,1617,1642],[1658,1654,1642],[1619,1658,1642],[1541,1539,1577],[1613,1541,1577],[1617,1613,1577],[1539,1617,1577],[1613,1617,1638],[1652,1613,1638],[1654,1652,1638],[1617,1654,1638],[1654,1658,1670],[1684,1654,1670],[1686,1684,1670],[1658,1686,1670],[1684,1686,1700],[1719,1684,1700],[1721,1719,1700],[1686,1721,1700],[1652,1654,1666],[1680,1652,1666],[1684,1680,1666],[1654,1684,1666],[1680,1684,1696],[1710,1680,1696],[1719,1710,1696],[1684,1719,1696],[1543,1541,1575],[1608,1543,1575],[1613,1608,1575],[1541,1613,1575],[1608,1613,1634],[1648,1608,1634],[1652,1648,1634],[1613,1652,1634],[1545,1543,1604],[1644,1545,1604],[1648,1644,1604],[1543,1648,1604],[1648,1652,1661],[1674,1648,1661],[1680,1674,1661],[1652,1680,1661],[1674,1680,1689],[1698,1674,1689],[1710,1698,1689],[1680,1710,1689],[1644,1648,1668],[1687,1644,1668],[1698,1687,1668],[1648,1698,1668],[1719,1721,1740],[1761,1719,1740],[1768,1761,1740],[1721,1768,1740],[1710,1719,1734],[1753,1710,1734],[1761,1753,1734],[1719,1761,1734],[1761,1768,1781],[1795,1761,1781],[1801,1795,1781],[1768,1801,1781],[1753,1761,1775],[1785,1753,1775],[1795,1785,1775],[1761,1795,1775],[1698,1710,1726],[1742,1698,1726],[1753,1742,1726],[1710,1753,1726],[1687,1698,1715],[1728,1687,1715],[1742,1728,1715],[1698,1742,1715],[1742,1753,1759],[1769,1742,1759],[1785,1769,1759],[1753,1785,1759],[1728,1742,1747],[1751,1728,1747],[1769,1751,1747],[1742,1769,1747],[1547,1545,1596],[1640,1547,1596],[1644,1640,1596],[1545,1644,1596],[1549,1547,1594],[1636,1549,1594],[1640,1636,1594],[1547,1640,1594],[1640,1644,1659],[1678,1640,1659],[1687,1678,1659],[1644,1687,1659],[1636,1640,1656],[1672,1636,1656],[1678,1672,1656],[1640,1678,1656],[1551,1549,1590],[1631,1551,1590],[1636,1631,1590],[1549,1636,1590],[1553,1551,1586],[1630,1553,1586],[1631,1630,1586],[1551,1631,1586],[1631,1636,1650],[1664,1631,1650],[1672,1664,1650],[1636,1672,1650],[1630,1631,1646],[1663,1630,1646],[1664,1663,1646],[1631,1664,1646],[1678,1687,1702],[1713,1678,1702],[1728,1713,1702],[1687,1728,1702],[1672,1678,1691],[1704,1672,1691],[1713,1704,1691],[1678,1713,1691],[1713,1728,1732],[1738,1713,1732],[1751,1738,1732],[1728,1751,1732],[1704,1713,1722],[1724,1704,1722],[1738,1724,1722],[1713,1738,1722],[1664,1672,1682],[1694,1664,1682],[1704,1694,1682],[1672,1704,1682],[1663,1664,1676],[1693,1663,1676],[1694,1693,1676],[1664,1694,1676],[1694,1704,1708],[1717,1694,1708],[1724,1717,1708],[1704,1724,1708],[1693,1694,1706],[1712,1693,1706],[1717,1712,1706],[1694,1717,1706],[1795,1801,1811],[1823,1795,1811],[1825,1823,1811],[1801,1825,1811],[1785,1795,1804],[1809,1785,1804],[1823,1809,1804],[1795,1823,1804],[1823,1825,1840],[1860,1823,1840],[1870,1860,1840],[1825,1870,1840],[1809,1823,1829],[1842,1809,1829],[1860,1842,1829],[1823,1860,1829],[1769,1785,1791],[1793,1769,1791],[1809,1793,1791],[1785,1809,1791],[1751,1769,1773],[1777,1751,1773],[1793,1777,1773],[1769,1793,1773],[1793,1809,1817],[1821,1793,1817],[1842,1821,1817],[1809,1842,1817],[1777,1793,1797],[1799,1777,1797],[1821,1799,1797],[1793,1821,1797],[1860,1870,1889],[1901,1860,1889],[1905,1901,1889],[1870,1905,1889],[1842,1860,1879],[1891,1842,1879],[1901,1891,1879],[1860,1901,1879],[1901,1905,1912],[1922,1901,1912],[1926,1922,1912],[1905,1926,1912],[1922,1926,1938],[1948,1922,1938],[1952,1948,1938],[1926,1952,1938],[1891,1901,1906],[1910,1891,1906],[1922,1910,1906],[1901,1922,1906],[1910,1922,1929],[1934,1910,1929],[1948,1934,1929],[1922,1948,1929],[1821,1842,1858],[1873,1821,1858],[1891,1873,1858],[1842,1891,1858],[1799,1821,1827],[1838,1799,1827],[1873,1838,1827],[1821,1873,1827],[1838,1891,1885],[1877,1838,1885],[1910,1877,1885],[1891,1910,1885],[1877,1910,1908],[1895,1877,1908],[1934,1895,1908],[1910,1934,1908],[1738,1751,1764],[1779,1738,1764],[1799,1779,1764],[1751,1799,1764],[1724,1738,1749],[1757,1724,1749],[1779,1757,1749],[1738,1779,1749],[1717,1724,1736],[1745,1717,1736],[1757,1745,1736],[1724,1757,1736],[1712,1717,1730],[1744,1712,1730],[1745,1744,1730],[1717,1745,1730],[1779,1799,1807],[1815,1779,1807],[1838,1815,1807],[1799,1838,1807],[1757,1779,1783],[1787,1757,1783],[1815,1787,1783],[1779,1815,1783],[1787,1838,1844],[1831,1787,1844],[1895,1831,1844],[1838,1895,1844],[1745,1757,1766],[1771,1745,1766],[1787,1771,1766],[1757,1787,1766],[1744,1745,1755],[1763,1744,1755],[1771,1763,1755],[1745,1771,1755],[1771,1787,1802],[1813,1771,1802],[1831,1813,1802],[1787,1831,1802],[1763,1771,1789],[1806,1763,1789],[1813,1806,1789],[1771,1813,1789],[1814,1806,1820],[1836,1814,1820],[1826,1836,1820],[1806,1826,1820],[1832,1814,1834],[1872,1832,1834],[1836,1872,1834],[1814,1836,1834],[1898,1832,1888],[1915,1898,1888],[1872,1915,1888],[1832,1872,1888],[1836,1826,1847],[1857,1836,1847],[1850,1857,1847],[1826,1850,1847],[1872,1836,1863],[1882,1872,1863],[1857,1882,1863],[1836,1857,1863],[1915,1872,1900],[1919,1915,1900],[1882,1919,1900],[1872,1882,1900],[1935,1898,1928],[1954,1935,1928],[1915,1954,1928],[1898,1915,1928],[1949,1935,1951],[1969,1949,1951],[1954,1969,1951],[1935,1954,1951],[1952,1949,1962],[1974,1952,1962],[1969,1974,1962],[1949,1969,1962],[1954,1915,1941],[1958,1954,1941],[1919,1958,1941],[1915,1919,1941],[1969,1954,1965],[1971,1969,1965],[1958,1971,1965],[1954,1958,1965],[1974,1969,1973],[1975,1974,1973],[1971,1975,1973],[1969,1971,1973],[1857,1850,1855],[1867,1857,1855],[1853,1867,1855],[1850,1853,1855],[1882,1857,1876],[1884,1882,1876],[1867,1884,1876],[1857,1867,1876],[1919,1882,1904],[1917,1919,1904],[1884,1917,1904],[1882,1884,1904],[1867,1853,1852],[1849,1867,1852],[1837,1849,1852],[1853,1837,1852],[1884,1867,1869],[1865,1884,1869],[1849,1865,1869],[1867,1849,1869],[1917,1884,1894],[1897,1917,1894],[1865,1897,1894],[1884,1865,1894],[1958,1919,1937],[1947,1958,1937],[1917,1947,1937],[1919,1917,1937],[1971,1958,1960],[1956,1971,1960],[1947,1956,1960],[1958,1947,1960],[1975,1971,1967],[1963,1975,1967],[1956,1963,1967],[1971,1956,1967],[1947,1917,1921],[1925,1947,1921],[1897,1925,1921],[1917,1897,1921],[1956,1947,1943],[1932,1956,1943],[1925,1932,1943],[1947,1925,1943],[1963,1956,1945],[1933,1963,1945],[1932,1933,1945],[1956,1932,1945],[1948,1952,1961],[1968,1948,1961],[1974,1968,1961],[1952,1974,1961],[1934,1948,1950],[1953,1934,1950],[1968,1953,1950],[1948,1968,1950],[1895,1934,1927],[1914,1895,1927],[1953,1914,1927],[1934,1953,1927],[1968,1974,1972],[1970,1968,1972],[1975,1970,1972],[1974,1975,1972],[1953,1968,1964],[1957,1953,1964],[1970,1957,1964],[1968,1970,1964],[1914,1953,1940],[1918,1914,1940],[1957,1918,1940],[1953,1957,1940],[1831,1895,1887],[1871,1831,1887],[1914,1871,1887],[1895,1914,1887],[1813,1831,1833],[1835,1813,1833],[1871,1835,1833],[1831,1871,1833],[1806,1813,1819],[1826,1806,1819],[1835,1826,1819],[1813,1835,1819],[1871,1914,1899],[1881,1871,1899],[1918,1881,1899],[1914,1918,1899],[1835,1871,1862],[1856,1835,1862],[1881,1856,1862],[1871,1881,1862],[1826,1835,1846],[1850,1826,1846],[1856,1850,1846],[1835,1856,1846],[1970,1975,1966],[1955,1970,1966],[1963,1955,1966],[1975,1963,1966],[1957,1970,1959],[1946,1957,1959],[1955,1946,1959],[1970,1955,1959],[1918,1957,1936],[1916,1918,1936],[1946,1916,1936],[1957,1946,1936],[1955,1963,1944],[1931,1955,1944],[1933,1931,1944],[1963,1933,1944],[1946,1955,1942],[1924,1946,1942],[1931,1924,1942],[1955,1931,1942],[1916,1946,1920],[1896,1916,1920],[1924,1896,1920],[1946,1924,1920],[1881,1918,1903],[1883,1881,1903],[1916,1883,1903],[1918,1916,1903],[1856,1881,1875],[1866,1856,1875],[1883,1866,1875],[1881,1883,1875],[1850,1856,1854],[1853,1850,1854],[1866,1853,1854],[1856,1866,1854],[1883,1916,1893],[1864,1883,1893],[1896,1864,1893],[1916,1896,1893],[1866,1883,1868],[1848,1866,1868],[1864,1848,1868],[1883,1864,1868],[1853,1866,1851],[1837,1853,1851],[1848,1837,1851],[1866,1848,1851],[1069,952,992],[1072,1069,992],[952,1072,992],[1069,1072,1094],[1118,1069,1094],[1134,1118,1094],[1072,1134,1094],[1030,952,984],[1069,1030,984],[952,1069,984],[1030,1069,1076],[1080,1030,1076],[1118,1080,1076],[1069,1118,1076],[1118,1134,1133],[1131,1118,1133],[1139,1131,1133],[1134,1139,1133],[1131,1139,1129],[1110,1131,1129],[1127,1110,1129],[1139,1127,1129],[1080,1118,1104],[1088,1080,1104],[1131,1088,1104],[1118,1131,1104],[1088,1131,1096],[1074,1088,1096],[1110,1074,1096],[1131,1110,1096],[980,952,964],[1030,980,964],[952,1030,964],[980,1030,1028],[1002,980,1028],[1080,1002,1028],[1030,1080,1028],[951,952,954],[980,951,954],[952,980,954],[951,980,962],[949,951,962],[1002,949,962],[980,1002,962],[1002,1080,1059],[1012,1002,1059],[1088,1012,1059],[1080,1088,1059],[1012,1088,1053],[998,1012,1053],[1074,998,1053],[1088,1074,1053],[949,1002,974],[947,949,974],[1012,947,974],[1002,1012,974],[947,1012,972],[945,947,972],[998,945,972],[1012,998,972],[1110,1127,1082],[1047,1110,1082],[1060,1047,1082],[1127,1060,1082],[1074,1110,1071],[1004,1074,1071],[1047,1004,1071],[1110,1047,1071],[1047,1060,1039],[1024,1047,1039],[1031,1024,1039],[1060,1031,1039],[1024,1031,1041],[1049,1024,1041],[1063,1049,1041],[1031,1063,1041],[1004,1047,1018],[994,1004,1018],[1024,994,1018],[1047,1024,1018],[994,1024,1020],[1010,994,1020],[1049,1010,1020],[1024,1049,1020],[998,1074,1014],[976,998,1014],[1004,976,1014],[1074,1004,1014],[945,998,960],[943,945,960],[976,943,960],[998,976,960],[976,1004,986],[970,976,986],[994,970,986],[1004,994,986],[970,994,990],[978,970,990],[1010,978,990],[994,1010,990],[943,976,956],[941,943,956],[970,941,956],[976,970,956],[941,970,958],[939,941,958],[978,939,958],[970,978,958],[875,952,901],[951,875,901],[952,951,901],[875,951,893],[853,875,893],[949,853,893],[951,949,893],[825,952,891],[875,825,891],[952,875,891],[825,875,827],[775,825,827],[853,775,827],[875,853,827],[853,949,881],[843,853,881],[947,843,881],[949,947,881],[843,947,883],[857,843,883],[945,857,883],[947,945,883],[775,853,796],[767,775,796],[843,767,796],[853,843,796],[767,843,802],[781,767,802],[857,781,802],[843,857,802],[786,952,871],[825,786,871],[952,825,871],[786,825,779],[737,786,779],[775,737,779],[825,775,779],[782,952,863],[786,782,863],[952,786,863],[782,786,761],[720,782,761],[737,720,761],[786,737,761],[737,775,751],[724,737,751],[767,724,751],[775,767,751],[724,767,759],[745,724,759],[781,745,759],[767,781,759],[720,737,722],[715,720,722],[724,715,722],[737,724,722],[715,724,726],[727,715,726],[745,727,726],[724,745,726],[857,945,895],[879,857,895],[943,879,895],[945,943,895],[781,857,841],[851,781,841],[879,851,841],[857,879,841],[879,943,899],[885,879,899],[941,885,899],[943,941,899],[885,941,897],[877,885,897],[939,877,897],[941,939,897],[851,879,869],[861,851,869],[885,861,869],[879,885,869],[861,885,865],[845,861,865],[877,845,865],[885,877,865],[745,781,784],[808,745,784],[851,808,784],[781,851,784],[727,745,773],[794,727,773],[808,794,773],[745,808,773],[808,851,837],[831,808,837],[861,831,837],[851,861,837],[831,861,835],[806,831,835],[845,806,835],[861,845,835],[794,808,816],[823,794,816],[831,823,816],[808,831,816],[823,831,814],[791,823,814],[806,791,814],[831,806,814],[785,952,862],[782,785,862],[952,782,862],[785,782,760],[736,785,760],[720,736,760],[782,720,760],[824,952,870],[785,824,870],[952,785,870],[824,785,778],[774,824,778],[736,774,778],[785,736,778],[736,720,721],[723,736,721],[715,723,721],[720,715,721],[723,715,725],[744,723,725],[727,744,725],[715,727,725],[774,736,750],[766,774,750],[723,766,750],[736,723,750],[766,723,758],[780,766,758],[744,780,758],[723,744,758],[874,952,890],[824,874,890],[952,824,890],[874,824,826],[852,874,826],[774,852,826],[824,774,826],[950,952,900],[874,950,900],[952,874,900],[950,874,892],[948,950,892],[852,948,892],[874,852,892],[852,774,795],[842,852,795],[766,842,795],[774,766,795],[842,766,801],[856,842,801],[780,856,801],[766,780,801],[948,852,880],[946,948,880],[842,946,880],[852,842,880],[946,842,882],[944,946,882],[856,944,882],[842,856,882],[744,727,772],[807,744,772],[794,807,772],[727,794,772],[780,744,783],[850,780,783],[807,850,783],[744,807,783],[807,794,815],[830,807,815],[823,830,815],[794,823,815],[830,823,813],[805,830,813],[791,805,813],[823,791,813],[850,807,836],[860,850,836],[830,860,836],[807,830,836],[860,830,834],[844,860,834],[805,844,834],[830,805,834],[856,780,840],[878,856,840],[850,878,840],[780,850,840],[944,856,894],[942,944,894],[878,942,894],[856,878,894],[878,850,868],[884,878,868],[860,884,868],[850,860,868],[884,860,864],[876,884,864],[844,876,864],[860,844,864],[942,878,898],[940,942,898],[884,940,898],[878,884,898],[940,884,896],[938,940,896],[876,938,896],[884,876,896],[979,952,953],[950,979,953],[952,950,953],[979,950,961],[1001,979,961],[948,1001,961],[950,948,961],[1029,952,963],[979,1029,963],[952,979,963],[1029,979,1027],[1079,1029,1027],[1001,1079,1027],[979,1001,1027],[1001,948,973],[1011,1001,973],[946,1011,973],[948,946,973],[1011,946,971],[997,1011,971],[944,997,971],[946,944,971],[1079,1001,1058],[1087,1079,1058],[1011,1087,1058],[1001,1011,1058],[1087,1011,1052],[1073,1087,1052],[997,1073,1052],[1011,997,1052],[1068,952,983],[1029,1068,983],[952,1029,983],[1068,1029,1075],[1117,1068,1075],[1079,1117,1075],[1029,1079,1075],[1072,952,991],[1068,1072,991],[952,1068,991],[1072,1068,1093],[1134,1072,1093],[1117,1134,1093],[1068,1117,1093],[1117,1079,1103],[1130,1117,1103],[1087,1130,1103],[1079,1087,1103],[1130,1087,1095],[1109,1130,1095],[1073,1109,1095],[1087,1073,1095],[1134,1117,1132],[1139,1134,1132],[1130,1139,1132],[1117,1130,1132],[1139,1130,1128],[1127,1139,1128],[1109,1127,1128],[1130,1109,1128],[997,944,959],[975,997,959],[942,975,959],[944,942,959],[1073,997,1013],[1003,1073,1013],[975,1003,1013],[997,975,1013],[975,942,955],[969,975,955],[940,969,955],[942,940,955],[969,940,957],[977,969,957],[938,977,957],[940,938,957],[1003,975,985],[993,1003,985],[969,993,985],[975,969,985],[993,969,989],[1009,993,989],[977,1009,989],[969,977,989],[1109,1073,1070],[1046,1109,1070],[1003,1046,1070],[1073,1003,1070],[1127,1109,1081],[1060,1127,1081],[1046,1060,1081],[1109,1046,1081],[1046,1003,1017],[1023,1046,1017],[993,1023,1017],[1003,993,1017],[1023,993,1019],[1048,1023,1019],[1009,1048,1019],[993,1009,1019],[1060,1046,1038],[1031,1060,1038],[1023,1031,1038],[1046,1023,1038],[1031,1023,1040],[1063,1031,1040],[1048,1063,1040],[1023,1048,1040],[1049,1063,1120],[1161,1049,1120],[1170,1161,1120],[1063,1170,1120],[1010,1049,1092],[1126,1010,1092],[1161,1126,1092],[1049,1161,1092],[1165,1170,1224],[1272,1165,1224],[1279,1272,1224],[1170,1279,1224],[1161,1165,1216],[1250,1161,1216],[1272,1250,1216],[1165,1272,1216],[1141,1161,1196],[1234,1141,1196],[1250,1234,1196],[1161,1250,1196],[1126,1141,1178],[1206,1126,1178],[1234,1206,1178],[1141,1234,1178],[978,1010,1045],[1043,978,1045],[1126,1043,1045],[1010,1126,1045],[939,978,966],[937,939,966],[1043,937,966],[978,1043,966],[1084,1126,1153],[1174,1084,1153],[1206,1174,1153],[1126,1206,1153],[1043,1084,1112],[1124,1043,1112],[1174,1124,1112],[1084,1174,1112],[982,1043,1055],[1033,982,1055],[1124,1033,1055],[1043,1124,1055],[937,982,968],[935,937,968],[1033,935,968],[982,1033,968],[1272,1279,1321],[1369,1272,1321],[1376,1369,1321],[1279,1376,1321],[1250,1272,1309],[1347,1250,1309],[1369,1347,1309],[1272,1369,1309],[1234,1250,1285],[1315,1234,1285],[1347,1315,1285],[1250,1347,1285],[1206,1234,1252],[1278,1206,1252],[1315,1278,1252],[1234,1315,1252],[1369,1376,1388],[1402,1369,1388],[1415,1402,1388],[1376,1415,1388],[1347,1369,1375],[1378,1347,1375],[1402,1378,1375],[1369,1402,1375],[1402,1415,1419],[1423,1402,1419],[1434,1423,1419],[1415,1434,1419],[1378,1402,1396],[1390,1378,1396],[1423,1390,1396],[1402,1423,1396],[1315,1347,1339],[1335,1315,1339],[1378,1335,1339],[1347,1378,1339],[1278,1315,1305],[1295,1278,1305],[1335,1295,1305],[1315,1335,1305],[1335,1378,1365],[1353,1335,1365],[1390,1353,1365],[1378,1390,1365],[1295,1335,1325],[1301,1295,1325],[1353,1301,1325],[1335,1353,1325],[1174,1206,1222],[1226,1174,1222],[1278,1226,1222],[1206,1278,1222],[1124,1174,1176],[1169,1124,1176],[1226,1169,1176],[1174,1226,1176],[1033,1124,1108],[1078,1033,1108],[1169,1078,1108],[1124,1169,1108],[935,1033,988],[931,935,988],[1078,931,988],[1033,1078,988],[1226,1278,1256],[1240,1226,1256],[1295,1240,1256],[1278,1295,1256],[1169,1226,1202],[1180,1169,1202],[1240,1180,1202],[1226,1240,1202],[1240,1295,1274],[1244,1240,1274],[1301,1244,1274],[1295,1301,1274],[1180,1240,1218],[1186,1180,1218],[1244,1186,1218],[1240,1244,1218],[1078,1169,1138],[1086,1078,1138],[1180,1086,1138],[1169,1180,1138],[931,1078,996],[925,931,996],[1086,925,996],[1078,1086,996],[1086,1180,1145],[1090,1086,1145],[1186,1090,1145],[1180,1186,1145],[925,1086,1e3],[921,925,1e3],[1090,921,1e3],[1086,1090,1e3],[877,939,889],[812,877,889],[937,812,889],[939,937,889],[845,877,810],[729,845,810],[812,729,810],[877,812,810],[873,937,887],[822,873,887],[935,822,887],[937,935,887],[812,873,800],[731,812,800],[822,731,800],[873,822,800],[771,812,743],[681,771,743],[731,681,743],[812,731,743],[729,771,702],[649,729,702],[681,649,702],[771,681,702],[806,845,763],[694,806,763],[729,694,763],[845,729,763],[791,806,735],[684,791,735],[694,684,735],[806,694,735],[714,729,677],[621,714,677],[649,621,677],[729,649,677],[694,714,659],[605,694,659],[621,605,659],[714,621,659],[690,694,639],[583,690,639],[605,583,639],[694,605,639],[684,690,631],[575,684,631],[583,575,631],[690,583,631],[822,935,867],[777,822,867],[931,777,867],[935,931,867],[731,822,747],[686,731,747],[777,686,747],[822,777,747],[681,731,679],[629,681,679],[686,629,679],[731,686,679],[649,681,633],[577,649,633],[629,577,633],[681,629,633],[777,931,859],[769,777,859],[925,769,859],[931,925,859],[686,777,717],[675,686,717],[769,675,717],[777,769,717],[769,925,855],[765,769,855],[921,765,855],[925,921,855],[675,769,710],[669,675,710],[765,669,710],[769,765,710],[629,686,653],[615,629,653],[675,615,653],[686,675,653],[577,629,599],[560,577,599],[615,560,599],[629,615,599],[615,675,637],[611,615,637],[669,611,637],[675,669,637],[560,615,581],[554,560,581],[611,554,581],[615,611,581],[621,649,603],[540,621,603],[577,540,603],[649,577,603],[605,621,570],[508,605,570],[540,508,570],[621,540,570],[583,605,546],[486,583,546],[508,486,546],[605,508,546],[575,583,534],[478,575,534],[486,478,534],[583,486,534],[540,577,550],[520,540,550],[560,520,550],[577,560,550],[508,540,516],[477,508,516],[520,477,516],[540,520,516],[520,560,530],[502,520,530],[554,502,530],[560,554,530],[477,520,490],[465,477,490],[502,465,490],[520,502,490],[486,508,480],[453,486,480],[477,453,480],[508,477,480],[478,486,467],[439,478,467],[453,439,467],[486,453,467],[453,477,459],[432,453,459],[465,432,459],[477,465,459],[439,453,436],[420,439,436],[432,420,436],[453,432,436],[805,791,734],[693,805,734],[684,693,734],[791,684,734],[844,805,762],[728,844,762],[693,728,762],[805,693,762],[689,684,630],[582,689,630],[575,582,630],[684,575,630],[693,689,638],[604,693,638],[582,604,638],[689,582,638],[713,693,658],[620,713,658],[604,620,658],[693,604,658],[728,713,676],[648,728,676],[620,648,676],[713,620,676],[876,844,809],[811,876,809],[728,811,809],[844,728,809],[938,876,888],[936,938,888],[811,936,888],[876,811,888],[770,728,701],[680,770,701],[648,680,701],[728,648,701],[811,770,742],[730,811,742],[680,730,742],[770,680,742],[872,811,799],[821,872,799],[730,821,799],[811,730,799],[936,872,886],[934,936,886],[821,934,886],[872,821,886],[582,575,533],[485,582,533],[478,485,533],[575,478,533],[604,582,545],[507,604,545],[485,507,545],[582,485,545],[620,604,569],[539,620,569],[507,539,569],[604,507,569],[648,620,602],[576,648,602],[539,576,602],[620,539,602],[485,478,466],[452,485,466],[439,452,466],[478,439,466],[507,485,479],[476,507,479],[452,476,479],[485,452,479],[452,439,435],[431,452,435],[420,431,435],[439,420,435],[476,452,458],[464,476,458],[431,464,458],[452,431,458],[539,507,515],[519,539,515],[476,519,515],[507,476,515],[576,539,549],[559,576,549],[519,559,549],[539,519,549],[519,476,489],[501,519,489],[464,501,489],[476,464,489],[559,519,529],[553,559,529],[501,553,529],[519,501,529],[680,648,632],[628,680,632],[576,628,632],[648,576,632],[730,680,678],[685,730,678],[628,685,678],[680,628,678],[821,730,746],[776,821,746],[685,776,746],[730,685,746],[934,821,866],[930,934,866],[776,930,866],[821,776,866],[628,576,598],[614,628,598],[559,614,598],[576,559,598],[685,628,652],[674,685,652],[614,674,652],[628,614,652],[614,559,580],[610,614,580],[553,610,580],[559,553,580],[674,614,636],[668,674,636],[610,668,636],[614,610,636],[776,685,716],[768,776,716],[674,768,716],[685,674,716],[930,776,858],[924,930,858],[768,924,858],[776,768,858],[768,674,709],[764,768,709],[668,764,709],[674,668,709],[924,768,854],[920,924,854],[764,920,854],[768,764,854],[977,938,965],[1042,977,965],[936,1042,965],[938,936,965],[1009,977,1044],[1125,1009,1044],[1042,1125,1044],[977,1042,1044],[981,936,967],[1032,981,967],[934,1032,967],[936,934,967],[1042,981,1054],[1123,1042,1054],[1032,1123,1054],[981,1032,1054],[1083,1042,1111],[1173,1083,1111],[1123,1173,1111],[1042,1123,1111],[1125,1083,1152],[1205,1125,1152],[1173,1205,1152],[1083,1173,1152],[1048,1009,1091],[1160,1048,1091],[1125,1160,1091],[1009,1125,1091],[1063,1048,1119],[1170,1063,1119],[1160,1170,1119],[1048,1160,1119],[1140,1125,1177],[1233,1140,1177],[1205,1233,1177],[1125,1205,1177],[1160,1140,1195],[1249,1160,1195],[1233,1249,1195],[1140,1233,1195],[1164,1160,1215],[1271,1164,1215],[1249,1271,1215],[1160,1249,1215],[1170,1164,1223],[1279,1170,1223],[1271,1279,1223],[1164,1271,1223],[1032,934,987],[1077,1032,987],[930,1077,987],[934,930,987],[1123,1032,1107],[1168,1123,1107],[1077,1168,1107],[1032,1077,1107],[1173,1123,1175],[1225,1173,1175],[1168,1225,1175],[1123,1168,1175],[1205,1173,1221],[1277,1205,1221],[1225,1277,1221],[1173,1225,1221],[1077,930,995],[1085,1077,995],[924,1085,995],[930,924,995],[1168,1077,1137],[1179,1168,1137],[1085,1179,1137],[1077,1085,1137],[1085,924,999],[1089,1085,999],[920,1089,999],[924,920,999],[1179,1085,1144],[1185,1179,1144],[1089,1185,1144],[1085,1089,1144],[1225,1168,1201],[1239,1225,1201],[1179,1239,1201],[1168,1179,1201],[1277,1225,1255],[1294,1277,1255],[1239,1294,1255],[1225,1239,1255],[1239,1179,1217],[1243,1239,1217],[1185,1243,1217],[1179,1185,1217],[1294,1239,1273],[1300,1294,1273],[1243,1300,1273],[1239,1243,1273],[1233,1205,1251],[1314,1233,1251],[1277,1314,1251],[1205,1277,1251],[1249,1233,1284],[1346,1249,1284],[1314,1346,1284],[1233,1314,1284],[1271,1249,1308],[1368,1271,1308],[1346,1368,1308],[1249,1346,1308],[1279,1271,1320],[1376,1279,1320],[1368,1376,1320],[1271,1368,1320],[1314,1277,1304],[1334,1314,1304],[1294,1334,1304],[1277,1294,1304],[1346,1314,1338],[1377,1346,1338],[1334,1377,1338],[1314,1334,1338],[1334,1294,1324],[1352,1334,1324],[1300,1352,1324],[1294,1300,1324],[1377,1334,1364],[1389,1377,1364],[1352,1389,1364],[1334,1352,1364],[1368,1346,1374],[1401,1368,1374],[1377,1401,1374],[1346,1377,1374],[1376,1368,1387],[1415,1376,1387],[1401,1415,1387],[1368,1401,1387],[1401,1377,1395],[1422,1401,1395],[1389,1422,1395],[1377,1389,1395],[1415,1401,1418],[1434,1415,1418],[1422,1434,1418],[1401,1422,1418]];
return{type:"geometry",coreId:e,primitive:d.wire?"lines":"triangles",positions:new Float32Array(b(f,3)),indices:new Uint16Array(b(c(g))),normals:new Float32Array(b(a(f,g),3))}}})}(),function(){"use strict";BIMSURFER.Effect=BIMSURFER.Component.extend({className:"BIMSURFER.Effect",_init:function(a){this.objectSet=a.objectSet||new BIMSURFER.ObjectSet(this.viewer),this._dirty=!0;var b=this;this._onObjectSetUpdated=this.objectSet.on("updated",function(){b._dirty=!0}),this.invert=a.invert,this.active=a.active!==!1},_props:{active:{set:function(a){if(this._active!==a){if(a){var b=this;this._tickSub=this.viewer.on("tick",function(){b._dirty&&(b._apply&&b._apply(),b._applyObject&&(b.viewer.withClasses(["BIMSURFER.Object"],function(a){b._applyObject.call(b,a)}),b.viewer.withClasses(["BIMSURFER.BoxObject"],function(a){b._applyObject.call(b,a)})),b._dirty=!1)})}else this.viewer.off(this._tickSub);this.fire("active",this._active=a),this._dirty=!0}},get:function(){return this._active}},invert:{set:function(a){a=!!a,this._invert!==a&&(this._dirty=!1,this.fire("invert",this._invert=a))},get:function(){return this._invert}}},_destroy:function(){this.objectSet.off(this._onObjectSetUpdated),this.active=!1}})}(),function(){"use strict";BIMSURFER.LabelEffect=BIMSURFER.Effect.extend({className:"BIMSURFER.LabelEffect",_init:function(a){this._super(a)},_applyObject:function(a){var b=this.objectSet.objects[a.id];a.label=this.invert?!b:!!b}})}(),function(){"use strict";BIMSURFER.HighlightEffect=BIMSURFER.Effect.extend({className:"BIMSURFER.HighlightEffect",_init:function(a){this._super(a)},_applyObject:function(a){var b=this.objectSet.objects[a.id];a.highlight=this.invert?!b:!!b}})}(),function(){"use strict";BIMSURFER.DesaturateEffect=BIMSURFER.Effect.extend({className:"BIMSURFER.DesaturateEffect",_init:function(a){this._super(a)},_applyObject:function(a){var b=this.objectSet.objects[a.id];a.desaturate=this.invert?!b:!!b}})}(),function(){"use strict";BIMSURFER.IsolateEffect=BIMSURFER.Effect.extend({className:"BIMSURFER.IsolateEffect",_init:function(a){this._super(a)},_applyObject:function(a){var b=this.objectSet.objects[a.id];a.active=this.invert?!b:!!b}})}(),function(){"use strict";BIMSURFER.XRayEffect=BIMSURFER.Effect.extend({className:"BIMSURFER.XRayEffect",_init:function(a){this._super(a)},_applyObject:function(a){var b=this.objectSet.objects[a.id];a.xray=this.invert?!!b:!b}})}(),function(){"use strict";BIMSURFER.Position=BIMSURFER.Component.extend({className:"BIMSURFER.Position",_init:function(a){this._viewMatrix=this.viewer.viewMatrix,this._projMatrix=this.viewer.projMatrix,this._pos=[0,0,0],this._worldPos=[0,0,0],this._viewPos=[0,0,0],this._projPos=[0,0,0],this._canvasPos=[0,0,0],this._updatedirty=!0,this._worldPosDirty=!0,this._viewPosDirty=!0,this._projPosDirty=!0,this._canvasPosDirty=!0;var b=this;this._onViewMatrix=this.viewer.on("viewMatrix",function(a){b._viewMatrix=a,b._updatedirty=!0,b._viewPosDirty=!0,b._projPosDirty=!0,b._canvasPosDirty=!0}),this._onProjMatrix=this.viewer.on("projMatrix",function(a){b._projMatrix=a,b._updatedirty=!0,b._projPosDirty=!0,b._canvasPosDirty=!0}),this._onTick=this.viewer.on("tick",function(){b._updatedirty&&(b.fire("updated"),b._updatedirty=!1)}),this.pos=a.pos,this.matrix=a.matrix},_props:{pos:{set:function(a){a=a||[0,0,0],(a[0]!==this._pos[0]||a[1]!==this._pos[1]||a[2]!==this._pos[2])&&(this._pos[0]=a[0],this._pos[1]=a[1],this._pos[2]=a[2],this._updatedirty=!0,this._worldPosDirty=!0,this._viewPosDirty=!0,this._projPosDirty=!0,this._canvasPosDirty=!0)},get:function(){return this._pos}},matrix:{set:function(a){a=a||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this._updatedirty=!0,this._worldPosDirty=!0,this._viewPosDirty=!0,this._projPosDirty=!0,this._canvasPosDirty=!0,this._matrix=a},get:function(){return this._matrix}},worldPos:{get:function(){return this._worldPosDirty&&(this._matrix?BIMSURFER.math.transformPoint3(this._matrix,this._pos,this._worldPos):(this._worldPos[0]=this._pos[0],this._worldPos[1]=this._pos[1],this._worldPos[2]=this._pos[2]),this._worldPosDirty=!1),this._worldPos}},viewPos:{get:function(){return this._viewPosDirty&&(BIMSURFER.math.transformPoint3(this._viewMatrix,this.worldPos,this._viewPos),this._viewPos[3]=1,this._viewPosDirty=!1),this._viewPos}},projPos:{get:function(){return this._projPosDirty&&(BIMSURFER.math.transformPoint3(this._projMatrix,this.viewPos,this._projPos),this._projPosDirty=!1),this._projPos}},canvasPos:{get:function(){if(this._canvasPosDirty){var a=this.projPos,b=a[0],c=a[1],d=a[3],e=this.viewer.canvas.canvas;this._canvasPos[0]=Math.round((1+b/d)*e.width/2),this._canvasPos[1]=Math.round((1-c/d)*e.height/2),this._canvasPosDirty=!1}return this._canvasPos}}},_destroy:function(){this.viewer.off(this._onViewMatrix),this.viewer.off(this._onProjMatrix),this.viewer.off(this._onTick)}})}(),function(){"use strict";BIMSURFER.Label=BIMSURFER.Position.extend({className:"BIMSURFER.Label",_init:function(a){this._super(a),this.object=a.object,$(this.viewer.element).append("<div id ='"+this.id+"' style='position:  absolute; line-height=140%; padding:5px; display: none;  border: 1px black solid; top:0px; left: 100px; z-index: 1000; background: lightgray; width:auto; height: auto;'>XXXX</div>"),this.element=$("#"+this.id);var b=this;this.object&&(this._onObjectMatrix=this.object.on("matrix",function(a){b.matrix=a}),this._onObjectDestroy=this.object.on("destroyed",function(){b.object.off(b._onObjectMatrix),b.object=null})),this.text=a.text||"";var c=a.active!==!1;c||(this.active=!1),this.on("updated",function(){var a=b.viewPos,d=b.canvasPos;b.element.css({left:d[0],top:d[1],zIndex:1e5+Math.round(a[2])}),c&&(this.active=!0,c=!1)})},_props:{text:{set:function(a){this._text!==a&&(this.element.html(a),this.fire("text",this._text=a))},get:function(){return this._text}},active:{set:function(a){this._active!==a&&(a?this.element.show():this.element.hide(),this.fire("active",this._active=a))},get:function(){return this._active}}},_destroy:function(){this.object&&(this.object.off(this._onObjectMatrix),this.object.off(this._onObjectDestroy)),this.element.remove()}})}(),function(){"use strict";BIMSURFER.CameraFlyAnimation=BIMSURFER.Component.extend({className:"BIMSURFER.CameraFlyAnimation",_init:function(a){this._look1=[0,0,0],this._eye1=[0,0,0],this._up1=[0,0,0],this._look2=[0,0,0],this._eye2=[0,0,0],this._up2=[0,0,0],this._vec=[0,0,0],this._dist=0,this._flying=!1,this._ok=null,this._onTick=null,this._camera=a.camera,this._tempVec=BIMSURFER.math.vec3(),this._eyeVec=BIMSURFER.math.vec3(),this._lookVec=BIMSURFER.math.vec3(),this._stopFOV=55,this._time1=null,this._time2=null,this.easing=a.easing!==!1,this.duration=a.duration||.5,this.camera=a.camera},flyTo:function(a,b){this._flying&&this.stop(),this._ok=b,this._arc=void 0===a.arc?0:a.arc;var c=this.camera;this._look1=c.look,this._look1=[this._look1[0],this._look1[1],this._look1[2]],this._eye1=c.eye,this._eye1=[this._eye1[0],this._eye1[1],this._eye1[2]],this._up1=c.up,this._up1=[this._up1[0],this._up1[1],this._up1[2]],this._vec=BIMSURFER.math.normalizeVec3(BIMSURFER.math.subVec3(this._eye1,this._look1,[]));var d=a.backOff||.5;if(0>d?d=0:d>1&&(d=1),d=1-d,a.boundary){var e=a.boundary;if(e.xmax<=e.xmin||e.ymax<=e.ymin||e.zmax<=e.zmin)return;var f=a.dist||2.5,g=Math.abs(BIMSURFER.math.lenVec3(this._vec)),h=BIMSURFER.math.getBoundaryDiag(e),i=Math.abs(h/(1+.8*d)/Math.tan(this._stopFOV/2)),j=i/g*f;this._look2=BIMSURFER.math.getBoundaryCenter(e),this._look2=[this._look2[0],this._look2[1],this._look2[2]],a.offset&&(this._look2[0]+=a.offset[0],this._look2[1]+=a.offset[1],this._look2[2]+=a.offset[2]),this._eye2=BIMSURFER.math.addVec3(this._look2,BIMSURFER.math.mulVec3Scalar(this._vec,j,[])),this._up2=BIMSURFER.math.vec3(),this._up2[1]=1}else{var k=a,l=k.look||c.look,m=k.eye||c.eye,n=k.up||c.up,o=c.eye,p=c.look,q=c.up;l?(this._look2[0]=l[0],this._look2[1]=l[1],this._look2[2]=l[2]):(this._look2[0]=p[0],this._look2[1]=p[1],this._look2[2]=p[2]),m?(this._eye2[0]=m[0],this._eye2[1]=m[1],this._eye2[2]=m[2]):(this._eye2[0]=o[0],this._eye2[1]=o[1],this._eye2[2]=o[2]),n?(this._up2[0]=n[0],this._up2[1]=n[1],this._up2[2]=n[2]):(this._up2[0]=q[0],this._up2[1]=q[1],this._up2[2]=q[2])}this.fire("started",a,!0);var r=this;this._time1=(new Date).getTime(),this._time2=this._time1+this._duration,this._tick=this.viewer.on("tick",function(a){r._update(1e3*a.time)}),this._flying=!0},_update:function(a){if(this._flying){a=(new Date).getTime();var b=(a-this._time1)/(this._time2-this._time1);if(b>1)return void this.stop();b=this.easing?this._ease(b,0,1,1):b,this._camera.eye=BIMSURFER.math.lerpVec3(b,0,1,this._eye1,this._eye2,[]),this._camera.look=BIMSURFER.math.lerpVec3(b,0,1,this._look1,this._look2,[]),this._camera.up=BIMSURFER.math.lerpVec3(b,0,1,this._up1,this._up2,[])}},_ease:function(a,b,c,d){return a/=d,-c*a*(a-2)+b},stop:function(){if(this._flying){this.viewer.off(this._tick),this._flying=!1,this._time1=null,this._time2=null,this.fire("stopped",!0,!0);var a=this._ok;a&&(this._ok=!1,a())}},_props:{camera:{set:function(a){this._camera=a,this.stop()},get:function(){return this._camera}},duration:{set:function(a){this._duration=1e3*a,this.stop()},get:function(){return.001*this._duration}}},_destroy:function(){this.stop()}})}(),function(){"use strict";BIMSURFER.Cursor=function(a){this._element=a.element,this._element=document.body,this._stack=[],this._stackLen=0},BIMSURFER.Cursor.prototype.push=function(a){this._element.css("cursor",a),this._stack[this._stackLen++]=a},BIMSURFER.Cursor.prototype.pop=function(){return this._stackLen<=0?(this._element.css("cursor","default"),void(this._stackLen=0)):1===this._stackLen?(this._element.css("cursor","default"),void(this._stackLen=0)):(--this._stackLen,void this._element.css("cursor",this._stack[this._stackLen-1]))}}(),function(){"use strict";BIMSURFER.Viewer=function(a){var b=this;this.className="BIMSURFER.Viewer",this._handleMap=new BIMSURFER.utils.Map,this._locSubs={},this._handleLocs={},this.props={},a=a||{};var c=a.element;if(!c)throw"Param expected: element";"string"==typeof c&&(c=document.getElementById(c)),this.element=c,this.bimServerApi=a.bimServerApi,this.SYSTEM=this;var d="canvas-"+BIMSURFER.math.createUUID(),e=(document.getElementsByTagName("body")[0],document.createElement("div")),f=e.style;f.height="100%",f.width="100%",f.padding="0",f.margin="0",f.background="black",f["float"]="left",e.innerHTML+='<canvas id="'+d+'" style="width: 100%; height: 100%; float: left; margin: 0; padding: 0;"></canvas>',c.appendChild(e),this._canvas=document.getElementById(d),this.scene=SceneJS.createScene({canvasId:d,transparent:!0,nodes:[{type:"library",id:"library"},{type:"lookAt",id:"theLookat",nodes:[{type:"camera",id:"theCamera",nodes:[{id:"lightsRoot",lights:[],nodes:[{type:"translate",id:"theOrigin",nodes:[{id:"contentRoot"}]}]}]}]}]}),this.id=this.scene.getId();this.scene.getCanvas();this.scene.on("tick",function(a){b.fire("tick",{time:.001*a.time,elapsed:.001*(a.time-a.prevTime)})}),this._lookatNode=this.scene.getNode("theLookat"),this._lookatNode.on("matrix",function(a){b.fire("viewMatrix",a)}),this._cameraNode=this.scene.getNode("theCamera"),this._cameraNode.on("matrix",function(a){b.fire("projMatrix",a)}),this._originNode=this.scene.getNode("theOrigin"),this._componentIDMap=new BIMSURFER.utils.Map,this.components={},this._onComponentActive={},this.classes={},this.types={};var g=a.components;if(g)for(var h,i,j,k=0,l=g.length;l>k;k++)h=g[k],i=h.className,i&&(j=window[i],j&&new j(this,h));if(BIMSURFER.utils.isset(a,a.autoStart)){if(!BIMSURFER.Util.isset(a.autoStart.serverUrl,a.autoStart.serverUsername,a.autoStart.serverPassword,a.autoStart.projectOid))return void console.error("Some autostart parameters are missing");var m=this,n=new BIMSURFER.Server(this,a.autoStart.serverUrl,a.autoStart.serverUsername,a.autoStart.serverPassword,!1,!0,!0,function(){if("loggedin"!=n.loginStatus)return m.element.innerHTML="Something went wrong while connecting",void console.error("Something went wrong while connecting");var b=n.getProjectByOid(a.autoStart.projectOid);b.loadScene(BIMSURFER.Util.isset(a.autoStart.revisionOid)?a.autoStart.revisionOid:null,!0)})}this.geometryLoaders=[],this.scene.on("tick",function(){b.geometryLoaders.forEach(function(a){a.process()})}),this.canvas=new BIMSURFER.Canvas(this),this.input=new BIMSURFER.Input(this),this.cursor=new BIMSURFER.Cursor(this),this.camera=new BIMSURFER.Camera(this),this.numObjects=0,this._boundary={xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0},this._center=[0,0,0],this._boundaryDirty=!0,this.origin=a.origin},BIMSURFER.Viewer.prototype._addComponent=function(a){var b=a.id,c=a.className;if(b){if(this.components[b])return void this.error("A component with this ID already exists in this Viewer: "+b)}else b=a.id=this._componentIDMap.addItem({});this.components[b]=a;var d=this.classes[c];if(d||(d=this.classes[c]={}),d[b]=a,a.type){var e=a.type,f=this.types[e];f||(f=this.types[e]={}),f[b]=a}var g=this;a.exclusive===!0&&(a.active&&g.deactivateOthers(a),this._onComponentActive[a.id]=a.on("active",function(b){b&&g._deactivateOthers(a)})),this._boundaryDirty=!0,this.fire("componentCreated",a,!0)},BIMSURFER.Viewer.prototype._deactivateOthers=function(a){this.withClasses([a.className],function(b){b.id!==a.id&&(b.active=!1)})},BIMSURFER.Viewer.prototype._removeComponent=function(a){var b=a.id,c=a.className;return this.components[b]?(delete this.components[b],delete this.classes[c][b],a.type&&delete this.types[a.type][b],this._boundaryDirty=!0,this._componentIDMap.removeItem(b),a.exclusive===!0&&(a.off(this._onComponentActive[a.id]),delete this._onComponentActive[a.id]),void this.fire("componentDestroyed",a,!0)):void console.warn("BIMSURFER.Viewer._removeComponent - Component with this ID is not within Viewer: "+b)},Object.defineProperty(BIMSURFER.Viewer.prototype,"origin",{get:function(){return this._origin},set:function(a){this._origin=a||[0,0,0],this._originNode.setXYZ(this._origin),this._boundaryDirty=!0},enumerable:!0}),Object.defineProperty(BIMSURFER.Viewer.prototype,"viewMatrix",{get:function(){return this._lookatNode.getMatrix()},enumerable:!0}),Object.defineProperty(BIMSURFER.Viewer.prototype,"projMatrix",{get:function(){return this._cameraNode.getMatrix()},enumerable:!0}),Object.defineProperty(BIMSURFER.Viewer.prototype,"boundary",{get:function(){return this._boundaryDirty&&this._rebuildBoundary(),this._boundary},enumerable:!0}),Object.defineProperty(BIMSURFER.Viewer.prototype,"center",{get:function(){return this._boundaryDirty&&this._rebuildBoundary(),this._center},enumerable:!0}),BIMSURFER.Viewer.prototype._rebuildBoundary=function(){if(this._boundaryDirty){if(0===this.numObjects)this._boundary.xmin=-1,this._boundary.ymin=-1,this._boundary.zmin=-1,this._boundary.xmax=1,this._boundary.ymax=1,this._boundary.zmax=1;else{this._boundary.xmin=1e6,this._boundary.ymin=1e6,this._boundary.zmin=1e6,this._boundary.xmax=-1e6,this._boundary.ymax=-1e6,this._boundary.zmax=-1e6;var a,b;for(var c in this.components)this.components.hasOwnProperty(c)&&(a=this.components[c],b=a.boundary,b&&(b.xmin<this._boundary.xmin&&(this._boundary.xmin=b.xmin),b.ymin<this._boundary.ymin&&(this._boundary.ymin=b.ymin),b.zmin<this._boundary.zmin&&(this._boundary.zmin=b.zmin),b.xmax>this._boundary.xmax&&(this._boundary.xmax=b.xmax),b.ymax>this._boundary.ymax&&(this._boundary.ymax=b.ymax),b.zmax>this._boundary.zmax&&(this._boundary.zmax=b.zmax)))}this._center[0]=.5*(this._boundary.xmax+this._boundary.xmin),this._center[1]=.5*(this._boundary.ymax+this._boundary.ymin),this._center[2]=.5*(this._boundary.zmax+this._boundary.zmin),this._boundaryDirty=!1}},BIMSURFER.Viewer.prototype.pick=function(a,b,c){var d=this.scene.pick(a,b,c);if(d){var e=d.name,f=this.components[e];if(f)return{object:f,canvasPos:d.canvasPos,worldPos:d.worldPos}}},BIMSURFER.Viewer.prototype.resize=function(a,b){return},BIMSURFER.Viewer.prototype.withClasses=function(a,b){for(var c,d=0,e=a.length;e>d;d++){c=a[d];var f=this.classes[c];if(f)for(var g in f)f.hasOwnProperty(g)&&b(f[g])}},BIMSURFER.Viewer.prototype.withTypes=function(a,b){for(var c,d=0,e=a.length;e>d;d++){c=a[d];var f=this.types[c];if(f)for(var g in f)f.hasOwnProperty(g)&&b(f[g])}},BIMSURFER.Viewer.prototype.showTypes=function(a,b){this.withTypes(a,function(a){a.active=!0})},BIMSURFER.Viewer.prototype.hideTypes=function(a,b){this.withTypes(a,function(a){a.active=!1})},BIMSURFER.Viewer.prototype.hideRevision=function(a){},BIMSURFER.Viewer.prototype.showRevision=function(a,b){if(!b){b=[];var c=BIMSURFER.constants.defaultTypes;if(c)for(var d=0;d<a.ifcTypes.length;d++)-1!=c.indexOf(a.ifcTypes[d])&&b.push(a.ifcTypes[d]);else this.warn("Property expected in BIMSURFER.constants: defaultTypes")}this.showType(b,a)},BIMSURFER.Viewer.prototype.fire=function(a,b,c){c!==!0&&(this.props[a]=b);var d,e=this._locSubs[a];if(e)for(var f in e)e.hasOwnProperty(f)&&(d=e[f],d.callback.call(d.scope,b))},BIMSURFER.Viewer.prototype.on=function(a,b,c){var d=this._locSubs[a];d||(d={},this._locSubs[a]=d);var e=this._handleMap.addItem();d[e]={scope:c||this,callback:b},this._handleLocs[e]=a;var f=this.props[a];return f&&b.call(c||this,f),e},BIMSURFER.Viewer.prototype.off=function(a){var b=this._handleLocs[a];if(b){delete this._handleLocs[a];var c=this._locSubs[b];c&&delete c[a],this._handleMap.removeItem(a)}},BIMSURFER.Viewer.prototype.once=function(a,b,c){var d=this,e=this.on(a,function(a){d.off(e),b(a)},c)},BIMSURFER.Viewer.prototype.log=function(a){window.console.log("[LOG] BIMSERVER.Viewer: "+a)},BIMSURFER.Viewer.prototype.error=function(a){window.console.error("[ERROR] BIMSERVER.Viewer: "+a)}}();